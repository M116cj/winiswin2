# 🚀 快速入門指南

## ✅ 系統配置

您的交易系統已按以下規格優化：

### 核心配置

```
✅ 取消 1m K線監控（僅 1h/15m/5m）
✅ 波動率優先排序（前200個標的）
✅ 差異化時間框架掃描（1h=每小時, 15m=每15分鐘, 5m=每分鐘）
✅ 智能倉位管理（3實倉 + 無限虛擬倉）
✅ 完整 ML 數據收集（39個特徵精確存儲）
```

---

## 📋 部署前準備清單

### 1. 設置環境變量（Railway）

在 Railway 控制台中設置以下變量：

```bash
# === API 配置 ===
BINANCE_API_KEY=你的_數據_API_Key
BINANCE_API_SECRET=你的_數據_API_Secret

# 交易專用 API（推薦）
BINANCE_TRADING_API_KEY=你的_交易_API_Key
BINANCE_TRADING_API_SECRET=你的_交易_API_Secret

# === Discord 通知 ===
DISCORD_TOKEN=你的_Discord_Bot_Token

# === 交易配置 ===
TRADING_ENABLED=true
MAX_POSITIONS=3
MIN_CONFIDENCE=0.70

# === 掃描配置 ===
TOP_VOLATILITY_SYMBOLS=200
SCAN_INTERVAL=60
```

### 2. 部署到 Railway

```bash
git push origin main
```

Railway 會自動部署。

### 3. 監控系統

檢查日誌：
- ✅ 波動率排序正常
- ✅ 時間框架調度正確
- ✅ API 使用率 < 80%
- ✅ 信號生成穩定

---

## 📊 系統運行邏輯

### 掃描流程

```
每60秒：
1. 獲取648個交易對的24h ticker
2. 按波動率排序，選擇前200個
3. 檢查時間框架調度：
   - 1h: 是否需要更新？（每小時）
   - 15m: 是否需要更新？（每15分鐘）
   - 5m: 始終更新（每分鐘）
4. 並行分析200個交易對（32核心）
5. 生成交易信號（按信心度排序）
6. 執行倉位管理
```

### 倉位管理

```
信號排序：按信心度從高到低

Rank 1-3:  → 實倉執行（最多3個同時持倉）
Rank 4+:   → 虛擬倉位追蹤（包含真實止盈止損）
```

### 入場邏輯

```
5m K線：主要入場信號
15m K線：趨勢確認
1h K線：大趨勢確認

只有當 5m 與 15m/1h 趨勢一致時才入場
```

---

## 🎯 預期性能

### API 使用

```
平均權重：1,557 權重/分鐘
API 限額：2,400 權重/分鐘
使用率：65% ✅
安全邊際：35%
```

### 監控覆蓋

```
總交易對：648 個
監控數量：200 個（波動率最高）
覆蓋率：31%（最活躍標的）
```

### 交易頻率

```
信號生成：20-40 個/小時
實倉執行：3 個同時持倉
虛擬追蹤：無限制
預期交易：5-15 筆/天
```

### ML 數據收集

```
每筆交易：39 個特徵
虛擬倉位：包含真實止盈止損
數據質量：精確且完整
```

---

## 🔧 常見調整

### 增加監控數量

```bash
# 從200增加到300
TOP_VOLATILITY_SYMBOLS=300

# API使用：65% × (300/200) = 97.5% ⚠️
```

### 減少掃描間隔

```bash
# 從60秒改為30秒（需減少監控數量）
TOP_VOLATILITY_SYMBOLS=100
SCAN_INTERVAL=30

# API使用：65% × (100/200) × 2 = 65% ✅
```

### 調整實倉數量

```bash
# 從3增加到5
MAX_POSITIONS=5
```

---

## 📈 監控指標

系統每5分鐘輸出性能報告：

```
============================================================
📊 性能監控報告
============================================================
CPU: 45.2% (32 核心)
內存: 15.50/32.00 GB (48.4%)
運行時間: 2.50 小時
信號生成: 85 個
交易執行: 12 筆 (實倉)
虛擬倉位: 73 個
API 調用: 7,850 次
平均權重: 1,567 權重/分鐘 (65.3% 限額)
虛擬倉勝率: 68.5%
實倉勝率: 75.0%
============================================================
```

---

## ⚠️ 重要提醒

### API 限制

```
權重限制：2,400 權重/分鐘/IP
訂單限制：1,200 訂單/分鐘/API Key

雙 API 配置：
- 數據 API：市場掃描
- 交易 API：下單執行
- 訂單限額翻倍 ✅
```

### 倉位管理

```
最大實倉：3 個
最大槓桿：20x
最大倉位：13% 每筆
目標盈虧比：1:1 - 1:2
```

### 風險控制

```
止損：每筆交易必須設置
止盈：自動計算（1:1 或 1:2）
最大回撤：監控並調整
```

---

## 📚 詳細文檔

1. **[完整配置指南](OPTIMIZED_SCANNING_SYSTEM.md)**
   - API 調用量計算
   - 39個 ML 特徵詳解
   - 性能優化指南

2. **[高頻交易指南](HIGH_FREQUENCY_TRADING_GUIDE.md)**
   - 差異化掃描策略
   - 多種配置方案
   - 監控全幣種策略

3. **[API 優化總結](API_OPTIMIZATION_SUMMARY.md)**
   - 傳統 vs 優化對比
   - 性能提升分析
   - 最佳實踐

---

## ✅ 檢查清單

部署前確認：

- [ ] 設置所有環境變量
- [ ] 配置 Discord 通知
- [ ] 確認 Binance API 權限
- [ ] 部署到 Railway
- [ ] 檢查日誌輸出
- [ ] 監控 API 使用率
- [ ] 驗證信號生成
- [ ] 確認倉位管理
- [ ] 檢查 ML 數據收集

---

## 🎉 完成！

您的 24/7 超高頻自動化交易系統已準備就緒！

**核心優勢**：
- ✅ 監控 200 個最活躍交易對
- ✅ 5m K線高頻入場
- ✅ 智能倉位管理（3實倉 + 虛擬追蹤）
- ✅ 完整 ML 訓練數據
- ✅ API 使用率安全（65%）

部署並監控系統運行！🚀
