# ğŸ—ï¸ Binance é«˜é¢‘äº¤æ˜“ç³»ç»Ÿ - å®Œæ•´æ¶æ„æ–‡æ¡£ v3.11.1

**æ›´æ–°æ—¥æœŸ**: 2025-10-27  
**ç‰ˆæœ¬**: v3.11.1 (ç§»é™¤æŒä»“é™åˆ¶ - æ— é™å€‰ä½)

---

## ğŸ“‹ ç›®å½•

1. [ç³»ç»Ÿæ¦‚è§ˆ](#ç³»ç»Ÿæ¦‚è§ˆ)
2. [æ•´ä½“æ¶æ„](#æ•´ä½“æ¶æ„)
3. [æ ¸å¿ƒæ¨¡å—è¯¦è§£](#æ ¸å¿ƒæ¨¡å—è¯¦è§£)
4. [æ•°æ®æµå›¾](#æ•°æ®æµå›¾)
5. [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
6. [éƒ¨ç½²æ¶æ„](#éƒ¨ç½²æ¶æ„)
7. [å®‰å…¨ä¸é£é™©æ§åˆ¶](#å®‰å…¨ä¸é£é™©æ§åˆ¶)

---

## ğŸ¯ ç³»ç»Ÿæ¦‚è§ˆ

### ç³»ç»Ÿå®šä½
24/7 é«˜é¢‘è‡ªåŠ¨åŒ–äº¤æ˜“ç³»ç»Ÿï¼Œä¸“æ³¨äº Binance USDT æ°¸ç»­åˆçº¦ï¼Œé‡‡ç”¨ ICT/SMC ç­–ç•¥ç»“åˆ XGBoost æœºå™¨å­¦ä¹ å¢å¼ºã€‚

### æ ¸å¿ƒç‰¹æ€§
- âœ… **å¤šæ—¶é—´æ¡†æ¶åˆ†æ**ï¼š1h/15m/5m ä¸‰å±‚ç¡®è®¤
- âœ… **æ™ºèƒ½ä¿¡å·ç­›é€‰**ï¼šICT/SMC + ML åŒé‡éªŒè¯
- âœ… **åŠ¨æ€é£é™©ç®¡ç†**ï¼šæ— æŒä»“é™åˆ¶ + å¤šå±‚é£é™©ä¿æŠ¤
- âœ… **é«˜æ€§èƒ½å¹¶è¡Œå¤„ç†**ï¼š32æ ¸å¿ƒå¹¶è¡Œåˆ†æ 200 ä¸ªäº¤æ˜“å¯¹
- âœ… **å®æ—¶ç›‘æ§é€šçŸ¥**ï¼šDiscord é›†æˆ

### å…³é”®æŒ‡æ ‡
- **ç›‘æ§äº¤æ˜“å¯¹**: 648 ä¸ª â†’ é€‰æ‹©æµåŠ¨æ€§æœ€é«˜çš„ 200 ä¸ª
- **æ‰«æå‘¨æœŸ**: 60 ç§’/å‘¨æœŸ
- **ä¿¡å·ç”Ÿæˆ**: 10-30 ä¸ª/å‘¨æœŸï¼ˆç›®æ ‡ï¼‰
- **æŒä»“æ•°é‡**: æ— é™åˆ¶ï¼ˆv3.11.1ï¼‰
- **é£é™©æ§åˆ¶**: 5æ¬¡è¿ç»­äºæŸ / 15%å›æ’¤è‡ªåŠ¨æš‚åœ

---

## ğŸ›ï¸ æ•´ä½“æ¶æ„

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Railway Cloud Platform                     â”‚
â”‚                   (32vCPU / 32GB RAM / Asia)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Main Coordinator                        â”‚
â”‚                          (src/main.py)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  - ç³»ç»Ÿåˆå§‹åŒ–ä¸ç”Ÿå‘½å‘¨æœŸç®¡ç†                                 â”‚ â”‚
â”‚  â”‚  - ç»„ä»¶åè°ƒä¸é”™è¯¯å¤„ç†                                       â”‚ â”‚
â”‚  â”‚  - 60ç§’ä¸»å¾ªç¯æ§åˆ¶                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚              â”‚              â”‚              â”‚
         â–¼              â–¼              â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Clients   â”‚ â”‚  Services   â”‚ â”‚  Managers   â”‚ â”‚     ML      â”‚
â”‚   Layer     â”‚ â”‚    Layer    â”‚ â”‚    Layer    â”‚ â”‚   Engine    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                â”‚                â”‚                â”‚
      â–¼                â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Binance  â”‚    â”‚   Data   â”‚    â”‚   Risk   â”‚    â”‚ XGBoost  â”‚
â”‚   API    â”‚    â”‚ Service  â”‚    â”‚ Manager  â”‚    â”‚ Training â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ Discord  â”‚    â”‚Parallel  â”‚    â”‚ Virtual  â”‚    â”‚Predictor â”‚
â”‚   Bot    â”‚    â”‚Analyzer  â”‚    â”‚Position  â”‚    â”‚FeatureEngâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚Timeframe â”‚    â”‚ Trade    â”‚    â”‚Ensemble  â”‚
                â”‚Scheduler â”‚    â”‚ Recorder â”‚    â”‚ Models   â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ Trading  â”‚    â”‚Expectancyâ”‚    â”‚ Drift    â”‚
                â”‚ Service  â”‚    â”‚Calculatorâ”‚    â”‚ Detector â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚  Model   â”‚
                                â”‚  Scorer  â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Core Infrastructure                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚    Cache     â”‚  â”‚ Rate Limiter â”‚  â”‚   Circuit    â”‚         â”‚
â”‚  â”‚   Manager    â”‚  â”‚   (1920/min) â”‚  â”‚   Breaker    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      External Integrations                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Binance    â”‚  â”‚   Discord    â”‚  â”‚   Railway    â”‚         â”‚
â”‚  â”‚  Futures API â”‚  â”‚  Webhook     â”‚  â”‚   Platform   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¶æ„å±‚æ¬¡

#### 1ï¸âƒ£ **åº”ç”¨å±‚ (Application Layer)**
- **Main Coordinator** (`main.py`): ä¸»æ§åˆ¶å™¨ï¼Œåè°ƒæ‰€æœ‰æ¨¡å—

#### 2ï¸âƒ£ **ä¸šåŠ¡é€»è¾‘å±‚ (Business Logic Layer)**
- **Services**: æ•°æ®æœåŠ¡ã€å¹¶è¡Œåˆ†æã€æ—¶é—´æ¡†æ¶è°ƒåº¦
- **Strategies**: ICT/SMC ç­–ç•¥å¼•æ“
- **Managers**: é£é™©ç®¡ç†ã€ä»“ä½ç®¡ç†ã€äº¤æ˜“è®°å½•

#### 3ï¸âƒ£ **æœºå™¨å­¦ä¹ å±‚ (ML Layer)**
- **Training**: æ¨¡å‹è®­ç»ƒã€è¶…å‚æ•°è°ƒä¼˜ã€é›†æˆå­¦ä¹ 
- **Prediction**: å®æ—¶é¢„æµ‹ã€ä¸ç¡®å®šæ€§é‡åŒ–
- **Monitoring**: æ¼‚ç§»æ£€æµ‹ã€ç‰¹å¾é‡è¦æ€§è¿½è¸ª

#### 4ï¸âƒ£ **åŸºç¡€è®¾æ–½å±‚ (Infrastructure Layer)**
- **Clients**: Binance API å®¢æˆ·ç«¯ã€Discord é›†æˆ
- **Core**: ç¼“å­˜ç®¡ç†ã€é™æµã€ç†”æ–­å™¨
- **Utils**: æŠ€æœ¯æŒ‡æ ‡è®¡ç®—ã€è¾…åŠ©å‡½æ•°

#### 5ï¸âƒ£ **æ•°æ®å±‚ (Data Layer)**
- **Persistent Storage**: JSON æ–‡ä»¶å­˜å‚¨ï¼ˆäº¤æ˜“è®°å½•ã€è™šæ‹Ÿä»“ä½ã€MLæ•°æ®ï¼‰
- **Cache**: å†…å­˜ç¼“å­˜ï¼ˆKçº¿æ•°æ®ã€è´¦æˆ·ä¿¡æ¯ï¼‰
- **Logs**: æ–‡ä»¶æ—¥å¿—ç³»ç»Ÿ

---

## ğŸ§© æ ¸å¿ƒæ¨¡å—è¯¦è§£

### ğŸ“ 1. ä¸»å…¥å£æ¨¡å— (Main)

**æ–‡ä»¶**: `src/main.py`

**èŒè´£**:
- ç³»ç»Ÿåˆå§‹åŒ–ä¸ç”Ÿå‘½å‘¨æœŸç®¡ç†
- ç»„ä»¶åè°ƒä¸é”™è¯¯å¤„ç†
- 60ç§’ä¸»å¾ªç¯æ§åˆ¶

**æ ¸å¿ƒç±»**:
```python
class TradingBot:
    - initialize(): åˆå§‹åŒ–æ‰€æœ‰ç»„ä»¶
    - run(): ä¸»å¾ªç¯é€»è¾‘
    - scan_and_analyze(): å¸‚åœºæ‰«æä¸ä¿¡å·ç”Ÿæˆ
    - execute_signals(): ä¿¡å·æ‰§è¡Œ
    - monitor_positions(): ä»“ä½ç›‘æ§
```

**å·¥ä½œæµç¨‹**:
```
1. åŠ è½½é…ç½® (Config.validate())
2. åˆå§‹åŒ– Binance å®¢æˆ·ç«¯
3. åˆå§‹åŒ–æ‰€æœ‰ç®¡ç†å™¨å’ŒæœåŠ¡
4. å¯åŠ¨ Discord ç›‘æ§ä»»åŠ¡ï¼ˆå¼‚æ­¥ï¼‰
5. è¿›å…¥ä¸»å¾ªç¯ï¼ˆæ¯60ç§’ï¼‰:
   â”œâ”€ æ‰«æå¸‚åœºï¼ˆDataService.scan_marketï¼‰
   â”œâ”€ å¹¶è¡Œåˆ†æï¼ˆParallelAnalyzer.analyze_symbolsï¼‰
   â”œâ”€ MLé¢„æµ‹ï¼ˆMLPredictor.predictï¼‰
   â”œâ”€ æ‰§è¡Œä¿¡å·ï¼ˆTradingService.execute_signalï¼‰
   â””â”€ ç›‘æ§ä»“ä½ï¼ˆPositionMonitor.monitorï¼‰
```

---

### ğŸ“ 2. é…ç½®ç®¡ç† (Config)

**æ–‡ä»¶**: `src/config.py`

**èŒè´£**:
- ç¯å¢ƒå˜é‡åŠ è½½ä¸éªŒè¯
- å…¨å±€å¸¸é‡å®šä¹‰
- é…ç½®å®Œæ•´æ€§æ£€æŸ¥

**å…³é”®é…ç½®**:
```python
# äº¤æ˜“é…ç½®
MAX_POSITIONS = 999          # v3.11.1: æ— é™åˆ¶
CYCLE_INTERVAL = 60          # æ‰«æå‘¨æœŸï¼ˆç§’ï¼‰
TRADING_ENABLED = False      # é»˜è®¤æ¨¡æ‹Ÿæ¨¡å¼

# é£é™©ç®¡ç†
MIN_LEVERAGE = 3             # æœ€å°æ æ†
MAX_LEVERAGE = 20            # æœ€å¤§æ æ†
MIN_MARGIN_PCT = 0.03        # æœ€å°ä»“ä½3%
MAX_MARGIN_PCT = 0.13        # æœ€å¤§ä»“ä½13%

# ç­–ç•¥é…ç½®
MIN_CONFIDENCE = 0.35        # æœ€å°ä¿¡å¿ƒåº¦35%
ADX_TREND_THRESHOLD = 20.0   # ADXè¶‹åŠ¿é˜ˆå€¼

# ICT/SMCé…ç½®ï¼ˆv3.11.0ï¼‰
OB_REJECTION_THRESHOLD = 0.005   # OBæ‹’ç»ç‡0.5%
OB_VOLUME_MULTIPLIER = 1.5       # OBæˆäº¤é‡1.5x
OB_MAX_HISTORY = 20              # ä¿ç•™20ä¸ªOB

# ç†”æ–­å™¨é…ç½®
GRADED_CIRCUIT_BREAKER_ENABLED = True
CIRCUIT_BREAKER_WARNING_THRESHOLD = 2
CIRCUIT_BREAKER_BLOCKED_THRESHOLD = 5
```

---

### ğŸ“ 3. å®¢æˆ·ç«¯å±‚ (Clients)

#### 3.1 Binance API å®¢æˆ·ç«¯

**æ–‡ä»¶**: `src/clients/binance_client.py`

**èŒè´£**:
- Binance Futures API å°è£…
- è¯·æ±‚é‡è¯•ä¸é”™è¯¯å¤„ç†
- é™æµä¸ç†”æ–­ä¿æŠ¤

**æ ¸å¿ƒæ–¹æ³•**:
```python
class BinanceClient:
    # æ•°æ®è·å–
    - get_klines(symbol, interval, limit): è·å–Kçº¿æ•°æ®
    - get_ticker_price(symbol): è·å–æœ€æ–°ä»·æ ¼
    - get_account_balance(): è·å–è´¦æˆ·ä½™é¢
    - get_all_positions(): è·å–æ‰€æœ‰æŒä»“
    
    # è®¢å•ç®¡ç†
    - create_market_order(symbol, side, quantity, leverage)
    - create_limit_order(symbol, side, price, quantity, leverage)
    - cancel_order(symbol, order_id)
    - set_leverage(symbol, leverage)
    
    # é£é™©æ§åˆ¶
    - _make_request(): ç»Ÿä¸€è¯·æ±‚åŒ…è£…ï¼ˆé™æµ+ç†”æ–­ï¼‰
    - _handle_binance_error(): é”™è¯¯åˆ†ç±»å¤„ç†
```

**é™æµç­–ç•¥**:
- è¯·æ±‚é™åˆ¶: 1920 req/minï¼ˆå®˜æ–¹2400çš„80%ï¼‰
- ä»¤ç‰Œæ¡¶ç®—æ³•
- è‡ªåŠ¨å»¶è¿Ÿé‡è¯•

**ç†”æ–­ç­–ç•¥** (v3.9.2.8.4):
```
Level 1: Warning   (2æ¬¡å¤±è´¥) â†’ è®°å½•è­¦å‘Š
Level 2: Throttled (4æ¬¡å¤±è´¥) â†’ å»¶è¿Ÿ2ç§’
Level 3: Blocked   (5æ¬¡å¤±è´¥) â†’ é˜»æ–­60ç§’
Bypass: ç™½åå•æ“ä½œï¼ˆå¹³ä»“ã€è°ƒæ•´æ­¢æŸç­‰ï¼‰
```

#### 3.2 Discord é›†æˆ

**æ–‡ä»¶**: `src/integrations/discord_bot.py`

**èŒè´£**:
- Discord æœºå™¨äººç®¡ç†
- å®æ—¶é€šçŸ¥æ¨é€
- äº¤æ˜“ç»Ÿè®¡å±•ç¤º

**é€šçŸ¥ç±»å‹**:
- ğŸ”” ä¿¡å·ç”Ÿæˆé€šçŸ¥
- âœ… äº¤æ˜“æ‰§è¡Œé€šçŸ¥
- ğŸ’° ä»“ä½ç›ˆäºæ›´æ–°
- âš ï¸ é£é™©è­¦å‘Š
- ğŸ“Š æ¯æ—¥ç»Ÿè®¡æŠ¥å‘Š

---

### ğŸ“ 4. æœåŠ¡å±‚ (Services)

#### 4.1 æ•°æ®æœåŠ¡

**æ–‡ä»¶**: `src/services/data_service.py`

**èŒè´£**:
- å¸‚åœºæ•°æ®è·å–ä¸ç¼“å­˜
- æ³¢åŠ¨ç‡æ’åº
- å¤šæ—¶é—´æ¡†æ¶æ•°æ®ç®¡ç†

**æ ¸å¿ƒæ–¹æ³•**:
```python
class DataService:
    - scan_market(): æ‰«ææ‰€æœ‰äº¤æ˜“å¯¹ï¼Œé€‰æ‹©å‰200ä¸ªé«˜æµåŠ¨æ€§
    - get_multi_timeframe_data(symbol): è·å–1h/15m/5mæ•°æ®
    - calculate_volatility(df): è®¡ç®—24hæ³¢åŠ¨ç‡
    - _fetch_with_cache(symbol, interval): å¸¦ç¼“å­˜çš„æ•°æ®è·å–
```

**ç¼“å­˜ç­–ç•¥**:
```
1h Kçº¿  â†’ ç¼“å­˜3600ç§’ï¼ˆ1å°æ—¶ï¼‰
15m Kçº¿ â†’ ç¼“å­˜900ç§’ï¼ˆ15åˆ†é’Ÿï¼‰
5m Kçº¿  â†’ ç¼“å­˜300ç§’ï¼ˆ5åˆ†é’Ÿï¼‰
```

#### 4.2 å¹¶è¡Œåˆ†æå™¨

**æ–‡ä»¶**: `src/services/parallel_analyzer.py`

**èŒè´£**:
- 32æ ¸å¿ƒå¹¶è¡Œå¤„ç†
- æ‰¹é‡ä¿¡å·ç”Ÿæˆ
- CPUèµ„æºä¼˜åŒ–

**æ ¸å¿ƒé€»è¾‘**:
```python
class ParallelAnalyzer:
    - analyze_symbols(symbols, multi_tf_data):
        â†’ ä½¿ç”¨ProcessPoolExecutorå¹¶è¡Œåˆ†æ
        â†’ æ¯ä¸ªè¿›ç¨‹ç‹¬ç«‹è¿è¡ŒICTStrategy.analyze()
        â†’ æ”¶é›†æ‰€æœ‰ä¿¡å·å¹¶æŒ‰confidenceæ’åº
```

**æ€§èƒ½ä¼˜åŒ–**:
- åŠ¨æ€CPUæ ¸å¿ƒæ£€æµ‹
- æ‰¹é‡å¤„ç†ï¼ˆbatch_size=50ï¼‰
- è¿›ç¨‹æ± å¤ç”¨

#### 4.3 æ—¶é—´æ¡†æ¶è°ƒåº¦å™¨

**æ–‡ä»¶**: `src/services/timeframe_scheduler.py`

**èŒè´£**:
- å·®å¼‚åŒ–æ‰«æé¢‘ç‡æ§åˆ¶
- APIè¯·æ±‚ä¼˜åŒ–

**è°ƒåº¦ç­–ç•¥**:
```python
1h  â†’ æ¯3600ç§’æ‰«æä¸€æ¬¡ï¼ˆè¶‹åŠ¿ç¡®è®¤ï¼‰
15m â†’ æ¯900ç§’æ‰«æä¸€æ¬¡ï¼ˆè¶‹åŠ¿ç¡®è®¤ï¼‰
5m  â†’ æ¯60ç§’æ‰«æä¸€æ¬¡ï¼ˆå…¥åœºä¿¡å·ï¼‰
```

#### 4.4 äº¤æ˜“æœåŠ¡

**æ–‡ä»¶**: `src/services/trading_service.py`

**èŒè´£**:
- è®¢å•æ‰§è¡Œ
- æ­¢æŸæ­¢ç›ˆè®¾ç½®
- ä¿æŠ¤ç›‘æŠ¤ä»»åŠ¡

**æ ¸å¿ƒåŠŸèƒ½**:
```python
class TradingService:
    - execute_signal(signal, account_balance):
        1. è®¡ç®—ä»“ä½å¤§å°
        2. è®¾ç½®æ æ†
        3. ä¸‹å•ï¼ˆé™ä»·ä¼˜å…ˆï¼Œå¸‚ä»·é™çº§ï¼‰
        4. è®¾ç½®æ­¢æŸ/æ­¢ç›ˆ
        5. å¯åŠ¨ä¿æŠ¤ç›‘æŠ¤ä»»åŠ¡
    
    - _protection_guardian_task():
        â†’ æ¯30ç§’æ£€æŸ¥æ­¢æŸ/æ­¢ç›ˆæ˜¯å¦è®¾ç½®æˆåŠŸ
        â†’ æœ€å¤šå°è¯•10æ¬¡
        â†’ å¤±è´¥æ—¶å¼ºåˆ¶å¹³ä»“
```

---

### ğŸ“ 5. ç­–ç•¥å¼•æ“ (Strategies)

**æ–‡ä»¶**: `src/strategies/ict_strategy.py`

**èŒè´£**:
- ICT/SMC ç†è®ºå®ç°
- å¤šæ—¶é—´æ¡†æ¶åˆ†æ
- ä¿¡å·ç”Ÿæˆä¸ç½®ä¿¡åº¦è¯„åˆ†

**æ ¸å¿ƒæµç¨‹**:
```python
class ICTStrategy:
    def analyze(symbol, multi_tf_data):
        1. æ•°æ®éªŒè¯
        2. è¶‹åŠ¿åˆ¤æ–­ï¼ˆ1h/15m/5mï¼‰
        3. å¸‚åœºç»“æ„åˆ†æ
        4. Order Blocksè¯†åˆ«ï¼ˆv3.11.0è´¨é‡ç­›é€‰ï¼‰
        5. Liquidity Zonesè¯†åˆ«
        6. BOS/CHOCHæ£€æµ‹ï¼ˆv3.11.0æ–°å¢ï¼‰
        7. å¸‚åœºçŠ¶æ€åˆ†ç±»ï¼ˆv3.11.0æ–°å¢ï¼‰
        8. åè½¬é£é™©è¯„ä¼°ï¼ˆv3.11.0æ–°å¢ï¼‰
        9. ä¿¡å·æ–¹å‘åˆ¤æ–­
        10. ç½®ä¿¡åº¦è®¡ç®—ï¼ˆ5ç»´åº¦åŠ æƒï¼‰
        11. æ­¢æŸ/æ­¢ç›ˆè®¡ç®—
        12. è¿”å›ä¿¡å·
```

**äº”ç»´ç½®ä¿¡åº¦è¯„åˆ†ç³»ç»Ÿ**:
```python
confidence_score = (
    trend_alignment    * 40%  +  # ä¸‰æ—¶é—´æ¡†æ¶EMAå¯¹é½
    market_structure   * 20%  +  # ç»“æ„ä¸è¶‹åŠ¿åŒ¹é…
    price_position     * 20%  +  # è·ç¦»Order Blockçš„ATRè·ç¦»
    momentum           * 10%  +  # RSI + MACDåŒå‘ç¡®è®¤
    volatility         * 10%     # å¸ƒæ—å¸¦å®½åº¦åˆ†ä½æ•°
)
```

**ICT/SMC åŠŸèƒ½** (v3.11.0å¢å¼º):

1. **Order Blocks è´¨é‡ç­›é€‰**:
```python
- æˆäº¤é‡éªŒè¯: volume >= 1.5Ã— å‡é‡
- æ‹’ç»ç‡éªŒè¯: wick_height / candle_height >= 0.5%
- è´¨é‡åˆ†æ•°: volumeÃ—30% + bodyÃ—30% + rejectionÃ—40%
- åŠ¨æ€è¡°å‡: æ—¶é—´5%/å¤© + æµ‹è¯•10%/æ¬¡
```

2. **BOS/CHOCH æ£€æµ‹**:
```python
- BOS (Break of Structure): è¶‹åŠ¿å»¶ç»­
  â†’ ä¸Šå‡è¶‹åŠ¿çªç ´swing high
  â†’ ä¸‹é™è¶‹åŠ¿è·Œç ´swing low
  
- CHOCH (Change of Character): è¶‹åŠ¿åè½¬
  â†’ ä¸Šå‡è¶‹åŠ¿å¤±å®ˆswing low
  â†’ ä¸‹é™è¶‹åŠ¿çªç ´swing high
```

3. **å¸‚åœºçŠ¶æ€åˆ†ç±»**:
```python
- trending: ADX>25 + BBå®½åº¦>50åˆ†ä½
- ranging: ADX<20 + ä»·æ ¼åœ¨ä¸­è½¨
- breakout: ä»·æ ¼åœ¨BBå¤– + ADXä¸Šå‡
- drift: ADX 20-25
- choppy: ä½æ³¢åŠ¨ + ADX<15
- transitioning: è¿‡æ¸¡æœŸ
```

4. **åè½¬é¢„è­¦æ»¤ç½‘**:
```python
- æµåŠ¨æ€§æ‰«è¡: Bull/Bear Trapæ£€æµ‹
- RSIèƒŒç¦»: ä»·æ ¼æ–°é«˜ä½†RSIæœªæ–°é«˜
- MACDè¡°å‡: æŸ±çŠ¶å›¾æ”¶æ•›>70%
- é£é™©è¯„åˆ†: >=0.4 è·³è¿‡äº¤æ˜“
```

---

### ğŸ“ 6. ç®¡ç†å™¨å±‚ (Managers)

#### 6.1 é£é™©ç®¡ç†å™¨

**æ–‡ä»¶**: `src/managers/risk_manager.py`

**èŒè´£**:
- åŠ¨æ€æ æ†è°ƒæ•´
- ä»“ä½å¤§å°è®¡ç®—
- è¿ç»­äºæŸä¿æŠ¤
- å›æ’¤ä¿æŠ¤

**æ ¸å¿ƒæ–¹æ³•**:
```python
class RiskManager:
    - calculate_position_size(signal, account_balance):
        â†’ åŸºç¡€ä»“ä½: 10%
        â†’ ä¿¡å¿ƒåº¦è°ƒæ•´: Â±3%ï¼ˆ35%-100% â†’ 3%-13%ï¼‰
        â†’ èƒœç‡è°ƒæ•´: ä¼˜ç§€èƒœç‡+2%
        
    - calculate_leverage(confidence, win_rate):
        â†’ åŸºç¡€æ æ†: 3x
        â†’ ä¿¡å¿ƒåº¦åŠ æˆ: æ¯10%ä¿¡å¿ƒåº¦ +2x
        â†’ èƒœç‡åŠ æˆ: >60% +2x, >70% +3x
        â†’ æœ€å¤§: 20x
        
    - should_trade(account_balance, current_positions):
        âœ… æ£€æŸ¥TRADING_ENABLED
        âŒ v3.11.1: ä¸å†æ£€æŸ¥MAX_POSITIONS
        âœ… æ£€æŸ¥è¿ç»­äºæŸï¼ˆ5æ¬¡è‡ªåŠ¨æš‚åœï¼‰
        âœ… æ£€æŸ¥å›æ’¤ï¼ˆ15%è‡ªåŠ¨æš‚åœï¼‰
        
    - check_account_protection(current_balance):
        â†’ -10% æ—¥äºæŸ: é™ä½æ æ†50%
        â†’ -20% æ—¥äºæŸ: åœæ­¢æ–°ä»“ä½
        â†’ -25% æ€»äºæŸ: ç´§æ€¥åœæ­¢
```

**æ³¢åŠ¨ç‡ç†”æ–­** (v3.10.0):
```python
if current_ATR > 7_day_avg_ATR Ã— 2.0:
    max_leverage = 5  # æ³¢åŠ¨çªå˜æ—¶é™åˆ¶æ æ†
```

#### 6.2 è™šæ‹Ÿä»“ä½ç®¡ç†å™¨

**æ–‡ä»¶**: `src/managers/virtual_position_manager.py`

**èŒè´£**:
- è™šæ‹Ÿä»“ä½è¿½è¸ª
- MLè®­ç»ƒæ•°æ®ç”Ÿæˆ
- è™šæ‹Ÿä»“ä½æ­¢æŸ/æ­¢ç›ˆæ¨¡æ‹Ÿ

**æ ¸å¿ƒé€»è¾‘**:
```python
class VirtualPositionManager:
    - create_virtual_position(signal):
        â†’ è®°å½•å…¥åœºä»·æ ¼ã€æ­¢æŸã€æ­¢ç›ˆ
        â†’ è®¾ç½®è¿‡æœŸæ—¶é—´ï¼ˆ96å°æ—¶ï¼‰
        
    - monitor_virtual_positions():
        â†’ æ¯ä¸ªå‘¨æœŸæ£€æŸ¥æ‰€æœ‰è™šæ‹Ÿä»“ä½
        â†’ æ¨¡æ‹Ÿæ­¢æŸ/æ­¢ç›ˆè§¦å‘
        â†’ è®¡ç®—ç›ˆäº
        â†’ ç”ŸæˆMLè®­ç»ƒæ•°æ®
        
    - _check_virtual_exit(position, current_price):
        if price >= take_profit: å¹³ä»“ï¼ˆç›ˆåˆ©ï¼‰
        if price <= stop_loss: å¹³ä»“ï¼ˆæ­¢æŸï¼‰
        if duration > 96h: è¿‡æœŸå¹³ä»“
```

**MLæ•°æ®ç”Ÿæˆ**:
```python
training_data = {
    'entry_price': ...,
    'exit_price': ...,
    'pnl_pct': ...,
    'is_winner': 1 if pnl > 0 else 0,
    'confidence_score': ...,
    'leverage': ...,
    'rsi_entry': ...,
    # ... 31ä¸ªç‰¹å¾
}
```

#### 6.3 äº¤æ˜“è®°å½•å™¨

**æ–‡ä»¶**: `src/managers/trade_recorder.py`

**èŒè´£**:
- äº¤æ˜“å†å²è®°å½•
- JSONæ–‡ä»¶æŒä¹…åŒ–
- äº¤æ˜“ç»Ÿè®¡ç”Ÿæˆ

#### 6.4 æœŸæœ›å€¼è®¡ç®—å™¨

**æ–‡ä»¶**: `src/managers/expectancy_calculator.py`

**èŒè´£**:
- è®¡ç®—ç­–ç•¥æœŸæœ›å€¼
- èƒœç‡ç»Ÿè®¡
- å¹³å‡ç›ˆäºæ¯”

**å…¬å¼**:
```python
expectancy = (win_rate Ã— avg_win) - (loss_rate Ã— avg_loss)
```

#### 6.5 æ¨¡å‹è¯„åˆ†å™¨

**æ–‡ä»¶**: `src/managers/model_scorer.py`

**èŒè´£**:
- MLæ¨¡å‹è´¨é‡è¯„åˆ†
- åŠ æƒè¯„åˆ†ç®—æ³•

**è¯„åˆ†å…¬å¼** (v3.9.2.8.5):
```python
model_score = (
    PnL          Ã— 50%  +
    Confidence   Ã— 30%  +
    Win_Rate     Ã— 20%
)
```

---

### ğŸ“ 7. æœºå™¨å­¦ä¹ å¼•æ“ (ML)

#### 7.1 æ¨¡å‹è®­ç»ƒå™¨

**æ–‡ä»¶**: `src/ml/model_trainer.py`

**èŒè´£**:
- XGBoostæ¨¡å‹è®­ç»ƒ
- è¶…å‚æ•°è°ƒä¼˜ï¼ˆå¯é€‰ï¼‰
- é›†æˆå­¦ä¹ ï¼ˆå¯é€‰ï¼‰
- å¢é‡å­¦ä¹ æ”¯æŒ

**è®­ç»ƒæµç¨‹**:
```python
class XGBoostTrainer:
    def train():
        1. åŠ è½½è®­ç»ƒæ•°æ®
        2. æ ‡ç­¾æ³„æ¼éªŒè¯ï¼ˆv3.10.0å¼ºåŒ–ï¼‰
        3. åŠ¨æ€æ»‘åŠ¨çª—å£ï¼ˆ500-2000æ ·æœ¬ï¼‰
        4. å‡†å¤‡ç›®æ ‡å˜é‡ï¼ˆrisk_adjustedï¼‰
        5. å‡†å¤‡ç‰¹å¾çŸ©é˜µï¼ˆ31ä¸ªç‰¹å¾ï¼‰
        6. ç±»åˆ«å¹³è¡¡å¤„ç†
        7. ç‰¹å¾æ¼‚ç§»æ£€æµ‹
        8. è®¡ç®—æ ·æœ¬æƒé‡:
           - ç±»åˆ«æƒé‡ï¼ˆå°‘æ•°ç±»ï¼‰
           - æ—¶é—´è¡°å‡æƒé‡ï¼ˆæ–°æ•°æ®ï¼‰
           - è´¨é‡æƒé‡ï¼ˆå®Œç¾äº¤æ˜“3xï¼‰
        9. è¶…å‚æ•°è°ƒä¼˜ï¼ˆå¯é€‰ï¼‰
        10. æ¨¡å‹è®­ç»ƒï¼ˆXGBoostï¼‰
        11. æ¨¡å‹è¯„ä¼°
        12. ä¿å­˜æ¨¡å‹
```

**ç›®æ ‡ç±»å‹**:
```python
# å½“å‰é»˜è®¤: risk_adjusted
target = pnl_pct / atr_entry

# å…¶ä»–é€‰é¡¹:
# - binary: is_winner (1/0)
# - pnl_pct: æ”¶ç›Šç‡ç™¾åˆ†æ¯”
```

**XGBoostå‚æ•°**:
```python
{
    'max_depth': 6,
    'learning_rate': 0.1,
    'n_estimators': 200,
    'subsample': 0.8,
    'colsample_bytree': 0.8,
    'objective': 'reg:squarederror',  # å›å½’
    'eval_metric': 'rmse',
    'n_jobs': <åŠ¨æ€CPUæ ¸å¿ƒæ•°>
}
```

#### 7.2 æ•°æ®å¤„ç†å™¨

**æ–‡ä»¶**: `src/ml/data_processor.py`

**èŒè´£**:
- ç‰¹å¾å·¥ç¨‹
- æ•°æ®éªŒè¯
- è®­ç»ƒ/æµ‹è¯•åˆ†å‰²

**31ä¸ªç‰¹å¾**:
```python
# åŸºç¡€ç‰¹å¾ï¼ˆ19ä¸ªï¼‰
basic_features = [
    'confidence_score', 'leverage', 'position_value',
    'risk_reward_ratio', 'order_blocks_count', 'liquidity_zones_count',
    'rsi_entry', 'macd_entry', 'macd_signal_entry', 'macd_histogram_entry',
    'atr_entry', 'bb_width_pct', 'volume_sma_ratio',
    'price_vs_ema50', 'price_vs_ema200',
    'trend_1h_encoded', 'trend_15m_encoded', 'trend_5m_encoded',
    'market_structure_encoded', 'direction_encoded'
]

# å¢å¼ºç‰¹å¾ï¼ˆ12ä¸ªï¼‰
enhanced_features = [
    'hour_of_day', 'day_of_week', 'is_weekend',
    'stop_distance_pct', 'tp_distance_pct',
    'confidence_x_leverage', 'rsi_x_trend', 'atr_x_bb_width',
    'price_momentum_strength', 'volatility_x_confidence',
    'rsi_distance_from_neutral', 'macd_strength_ratio',
    'trend_alignment_score'
]
```

#### 7.3 é¢„æµ‹å™¨

**æ–‡ä»¶**: `src/ml/predictor.py`

**èŒè´£**:
- å®æ—¶é¢„æµ‹
- æ‰¹é‡é¢„æµ‹
- é¢„æµ‹ç»“æœåå¤„ç†

**é¢„æµ‹æµç¨‹**:
```python
class MLPredictor:
    def predict(signal):
        1. æå–ç‰¹å¾ï¼ˆ31ä¸ªï¼‰
        2. åŠ è½½æ¨¡å‹
        3. é¢„æµ‹
        4. åå¤„ç†ï¼ˆæ¦‚ç‡â†’0/1 æˆ– å›å½’å€¼ï¼‰
        5. è¿”å›ç»“æœ
```

#### 7.4 æ ‡ç­¾æ³„æ¼éªŒè¯å™¨

**æ–‡ä»¶**: `src/ml/label_leakage_validator.py`

**èŒè´£**:
- æ£€æµ‹æœªæ¥ä¿¡æ¯æ³„æ¼
- é«˜ç›¸å…³æ€§ç‰¹å¾è¯†åˆ«
- é˜»æ­¢æ³„æ¼è®­ç»ƒï¼ˆv3.10.0ï¼‰

**éªŒè¯é€»è¾‘**:
```python
class LabelLeakageValidator:
    def validate_training_data(df):
        1. æ£€æŸ¥ç¦ç”¨ç‰¹å¾ï¼ˆpnl, exit, hold_durationç­‰ï¼‰
        2. è®¡ç®—ç‰¹å¾ä¸æ ‡ç­¾çš„ç›¸å…³æ€§
        3. æ ‡è®°>0.95ç›¸å…³æ€§çš„ç‰¹å¾ï¼ˆæ½œåœ¨æ³„æ¼ï¼‰
        4. æ£€æµ‹åˆ°ä¸¥é‡æ³„æ¼æ—¶è¿”å›é”™è¯¯
        5. é˜»æ­¢è®­ç»ƒ
```

#### 7.5 å…¶ä»–MLç»„ä»¶

**è¶…å‚æ•°è°ƒä¼˜å™¨** (`hyperparameter_tuner.py`):
- RandomizedSearchCV
- 5-fold äº¤å‰éªŒè¯

**é›†æˆæ¨¡å‹** (`ensemble_model.py`):
- XGBoost + LightGBM + CatBoost
- Soft Voting

**æ¼‚ç§»æ£€æµ‹å™¨** (`drift_detector.py`):
- ç‰¹å¾åˆ†å¸ƒæ¼‚ç§»æ£€æµ‹
- å¤šå˜é‡æ¼‚ç§»ï¼ˆMMDï¼‰
- åŠ¨æ€çª—å£è°ƒæ•´

**ä¸ç¡®å®šæ€§é‡åŒ–** (`uncertainty_quantifier.py`):
- Quantile Regression
- ç½®ä¿¡åŒºé—´ä¼°è®¡

**ç‰¹å¾é‡è¦æ€§ç›‘æ§** (`feature_importance_monitor.py`):
- å®æ—¶è¿½è¸ªç‰¹å¾è´¡çŒ®
- æ£€æµ‹é‡è¦æ€§æ¼‚ç§»

**ç±»åˆ«å¹³è¡¡å¤„ç†** (`imbalance_handler.py`):
- æ ·æœ¬æƒé‡è®¡ç®—
- ç±»åˆ«å¹³è¡¡åˆ†æ

**è‡ªé€‚åº”å­¦ä¹ å™¨** (`adaptive_learner.py`):
- åŠ¨æ€å­¦ä¹ ç‡è°ƒæ•´
- åŠ¨æ€æ ‘æ•°é‡è°ƒæ•´

**ç‰¹å¾ç¼“å­˜** (`feature_cache.py`):
- MD5å“ˆå¸Œç¼“å­˜
- 1å°æ—¶TTL
- ç‰¹å¾è®¡ç®—åŠ é€Ÿ60-80%

---

### ğŸ“ 8. æ ¸å¿ƒåŸºç¡€è®¾æ–½ (Core)

#### 8.1 ç¼“å­˜ç®¡ç†å™¨

**æ–‡ä»¶**: `src/core/cache_manager.py`

**èŒè´£**:
- å†…å­˜ç¼“å­˜ç®¡ç†
- æ—¶é—´æˆ³ç‰ˆæœ¬æ§åˆ¶
- ç¼“å­˜å‘½ä¸­ç‡ç»Ÿè®¡

**ç¼“å­˜ç­–ç•¥**:
```python
cache_key = f"{symbol}_{interval}_{timestamp}"
# æ—¶é—´æˆ³ç²¾ç¡®åˆ°åˆ†é’Ÿï¼Œç¡®ä¿åŒä¸€åˆ†é’Ÿå†…å¤ç”¨
```

#### 8.2 é™æµå™¨

**æ–‡ä»¶**: `src/core/rate_limiter.py`

**èŒè´£**:
- ä»¤ç‰Œæ¡¶ç®—æ³•
- APIè¯·æ±‚é™æµ
- 1920 req/min

#### 8.3 ç†”æ–­å™¨

**æ–‡ä»¶**: `src/core/circuit_breaker.py`

**èŒè´£**:
- ä¸‰çº§ç†”æ–­ä¿æŠ¤
- ç™½åå•bypass
- è‡ªåŠ¨æ¢å¤

**ä¸‰çº§ç†”æ–­** (v3.9.2.8.4):
```python
Level 1: WARNING   (2æ¬¡å¤±è´¥) â†’ è®°å½•è­¦å‘Š
Level 2: CRITICAL  (4æ¬¡å¤±è´¥) â†’ å»¶è¿Ÿ2ç§’
Level 3: EMERGENCY (5æ¬¡å¤±è´¥) â†’ é˜»æ–­60ç§’
```

---

### ğŸ“ 9. ç›‘æ§æ¨¡å— (Monitoring)

#### 9.1 å¥åº·ç›‘æ§

**æ–‡ä»¶**: `src/monitoring/health_monitor.py`

**èŒè´£**:
- ç³»ç»Ÿå¥åº·æ£€æŸ¥
- ç»„ä»¶çŠ¶æ€ç›‘æ§

#### 9.2 æ€§èƒ½ç›‘æ§

**æ–‡ä»¶**: `src/monitoring/performance_monitor.py`

**èŒè´£**:
- æ€§èƒ½æŒ‡æ ‡è¿½è¸ª
- ç¼“å­˜å‘½ä¸­ç‡
- APIå“åº”æ—¶é—´

---

### ğŸ“ 10. å·¥å…·å±‚ (Utils)

#### 10.1 æŠ€æœ¯æŒ‡æ ‡

**æ–‡ä»¶**: `src/utils/indicators.py`

**èŒè´£**:
- æ‰€æœ‰æŠ€æœ¯æŒ‡æ ‡è®¡ç®—
- ICT/SMCåŠŸèƒ½å®ç°

**å‡½æ•°åˆ—è¡¨**:
```python
# åŸºç¡€æŒ‡æ ‡
- calculate_ema(df, period)
- calculate_macd(df)
- calculate_rsi(df, period)
- calculate_atr(df, period)
- calculate_bollinger_bands(df, period)
- calculate_adx(df, period)
- calculate_ema_slope(df, period)

# ICT/SMCåŠŸèƒ½
- identify_order_blocks(df, lookback, volume_multiplier, rejection_threshold, max_history)
- calculate_ob_decay_factor(ob, time_decay_hours, decay_rate, max_test_count)
- identify_swing_points(df, lookback)
- determine_market_structure(df)

# v3.11.0æ–°å¢
- detect_bos_choch(df, swing_lookback)
- classify_market_regime(df, adx_trend, adx_strong, bb_period)
- detect_reversal_risk(df, liquidity_sweep_threshold, rsi_extreme_bull, rsi_extreme_bear, macd_convergence_ratio)
```

#### 10.2 è¾…åŠ©å‡½æ•°

**æ–‡ä»¶**: `src/utils/helpers.py`

**èŒè´£**:
- æ—¶é—´è½¬æ¢
- æ•°å€¼æ ¼å¼åŒ–
- å…¶ä»–é€šç”¨å‡½æ•°

---

## ğŸ“Š æ•°æ®æµå›¾

### ä¸»å¾ªç¯æ•°æ®æµ

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Main Loop      â”‚
                    â”‚  (æ¯60ç§’)       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ DataService      â”‚
                    â”‚ scan_market()    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  é€‰æ‹©200ä¸ªé«˜æµåŠ¨æ€§äº¤æ˜“å¯¹    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ ParallelAnalyzer â”‚
                    â”‚ 32æ ¸å¿ƒå¹¶è¡Œåˆ†æ   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  ICTStrategy.analyze()      â”‚
              â”‚  - è¶‹åŠ¿åˆ†æ                 â”‚
              â”‚  - Order Blocksè¯†åˆ«         â”‚
              â”‚  - BOS/CHOCHæ£€æµ‹            â”‚
              â”‚  - å¸‚åœºçŠ¶æ€åˆ†ç±»             â”‚
              â”‚  - åè½¬é£é™©è¯„ä¼°             â”‚
              â”‚  - ç½®ä¿¡åº¦è®¡ç®—               â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ MLPredictor      â”‚
                    â”‚ predict()        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ RiskManager      â”‚
                    â”‚ should_trade()   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ TradingService   â”‚
                    â”‚ execute_signal() â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                             â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ çœŸå®äº¤æ˜“æ‰§è¡Œ     â”‚        â”‚ è™šæ‹Ÿä»“ä½è®°å½•     â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                             â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ PositionMonitor  â”‚        â”‚VirtualPositionMgrâ”‚
     â”‚ ç›‘æ§çœŸå®ä»“ä½     â”‚        â”‚ ç›‘æ§è™šæ‹Ÿä»“ä½     â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                             â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ TradeRecorder    â”‚
                    â”‚ è®°å½•äº¤æ˜“æ•°æ®     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ ML Training Data â”‚
                    â”‚ (ml_data/)       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### MLè®­ç»ƒæ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Virtual Positionsâ”‚
â”‚ è™šæ‹Ÿä»“ä½æ•°æ®     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TradeRecorder    â”‚
â”‚ æ”¶é›†ç‰¹å¾+æ ‡ç­¾    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ml_data/         â”‚
â”‚ training_*.json  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ XGBoostTrainer   â”‚
â”‚ train()          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. åŠ è½½æ•°æ®      â”‚
â”‚ 2. æ³„æ¼éªŒè¯      â”‚
â”‚ 3. ç‰¹å¾å·¥ç¨‹      â”‚
â”‚ 4. æ ·æœ¬æƒé‡      â”‚
â”‚ 5. è®­ç»ƒæ¨¡å‹      â”‚
â”‚ 6. è¯„ä¼°ä¿å­˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ data/models/     â”‚
â”‚ xgboost_model.pklâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MLPredictor      â”‚
â”‚ predict()        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæŠ€æœ¯

| ç±»åˆ« | æŠ€æœ¯ | ç”¨é€” |
|------|------|------|
| **è¯­è¨€** | Python 3.11+ | ä¸»å¼€å‘è¯­è¨€ |
| **å¼‚æ­¥æ¡†æ¶** | asyncio, aiohttp | å¼‚æ­¥I/Oå¤„ç† |
| **å¹¶è¡Œè®¡ç®—** | multiprocessing | 32æ ¸å¿ƒå¹¶è¡Œåˆ†æ |
| **æœºå™¨å­¦ä¹ ** | XGBoost, LightGBM, CatBoost | æ¨¡å‹è®­ç»ƒä¸é¢„æµ‹ |
| **æ•°æ®å¤„ç†** | pandas, numpy | æ•°æ®å¤„ç†ä¸è®¡ç®— |
| **æŠ€æœ¯åˆ†æ** | ta-libï¼ˆå¯é€‰ï¼‰| æŠ€æœ¯æŒ‡æ ‡è®¡ç®— |
| **APIå®¢æˆ·ç«¯** | ccxtï¼ˆæœªä½¿ç”¨ï¼‰, è‡ªå®ç° | Binance API |
| **ç¼“å­˜** | å†…å­˜å­—å…¸ | æ•°æ®ç¼“å­˜ |
| **å­˜å‚¨** | JSONæ–‡ä»¶ | æŒä¹…åŒ–å­˜å‚¨ |
| **æ—¥å¿—** | logging | æ—¥å¿—ç³»ç»Ÿ |
| **éƒ¨ç½²** | Railway | äº‘éƒ¨ç½²å¹³å° |
| **é€šçŸ¥** | Discord.py | Discordé›†æˆ |

### ä¾èµ–åº“

**æ ¸å¿ƒä¾èµ–** (`requirements.txt`):
```
pandas>=2.0.0
numpy>=1.24.0
xgboost>=2.0.0
lightgbm>=4.0.0
catboost>=1.2.0
scikit-learn>=1.3.0
aiohttp>=3.9.0
discord.py>=2.3.0
```

---

## ğŸš€ éƒ¨ç½²æ¶æ„

### Railway éƒ¨ç½²æ‹“æ‰‘

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Railway Platform                        â”‚
â”‚                                                             â”‚
â”‚  Region: Asia (Singapore/Tokyo)                            â”‚
â”‚  Instance: 32vCPU / 32GB RAM                               â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚               Trading Bot Container                   â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Environment Variables:                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - BINANCE_API_KEY                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - BINANCE_API_SECRET                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - DISCORD_TOKEN                               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - TRADING_ENABLED=true                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - MAX_POSITIONS=999                           â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Persistent Volume:                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  /app/data/                                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ logs/                                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ models/                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ trades.json                               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€ virtual_positions.json                    â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Network:                                       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Outbound: Binance API (ä½å»¶è¿Ÿ)              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Outbound: Discord Webhook                   â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                             â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  Binance Futuresâ”‚          â”‚  Discord Server â”‚
     â”‚  API (Asia)     â”‚          â”‚  Notifications  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æœ¬åœ°å¼€å‘æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Local Development                        â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  python -m src.main                                   â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚  TRADING_ENABLED=false (æ¨¡æ‹Ÿæ¨¡å¼)                     â”‚ â”‚
â”‚  â”‚  Binance Testnet (å¯é€‰)                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”’ å®‰å…¨ä¸é£é™©æ§åˆ¶

### å¤šå±‚é£é™©æ§åˆ¶æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç¬¬ä¸€å±‚ï¼šä¿¡å·è´¨é‡æ§åˆ¶                     â”‚
â”‚  - MIN_CONFIDENCE >= 35%                                   â”‚
â”‚  - ADXè¶‹åŠ¿è¿‡æ»¤ï¼ˆ>= 20ï¼‰                                    â”‚
â”‚  - Order Blockè´¨é‡ç­›é€‰ï¼ˆv3.11.0ï¼‰                          â”‚
â”‚  - BOS/CHOCHç»“æ„éªŒè¯ï¼ˆv3.11.0ï¼‰                            â”‚
â”‚  - å¸‚åœºçŠ¶æ€ç­›é€‰ï¼ˆtrending/breakout onlyï¼‰ï¼ˆv3.11.0ï¼‰       â”‚
â”‚  - åè½¬é£é™©è¯„ä¼°ï¼ˆ<0.4ï¼‰ï¼ˆv3.11.0ï¼‰                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç¬¬äºŒå±‚ï¼šMLé¢„æµ‹éªŒè¯                       â”‚
â”‚  - XGBoosté¢„æµ‹ï¼ˆrisk_adjustedæ¨¡å‹ï¼‰                       â”‚
â”‚  - æ ‡ç­¾æ³„æ¼æ£€æµ‹ï¼ˆv3.10.0å¼ºåŒ–ï¼‰                             â”‚
â”‚  - ç‰¹å¾æ¼‚ç§»ç›‘æ§                                            â”‚
â”‚  - ä¸ç¡®å®šæ€§é‡åŒ–                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç¬¬ä¸‰å±‚ï¼šé£é™©ç®¡ç†                         â”‚
â”‚  - v3.11.1: æ— æŒä»“æ•°é‡é™åˆ¶                                 â”‚
â”‚  - åŠ¨æ€æ æ†è°ƒæ•´ï¼ˆ3x-20xï¼‰                                  â”‚
â”‚  - åŠ¨æ€ä»“ä½å¤§å°ï¼ˆ3%-13%ï¼‰                                  â”‚
â”‚  - è¿ç»­äºæŸä¿æŠ¤ï¼ˆ5æ¬¡æš‚åœï¼‰                                 â”‚
â”‚  - å›æ’¤ä¿æŠ¤ï¼ˆ15%æš‚åœï¼‰                                     â”‚
â”‚  - æ³¢åŠ¨ç‡ç†”æ–­ï¼ˆv3.10.0ï¼‰                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç¬¬å››å±‚ï¼šæ‰§è¡Œä¿æŠ¤                         â”‚
â”‚  - é™ä»·å•ä¼˜å…ˆï¼ˆé™ä½æ»‘ç‚¹ï¼‰                                  â”‚
â”‚  - ä¿æŠ¤ç›‘æŠ¤ä»»åŠ¡ï¼ˆç¡®ä¿æ­¢æŸ/æ­¢ç›ˆï¼‰                           â”‚
â”‚  - è®¢å•é‡è¯•æœºåˆ¶ï¼ˆæœ€å¤š5æ¬¡ï¼‰                                 â”‚
â”‚  - ç†”æ–­å™¨bypassï¼ˆå¹³ä»“ä¼˜å…ˆï¼‰                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç¬¬äº”å±‚ï¼šè´¦æˆ·ä¿æŠ¤                         â”‚
â”‚  - æ—¥äºæŸ-10%: é™ä½æ æ†50%                                 â”‚
â”‚  - æ—¥äºæŸ-20%: åœæ­¢æ–°ä»“ä½                                  â”‚
â”‚  - æ€»äºæŸ-25%: ç´§æ€¥åœæ­¢                                    â”‚
â”‚  - APIé™æµä¿æŠ¤ï¼ˆ1920 req/minï¼‰                             â”‚
â”‚  - ä¸‰çº§ç†”æ–­ä¿æŠ¤                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®‰å…¨æ£€æŸ¥æ¸…å•

**æ•°æ®å®‰å…¨**:
- âœ… ç¯å¢ƒå˜é‡å­˜å‚¨APIå¯†é’¥
- âœ… å¯†é’¥ä¸å†™å…¥æ—¥å¿—
- âœ… å¯†é’¥ä¸æäº¤åˆ°Git

**äº¤æ˜“å®‰å…¨**:
- âœ… é»˜è®¤æ¨¡æ‹Ÿæ¨¡å¼ï¼ˆTRADING_ENABLED=falseï¼‰
- âœ… å¼ºåˆ¶æ­¢æŸä¿æŠ¤
- âœ… ä¿æŠ¤ç›‘æŠ¤ä»»åŠ¡
- âœ… å¤šå±‚ç†”æ–­æœºåˆ¶

**ä»£ç å®‰å…¨**:
- âœ… æ ‡ç­¾æ³„æ¼éªŒè¯ï¼ˆé˜»æ­¢è®­ç»ƒï¼‰
- âœ… ç‰¹å¾éªŒè¯ï¼ˆç¦ç”¨æœªæ¥ä¿¡æ¯ï¼‰
- âœ… å¼‚å¸¸å¤„ç†ä¸æ—¥å¿—è®°å½•

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### ç³»ç»Ÿæ€§èƒ½

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| **æ‰«æå‘¨æœŸ** | 60ç§’ | ä¸»å¾ªç¯é—´éš” |
| **å¹¶è¡Œæ ¸å¿ƒ** | 32æ ¸ | å……åˆ†åˆ©ç”¨32vCPU |
| **åˆ†æé€Ÿåº¦** | ~6ç§’ | 200ä¸ªäº¤æ˜“å¯¹å®Œæ•´åˆ†æ |
| **ç¼“å­˜å‘½ä¸­ç‡** | 60-80% | Kçº¿æ•°æ®ç¼“å­˜ |
| **APIè¯·æ±‚** | <1920/min | 80%å®˜æ–¹é™é¢ |

### MLæ¨¡å‹æ€§èƒ½

| æŒ‡æ ‡ | ç›®æ ‡ | è¯´æ˜ |
|------|------|------|
| **è®­ç»ƒå‡†ç¡®ç‡** | 75-82% | å›å½’/åˆ†ç±»å‡†ç¡®ç‡ |
| **ROC-AUC** | 0.80-0.85 | åˆ†ç±»æ¨¡å¼ |
| **è®­ç»ƒé€Ÿåº¦** | 5-10å€ | GPUåŠ é€Ÿï¼ˆæœ‰GPUæ—¶ï¼‰ |
| **å¢é‡å­¦ä¹ ** | 70-80% | è®­ç»ƒåŠ é€Ÿ |

### äº¤æ˜“æ€§èƒ½

| æŒ‡æ ‡ | ç›®æ ‡ | è¯´æ˜ |
|------|------|------|
| **ä¿¡å·ç”Ÿæˆ** | 10-30/å‘¨æœŸ | ç­›é€‰åçš„é«˜è´¨é‡ä¿¡å· |
| **èƒœç‡** | 60-80% | æœŸæœ›èƒœç‡ |
| **é£é™©æ”¶ç›Šæ¯”** | 1:1 - 1:2 | åŠ¨æ€è°ƒæ•´ |
| **æœ€å¤§å›æ’¤** | <15% | è§¦å‘æš‚åœäº¤æ˜“ |

---

## ğŸ”§ é…ç½®æ–‡ä»¶è¯´æ˜

### ä¸»é…ç½®æ–‡ä»¶

**ä½ç½®**: `src/config.py`

**å…³é”®é…ç½®æ®µ**:

```python
# ===== äº¤æ˜“é…ç½® =====
MAX_POSITIONS = 999          # v3.11.1: æ— é™æŒä»“
CYCLE_INTERVAL = 60          # æ‰«æå‘¨æœŸ
TRADING_ENABLED = False      # é»˜è®¤æ¨¡æ‹Ÿæ¨¡å¼

# ===== é£é™©é…ç½® =====
MIN_LEVERAGE = 3
MAX_LEVERAGE = 20
MIN_MARGIN_PCT = 0.03
MAX_MARGIN_PCT = 0.13
MIN_CONFIDENCE = 0.35

# ===== ç­–ç•¥é…ç½® =====
EMA_FAST = 20
EMA_SLOW = 50
ADX_TREND_THRESHOLD = 20.0
VOLATILITY_CIRCUIT_BREAKER_ENABLED = True

# ===== ICT/SMCé…ç½®ï¼ˆv3.11.0ï¼‰=====
OB_REJECTION_THRESHOLD = 0.005
OB_VOLUME_MULTIPLIER = 1.5
OB_MAX_HISTORY = 20
OB_DECAY_ENABLED = True

# ===== ç¼“å­˜é…ç½® =====
CACHE_TTL_KLINES_1H = 3600
CACHE_TTL_KLINES_15M = 900
CACHE_TTL_KLINES_5M = 300

# ===== ç†”æ–­å™¨é…ç½® =====
GRADED_CIRCUIT_BREAKER_ENABLED = True
CIRCUIT_BREAKER_WARNING_THRESHOLD = 2
CIRCUIT_BREAKER_BLOCKED_THRESHOLD = 5
```

### ç¯å¢ƒå˜é‡é…ç½®

**å¿…éœ€å˜é‡**:
```bash
BINANCE_API_KEY=<ä½ çš„APIå¯†é’¥>
BINANCE_API_SECRET=<ä½ çš„APIå¯†é’¥>
DISCORD_TOKEN=<Discord Bot Token>
SESSION_SECRET=<éšæœºå­—ç¬¦ä¸²>
```

**å¯é€‰å˜é‡**:
```bash
BINANCE_TESTNET=true           # æµ‹è¯•ç½‘æ¨¡å¼
TRADING_ENABLED=true           # å¯ç”¨çœŸå®äº¤æ˜“
MAX_POSITIONS=999              # æŒä»“é™åˆ¶ï¼ˆé»˜è®¤999ï¼‰
LOG_LEVEL=INFO                 # æ—¥å¿—çº§åˆ«
TOP_LIQUIDITY_SYMBOLS=200      # ç›‘æ§äº¤æ˜“å¯¹æ•°é‡
```

---

## ğŸ“‚ ç›®å½•ç»“æ„æ€»è§ˆ

```
.
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ main.py                   # ä¸»å…¥å£
â”‚   â”œâ”€â”€ config.py                 # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ clients/                  # å®¢æˆ·ç«¯å±‚
â”‚   â”‚   â”œâ”€â”€ binance_client.py
â”‚   â”‚   â””â”€â”€ binance_errors.py
â”‚   â”œâ”€â”€ core/                     # æ ¸å¿ƒåŸºç¡€è®¾æ–½
â”‚   â”‚   â”œâ”€â”€ cache_manager.py
â”‚   â”‚   â”œâ”€â”€ rate_limiter.py
â”‚   â”‚   â””â”€â”€ circuit_breaker.py
â”‚   â”œâ”€â”€ services/                 # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ data_service.py
â”‚   â”‚   â”œâ”€â”€ parallel_analyzer.py
â”‚   â”‚   â”œâ”€â”€ timeframe_scheduler.py
â”‚   â”‚   â”œâ”€â”€ trading_service.py
â”‚   â”‚   â””â”€â”€ position_monitor.py
â”‚   â”œâ”€â”€ strategies/               # ç­–ç•¥å¼•æ“
â”‚   â”‚   â””â”€â”€ ict_strategy.py
â”‚   â”œâ”€â”€ managers/                 # ç®¡ç†å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ risk_manager.py
â”‚   â”‚   â”œâ”€â”€ virtual_position_manager.py
â”‚   â”‚   â”œâ”€â”€ trade_recorder.py
â”‚   â”‚   â”œâ”€â”€ expectancy_calculator.py
â”‚   â”‚   â””â”€â”€ model_scorer.py
â”‚   â”œâ”€â”€ ml/                       # æœºå™¨å­¦ä¹ å¼•æ“
â”‚   â”‚   â”œâ”€â”€ model_trainer.py
â”‚   â”‚   â”œâ”€â”€ predictor.py
â”‚   â”‚   â”œâ”€â”€ data_processor.py
â”‚   â”‚   â”œâ”€â”€ hyperparameter_tuner.py
â”‚   â”‚   â”œâ”€â”€ ensemble_model.py
â”‚   â”‚   â”œâ”€â”€ label_leakage_validator.py
â”‚   â”‚   â”œâ”€â”€ drift_detector.py
â”‚   â”‚   â”œâ”€â”€ imbalance_handler.py
â”‚   â”‚   â”œâ”€â”€ target_optimizer.py
â”‚   â”‚   â”œâ”€â”€ uncertainty_quantifier.py
â”‚   â”‚   â”œâ”€â”€ feature_importance_monitor.py
â”‚   â”‚   â”œâ”€â”€ adaptive_learner.py
â”‚   â”‚   â””â”€â”€ feature_cache.py
â”‚   â”œâ”€â”€ integrations/             # ç¬¬ä¸‰æ–¹é›†æˆ
â”‚   â”‚   â””â”€â”€ discord_bot.py
â”‚   â”œâ”€â”€ monitoring/               # ç›‘æ§æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ health_monitor.py
â”‚   â”‚   â””â”€â”€ performance_monitor.py
â”‚   â””â”€â”€ utils/                    # å·¥å…·å±‚
â”‚       â”œâ”€â”€ indicators.py
â”‚       â””â”€â”€ helpers.py
â”œâ”€â”€ data/                         # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ logs/                     # æ—¥å¿—æ–‡ä»¶
â”‚   â”œâ”€â”€ models/                   # MLæ¨¡å‹
â”‚   â”œâ”€â”€ trades.json               # äº¤æ˜“è®°å½•
â”‚   â””â”€â”€ virtual_positions.json    # è™šæ‹Ÿä»“ä½
â”œâ”€â”€ ml_data/                      # MLè®­ç»ƒæ•°æ®
â”‚   â””â”€â”€ training_*.json
â”œâ”€â”€ docs/                         # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ COMPLETE_ARCHITECTURE_v3.11.1.md  # æœ¬æ–‡æ¡£
â”‚   â”œâ”€â”€ DEPLOYMENT_GUIDE.md
â”‚   â”œâ”€â”€ QUICK_START.md
â”‚   â””â”€â”€ ...
â”œâ”€â”€ examples/                     # ç¤ºä¾‹æ–‡ä»¶
â”œâ”€â”€ scripts/                      # å·¥å…·è„šæœ¬
â”œâ”€â”€ requirements.txt              # Pythonä¾èµ–
â”œâ”€â”€ railway.json                  # Railwayé…ç½®
â”œâ”€â”€ replit.md                     # é¡¹ç›®è¯´æ˜
â””â”€â”€ README.md                     # é¡¹ç›®README
```

---

## ğŸ“ å…³é”®è®¾è®¡æ¨¡å¼

### 1. ç­–ç•¥æ¨¡å¼
- **ICTStrategy**: å°è£…äº¤æ˜“ç­–ç•¥é€»è¾‘
- å¯æ‰©å±•ä¸ºå¤šç­–ç•¥ç³»ç»Ÿ

### 2. è§‚å¯Ÿè€…æ¨¡å¼
- **PositionMonitor**: ç›‘æ§ä»“ä½å˜åŒ–
- **Discordé€šçŸ¥**: è®¢é˜…äº¤æ˜“äº‹ä»¶

### 3. å·¥å‚æ¨¡å¼
- **TargetOptimizer**: æ ¹æ®ç±»å‹åˆ›å»ºä¸åŒç›®æ ‡å˜é‡
- **EnsembleModel**: åˆ›å»ºä¸åŒMLæ¨¡å‹

### 4. å•ä¾‹æ¨¡å¼
- **Config**: å…¨å±€é…ç½®å•ä¾‹
- **CacheManager**: ç¼“å­˜ç®¡ç†å•ä¾‹

### 5. æ¨¡æ¿æ–¹æ³•æ¨¡å¼
- **XGBoostTrainer.train()**: å®šä¹‰è®­ç»ƒæµç¨‹æ¨¡æ¿
- å­ç±»å¯è¦†ç›–ç‰¹å®šæ­¥éª¤

### 6. è´£ä»»é“¾æ¨¡å¼
- **é£é™©æ§åˆ¶äº”å±‚æ¶æ„**: é€å±‚éªŒè¯
- **ç†”æ–­å™¨ä¸‰çº§ä¿æŠ¤**: é€çº§å‡çº§

---

## ğŸ“ ç‰ˆæœ¬æ¼”è¿›å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | æ ¸å¿ƒç‰¹æ€§ |
|------|------|---------|
| **v3.11.1** | 2025-10-27 | ğŸš€ ç§»é™¤æŒä»“é™åˆ¶ï¼ˆæ— é™å€‰ä½ï¼‰|
| **v3.11.0** | 2025-10-27 | ğŸ¯ OBè´¨é‡ç­›é€‰+BOS/CHOCH+å¸‚åœºçŠ¶æ€åˆ†ç±»+åè½¬é¢„è­¦ |
| **v3.10.0** | 2025-10-27 | ğŸ”¥ ADXè¶‹åŠ¿è¿‡æ»¤+MLæ³„æ¼é˜»æ–­+æ³¢åŠ¨ç‡ç†”æ–­ |
| **v3.9.2.9** | 2025-10-27 | âš¡ æ€§èƒ½ä¼˜åŒ–ï¼ˆåŠ¨æ€CPUæ£€æµ‹+ä¸´æ—¶æ–‡ä»¶æ¸…ç†ï¼‰|
| **v3.9.2.8.5** | 2025-10-26 | ğŸ¯ æ¨¡å‹è¯„åˆ†ç³»ç»Ÿï¼ˆè´¨é‡æƒé‡ï¼‰|
| **v3.9.2.8.4** | 2025-10-26 | ğŸš¨ åˆ†çº§ç†”æ–­å™¨ï¼ˆä¸‰çº§ç†”æ–­+Bypassï¼‰|
| **v3.4.0** | 2025-10-25 | âœ¨ XGBoostè¶…å‚æ•°è°ƒä¼˜+é›†æˆå­¦ä¹ +ç‰¹å¾ç¼“å­˜ |
| **v3.1.0** | 2025-10-25 | ğŸ”´ P0æ€§èƒ½ä¼˜åŒ–ï¼ˆç¼“å­˜+æœŸæœ›å€¼æ•´åˆï¼‰|
| **v2.0** | 2025-10-25 | ğŸ“Š 200ä¸ªé«˜æ³¢åŠ¨ç‡äº¤æ˜“å¯¹+32æ ¸å¹¶è¡Œ |

---

## ğŸš¦ å¿«é€Ÿå¼€å§‹æŒ‡å¼•

### 1. æœ¬åœ°å¼€å‘

```bash
# å…‹éš†é¡¹ç›®
git clone <repo-url>
cd <project-dir>

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
export BINANCE_API_KEY="your_key"
export BINANCE_API_SECRET="your_secret"
export DISCORD_TOKEN="your_token"
export SESSION_SECRET="random_string"
export TRADING_ENABLED="false"  # æ¨¡æ‹Ÿæ¨¡å¼

# è¿è¡Œ
python -m src.main
```

### 2. Railwayéƒ¨ç½²

```bash
# æ¨é€ä»£ç 
git push origin main

# åœ¨Railwayæ§åˆ¶å°:
# 1. é€‰æ‹©äºšæ´²åŒºåŸŸï¼ˆæ–°åŠ å¡/ä¸œäº¬ï¼‰
# 2. é…ç½®ç¯å¢ƒå˜é‡
# 3. é€‰æ‹©32vCPU / 32GB RAM
# 4. éƒ¨ç½²
```

### 3. éªŒè¯éƒ¨ç½²

æŸ¥çœ‹å¯åŠ¨æ—¥å¿—ç¡®è®¤:
```
âœ… v3.11.1æˆåŠŸå¯åŠ¨
âœ… é…ç½®éªŒè¯é€šè¿‡
âœ… Binance APIè¿æ¥æˆåŠŸ
âœ… æˆåŠŸåŠ è½½ XXX ä¸ªäº¤æ˜“å¯¹
âœ… å·²é€‰æ‹© 200 ä¸ªé«˜æ³¢åŠ¨ç‡äº¤æ˜“å¯¹
```

---

## ğŸ“ æ”¯æŒä¸ç»´æŠ¤

### æ—¥å¿—ä½ç½®
- **ä¸»æ—¥å¿—**: `data/logs/trading_bot.log`
- **Railwayæ—¥å¿—**: æ§åˆ¶å°å®æ—¶æŸ¥çœ‹

### å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆæ²¡æœ‰ä¿¡å·ç”Ÿæˆï¼Ÿ**
A: æ£€æŸ¥ä»¥ä¸‹æ¡ä»¶:
- MIN_CONFIDENCEæ˜¯å¦è¿‡é«˜ï¼ˆé»˜è®¤35%ï¼‰
- ADX_TREND_THRESHOLDæ˜¯å¦è¿‡ä¸¥ï¼ˆé»˜è®¤20ï¼‰
- å¸‚åœºçŠ¶æ€æ˜¯å¦ä¸ºtrending/breakout
- åè½¬é£é™©è¯„åˆ†æ˜¯å¦<0.4

**Q: å¦‚ä½•å¯ç”¨çœŸå®äº¤æ˜“ï¼Ÿ**
A: è®¾ç½®ç¯å¢ƒå˜é‡ `TRADING_ENABLED=true`

**Q: å¦‚ä½•è°ƒæ•´æŒä»“æ•°é‡ï¼Ÿ**
A: v3.11.1å·²ç§»é™¤é™åˆ¶ï¼Œé€šè¿‡é£é™©æ§åˆ¶è‡ªåŠ¨ç®¡ç†

**Q: å¦‚ä½•æŸ¥çœ‹MLæ¨¡å‹æ€§èƒ½ï¼Ÿ**
A: æŸ¥çœ‹ `data/models/model_metrics.json`

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä¸ºç§æœ‰é¡¹ç›®ï¼Œä»…ä¾›æˆæƒç”¨æˆ·ä½¿ç”¨ã€‚

---

**æ–‡æ¡£ç”Ÿæˆæ—¶é—´**: 2025-10-27  
**æ–‡æ¡£ç‰ˆæœ¬**: v3.11.1  
**ä½œè€…**: Replit Agent  
**æœ€åæ›´æ–°**: 2025-10-27 17:05 UTC

