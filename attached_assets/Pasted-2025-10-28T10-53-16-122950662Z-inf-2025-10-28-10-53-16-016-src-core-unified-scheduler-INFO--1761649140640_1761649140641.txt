2025-10-28T10:53:16.122950662Z [inf]  2025-10-28 10:53:16,016 - src.core.unified_scheduler - INFO - 🔄 交易週期循環已啟動
2025-10-28T10:53:16.122957065Z [inf]  2025-10-28 10:53:16,016 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T10:53:16.122976430Z [inf]  2025-10-28 10:53:16,016 - src.core.unified_scheduler - INFO - 🔄 交易週期 #1 | 2025-10-28 10:53:16 UTC
2025-10-28T10:53:16.122982649Z [inf]  2025-10-28 10:53:16,016 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T10:53:16.122989117Z [inf]  2025-10-28 10:53:16,017 - src.core.unified_scheduler - INFO - 📊 每日報告循環已啟動
2025-10-28T10:53:16.122995914Z [inf]  2025-10-28 10:53:16,116 - src.core.unified_scheduler - INFO - 📦 當前持倉: 無
2025-10-28T10:53:16.123002343Z [inf]  2025-10-28 10:53:16,116 - src.core.unified_scheduler - INFO - 💰 賬戶權益: $21.51 | 未實現盈虧: $+0.00
2025-10-28T10:53:16.221627871Z [inf]  2025-10-28 10:53:16,216 - src.core.unified_scheduler - INFO - 📊 掃描到 528 個 USDT 永續合約，監控前 999 個
2025-10-28T10:53:16.221637042Z [inf]  2025-10-28 10:53:16,216 - src.core.unified_scheduler - INFO - 📊 掃描 528 個交易對中...
2025-10-28T10:53:16.645196509Z [inf]  2025-10-28 10:53:16,637 - src.strategies.rule_based_signal_generator - ERROR - ❌ XRPUSDT 信號生成失敗: 'zone'
2025-10-28T10:53:16.645201434Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:16.645207250Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:53:16.645212576Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:53:16.645217035Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:16.645221999Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:53:16.645226705Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:16.645232593Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:16.645236970Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:53:16.645241599Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:16.645245437Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:53:16.645249696Z [inf]  KeyError: 'zone'
2025-10-28T10:53:17.023703170Z [inf]  2025-10-28 10:53:17,020 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:17.023710530Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:17.023722875Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:17.023734508Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:17.023741692Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:17.023748269Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:18.202336486Z [inf]  2025-10-28 10:53:18,022 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:18.202349322Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:18.202357056Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:18.202365500Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:18.202375153Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:18.203504890Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:19.025521695Z [inf]  2025-10-28 10:53:19,022 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:19.025531571Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:19.025537742Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:19.025554811Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:19.025560581Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:19.025566143Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:20.193047885Z [inf]  2025-10-28 10:53:20,024 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:20.193086449Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:20.193094232Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:20.193100315Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:20.193106342Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:20.193112371Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:21.025341412Z [inf]  2025-10-28 10:53:21,023 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:21.025352604Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:21.025360851Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:21.025367671Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:21.025373234Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:21.025379602Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:22.253419204Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:22.253428129Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:22.253434305Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:22.253497679Z [inf]  2025-10-28 10:53:22,025 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:22.253513386Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:22.253521393Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:23.029012818Z [inf]  2025-10-28 10:53:23,025 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:23.029019851Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:23.029026491Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:23.029033135Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:23.029039172Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:23.029044595Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:23.531192937Z [inf]  2025-10-28 10:53:23,361 - __main__ - INFO - 
2025-10-28T10:53:23.531198933Z [inf]  收到信號 15，準備關閉...
2025-10-28T10:53:24.328381228Z [inf]  2025-10-28 10:53:24,027 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:24.328385488Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:24.328389535Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:24.328393503Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:24.328397575Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:24.328402618Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:25.030798612Z [inf]  2025-10-28 10:53:25,028 - __main__ - INFO - 
2025-10-28T10:53:25.030804469Z [inf]  🔄 系統關閉中...
2025-10-28T10:53:25.030809830Z [inf]  2025-10-28 10:53:25,028 - src.core.unified_scheduler - INFO - ⏸️  UnifiedScheduler 停止中...
2025-10-28T10:53:25.030815938Z [inf]  2025-10-28 10:53:25,028 - src.core.position_controller - INFO - ⏸️  PositionController 監控已停止
2025-10-28T10:53:25.030820131Z [inf]  2025-10-28 10:53:25,028 - src.core.position_controller - INFO -    📊 統計: 檢查=202, 平倉=0, 調整=0, 緊急平倉=0
2025-10-28T10:53:25.030825317Z [inf]  2025-10-28 10:53:25,028 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T10:53:25.030829623Z [inf]  2025-10-28 10:53:25,028 - src.core.unified_scheduler - INFO - 📊 UnifiedScheduler 統計:
2025-10-28T10:53:25.030834730Z [inf]  2025-10-28 10:53:25,028 - src.core.unified_scheduler - INFO -    總週期: 5
2025-10-28T10:53:25.030840562Z [inf]  2025-10-28 10:53:25,028 - src.core.unified_scheduler - INFO -    總信號: 47
2025-10-28T10:53:25.030845627Z [inf]  2025-10-28 10:53:25,028 - src.core.unified_scheduler - INFO -    總訂單: 0
2025-10-28T10:53:25.030850460Z [inf]  2025-10-28 10:53:25,028 - src.core.unified_scheduler - INFO -    總報告: 0
2025-10-28T10:53:25.030856025Z [inf]  2025-10-28 10:53:25,028 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T10:53:25.030861234Z [inf]  2025-10-28 10:53:25,028 - __main__ - INFO - ✅ 系統已安全關閉
2025-10-28T10:53:26.000000000Z [inf]  Stopping Container
2025-10-28T10:53:26.235368564Z [inf]  2025-10-28 10:53:26,028 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:26.235374028Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:26.235378685Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:26.235382655Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:26.235387348Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:26.235391868Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:28.240727545Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:28.240731571Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:28.240769027Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:28.240771618Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:28.240778813Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:28.240960094Z [inf]  2025-10-28 10:53:28,033 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:30.254627412Z [inf]  2025-10-28 10:53:30,036 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:30.254634123Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:30.254644922Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:30.254651356Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:30.254657913Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:30.254666730Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:30.580554874Z [inf]  2025-10-28 10:53:30,575 - src.strategies.rule_based_signal_generator - INFO - ✅ HIGHUSDT 信號生成: SHORT | 信心度=74.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:53:30.580561120Z [inf]  2025-10-28 10:53:30,575 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=74.00% → conf_factor=1.48x | 最終槓桿=11.79x
2025-10-28T10:53:30.580567644Z [inf]  2025-10-28 10:53:30,575 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.8x → scale=1.54x | 基礎 SL=0.51% → 調整後=0.79% | SL=$0.31 | TP=$0.30
2025-10-28T10:53:30.580574092Z [inf]  2025-10-28 10:53:30,575 - src.strategies.self_learning_trader - INFO - 🎯 HIGHUSDT 完整信號: SHORT @ 0.30 | 槓桿=11.8x | SL=0.31 | TP=0.30 | 勝率=64.5% | 信心度=74.0%
2025-10-28T10:53:31.170605714Z [inf]  2025-10-28 10:53:30,980 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=12.3x → scale=1.56x | 基礎 SL=0.46% → 調整後=0.72% | SL=$10.47 | TP=$10.28
2025-10-28T10:53:31.170623488Z [inf]  2025-10-28 10:53:30,883 - src.strategies.rule_based_signal_generator - ERROR - ❌ PHBUSDT 信號生成失敗: 'zone'
2025-10-28T10:53:31.170631339Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:31.170643451Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:53:31.170651345Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:53:31.170658546Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:31.170665462Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:53:31.170678733Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:31.170683893Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:31.170689465Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:53:31.170693482Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:31.170700102Z [inf]  KeyError: 'zone'
2025-10-28T10:53:31.170701656Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:53:31.170709028Z [inf]  2025-10-28 10:53:30,980 - src.strategies.rule_based_signal_generator - INFO - ✅ GMXUSDT 信號生成: SHORT | 信心度=77.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:53:31.170714190Z [inf]  2025-10-28 10:53:30,980 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=77.00% → conf_factor=1.54x | 最終槓桿=12.27x
2025-10-28T10:53:31.172481474Z [inf]  2025-10-28 10:53:30,980 - src.strategies.self_learning_trader - INFO - 🎯 GMXUSDT 完整信號: SHORT @ 10.40 | 槓桿=12.3x | SL=10.47 | TP=10.28 | 勝率=64.5% | 信心度=77.0%
2025-10-28T10:53:32.261744814Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:32.261754600Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:32.261780867Z [inf]  2025-10-28 10:53:32,037 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:32.261789770Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:32.261795503Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:32.261807418Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:33.584367865Z [inf]  2025-10-28 10:53:33,497 - src.strategies.rule_based_signal_generator - INFO - ✅ MAVUSDT 信號生成: SHORT | 信心度=54.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:53:34.380551497Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:34.380563296Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:53:34.380574525Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:34.380578046Z [inf]  KeyError: 'zone'
2025-10-28T10:53:34.380578091Z [inf]  2025-10-28 10:53:33,991 - src.strategies.rule_based_signal_generator - ERROR - ❌ AGLDUSDT 信號生成失敗: 'zone'
2025-10-28T10:53:34.380580000Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:53:34.380581496Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:34.380585255Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:53:34.380589099Z [inf]  2025-10-28 10:53:34,038 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:34.380589784Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:34.380592375Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:53:34.380592845Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:34.380596067Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:34.380600454Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:34.380605117Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:34.380606911Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:53:34.380612559Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:34.380614806Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:36.310737822Z [inf]  2025-10-28 10:53:36,039 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:36.310742856Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:36.310748345Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:36.310753349Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:36.310760812Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:36.310770593Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:38.308216247Z [inf]  2025-10-28 10:53:38,041 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:38.308222430Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:38.308228447Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:38.308234672Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:38.308241585Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:38.308247118Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:39.841408291Z [inf]  2025-10-28 10:53:39,826 - src.strategies.rule_based_signal_generator - INFO - ✅ TONUSDT 信號生成: LONG | 信心度=69.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:53:40.465802693Z [inf]  2025-10-28 10:53:40,042 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:40.465807638Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:40.465813476Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:40.465819113Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:40.465825923Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:40.465832516Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:41.382716574Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:53:41.382730378Z [inf]  KeyError: 'zone'
2025-10-28T10:53:41.382743220Z [inf]  2025-10-28 10:53:41,169 - src.strategies.rule_based_signal_generator - ERROR - ❌ TAOUSDT 信號生成失敗: 'zone'
2025-10-28T10:53:41.382753524Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:41.382762147Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:53:41.382768966Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:53:41.382775333Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:41.382781525Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:53:41.382803471Z [inf]  2025-10-28 10:53:40,972 - src.strategies.rule_based_signal_generator - ERROR - ❌ TNSRUSDT 信號生成失敗: 'zone'
2025-10-28T10:53:41.382810738Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:41.382817942Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:53:41.382824649Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:53:41.382832236Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:41.382838388Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:53:41.382845510Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:41.382852473Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:41.382858595Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:53:41.382864956Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:41.542541969Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:41.542546446Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:41.542555321Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:53:41.542560243Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:41.542570467Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:53:41.542577012Z [inf]  KeyError: 'zone'
2025-10-28T10:53:42.400350032Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:42.400364013Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:42.400366020Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:53:42.400378038Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:42.400380297Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:53:42.400390908Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:42.400392451Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:53:42.400406991Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:42.400407496Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:53:42.400408723Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:42.400420714Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:42.400432477Z [inf]  2025-10-28 10:53:42,043 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:42.400434411Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:42.400454826Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:42.400479911Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:42.400490249Z [inf]  2025-10-28 10:53:42,279 - src.strategies.rule_based_signal_generator - ERROR - ❌ BANANAUSDT 信號生成失敗: 'zone'
2025-10-28T10:53:42.400765865Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:53:42.403930780Z [inf]  KeyError: 'zone'
2025-10-28T10:53:43.452796911Z [inf]  2025-10-28 10:53:43,449 - src.strategies.rule_based_signal_generator - ERROR - ❌ CHESSUSDT 信號生成失敗: 'zone'
2025-10-28T10:53:43.452803023Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:43.452809207Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:53:43.452816647Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:53:43.452824298Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:43.452830905Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:53:43.452836118Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:43.452840456Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:43.452844592Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:53:43.452850853Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:43.452855502Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:53:43.452859618Z [inf]  KeyError: 'zone'
2025-10-28T10:53:44.338434941Z [inf]  2025-10-28 10:53:44,044 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:44.338442441Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:44.338449752Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:44.338456027Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:44.338463479Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:44.338471000Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:44.842013766Z [inf]  2025-10-28 10:53:44,812 - src.strategies.rule_based_signal_generator - INFO - ✅ COSUSDT 信號生成: SHORT | 信心度=64.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:53:46.289936076Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:46.289948030Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:46.289956040Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:46.289963173Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:46.289970008Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:46.290018036Z [inf]  2025-10-28 10:53:46,046 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:46.613119139Z [inf]  2025-10-28 10:53:46,611 - src.strategies.rule_based_signal_generator - INFO - ✅ HIPPOUSDT 信號生成: LONG | 信心度=69.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:53:46.835307829Z [inf]  2025-10-28 10:53:46,833 - src.strategies.rule_based_signal_generator - INFO - ✅ DEGENUSDT 信號生成: LONG | 信心度=77.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:53:46.835320402Z [inf]  2025-10-28 10:53:46,834 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=77.00% → conf_factor=1.54x | 最終槓桿=12.27x
2025-10-28T10:53:46.835328103Z [inf]  2025-10-28 10:53:46,834 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=12.3x → scale=1.56x | 基礎 SL=1.65% → 調整後=2.58% | SL=$0.00 | TP=$0.00
2025-10-28T10:53:46.835336188Z [inf]  2025-10-28 10:53:46,834 - src.strategies.self_learning_trader - INFO - 🎯 DEGENUSDT 完整信號: LONG @ 0.00 | 槓桿=12.3x | SL=0.00 | TP=0.00 | 勝率=64.5% | 信心度=77.0%
2025-10-28T10:53:47.737725955Z [inf]  2025-10-28 10:53:47,732 - src.strategies.rule_based_signal_generator - INFO - ✅ KAIAUSDT 信號生成: LONG | 信心度=57.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:53:48.323258578Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:48.323268359Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:53:48.323276145Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:53:48.323281741Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:48.323286937Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:53:48.323292772Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:48.323301000Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:48.323305666Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:53:48.323310776Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:48.323315836Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:53:48.323320758Z [inf]  KeyError: 'zone'
2025-10-28T10:53:48.323325754Z [inf]  2025-10-28 10:53:48,047 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:48.323330735Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:48.323335891Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:48.323340444Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:48.323345433Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:48.323350399Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:48.323397155Z [inf]  2025-10-28 10:53:48,020 - src.strategies.rule_based_signal_generator - ERROR - ❌ ORCAUSDT 信號生成失敗: 'zone'
2025-10-28T10:53:48.419159471Z [inf]  2025-10-28 10:53:48,414 - src.strategies.rule_based_signal_generator - INFO - ✅ VIRTUALUSDT 信號生成: LONG | 信心度=72.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:53:48.419166831Z [inf]  2025-10-28 10:53:48,414 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=72.00% → conf_factor=1.44x | 最終槓桿=11.47x
2025-10-28T10:53:48.419172313Z [inf]  2025-10-28 10:53:48,414 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.5x → scale=1.52x | 基礎 SL=2.29% → 調整後=3.50% | SL=$1.51 | TP=$1.65
2025-10-28T10:53:48.419177412Z [inf]  2025-10-28 10:53:48,414 - src.strategies.self_learning_trader - INFO - 🎯 VIRTUALUSDT 完整信號: LONG @ 1.57 | 槓桿=11.5x | SL=1.51 | TP=1.65 | 勝率=64.5% | 信心度=72.0%
2025-10-28T10:53:49.710152747Z [inf]  2025-10-28 10:53:49,705 - src.strategies.rule_based_signal_generator - ERROR - ❌ FARTCOINUSDT 信號生成失敗: 'zone'
2025-10-28T10:53:49.710160282Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:49.710187672Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:53:49.710195279Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:53:49.710201907Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:49.710209285Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:53:49.710216604Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:49.710224080Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:49.710236992Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:53:49.710244838Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:49.710251026Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:53:49.710257560Z [inf]  KeyError: 'zone'
2025-10-28T10:53:50.316468519Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:53:50.316480155Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:50.316490469Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:53:50.316506405Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:50.316514327Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:50.316517784Z [inf]  2025-10-28 10:53:50,048 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:50.316523845Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:50.316529509Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:50.316536827Z [inf]  2025-10-28 10:53:50,288 - src.strategies.rule_based_signal_generator - ERROR - ❌ DFUSDT 信號生成失敗: 'zone'
2025-10-28T10:53:50.316538312Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:50.316544730Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:50.316552693Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:53:50.316560106Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:53:50.316566701Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:50.316575585Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:53:50.316583045Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:50.316589796Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:50.319762040Z [inf]  KeyError: 'zone'
2025-10-28T10:53:51.288794715Z [inf]  2025-10-28 10:53:51,064 - src.strategies.rule_based_signal_generator - INFO - ✅ SONICUSDT 信號生成: LONG | 信心度=75.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:53:51.288799351Z [inf]  2025-10-28 10:53:51,064 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=75.00% → conf_factor=1.50x | 最終槓桿=11.95x
2025-10-28T10:53:51.288802008Z [inf]  2025-10-28 10:53:51,064 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.9x → scale=1.55x | 基礎 SL=0.83% → 調整後=1.29% | SL=$0.14 | TP=$0.14
2025-10-28T10:53:51.288809766Z [inf]  2025-10-28 10:53:51,065 - src.strategies.self_learning_trader - INFO - 🎯 SONICUSDT 完整信號: LONG @ 0.14 | 槓桿=11.9x | SL=0.14 | TP=0.14 | 勝率=64.5% | 信心度=75.0%
2025-10-28T10:53:52.367207652Z [inf]  2025-10-28 10:53:52,060 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:52.367212597Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:52.367219888Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:52.367224129Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:52.367229271Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:52.367233468Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:53.325778727Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:53.325815624Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:53:53.325822413Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:53.325830361Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:53:53.325835724Z [inf]  KeyError: 'zone'
2025-10-28T10:53:53.325870098Z [inf]  2025-10-28 10:53:53,226 - src.strategies.rule_based_signal_generator - ERROR - ❌ SHELLUSDT 信號生成失敗: 'zone'
2025-10-28T10:53:53.325872819Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:53:53.325880576Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:53.325888163Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:53:53.325897185Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:53.325904243Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:53:53.325911901Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:53.524971714Z [inf]  2025-10-28 10:53:53,521 - src.strategies.rule_based_signal_generator - INFO - ✅ VICUSDT 信號生成: SHORT | 信心度=74.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:53:53.524981173Z [inf]  2025-10-28 10:53:53,521 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=74.00% → conf_factor=1.48x | 最終槓桿=11.79x
2025-10-28T10:53:53.524987856Z [inf]  2025-10-28 10:53:53,521 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.8x → scale=1.54x | 基礎 SL=0.71% → 調整後=1.09% | SL=$0.14 | TP=$0.14
2025-10-28T10:53:53.524994110Z [inf]  2025-10-28 10:53:53,521 - src.strategies.self_learning_trader - INFO - 🎯 VICUSDT 完整信號: SHORT @ 0.14 | 槓桿=11.8x | SL=0.14 | TP=0.14 | 勝率=64.5% | 信心度=74.0%
2025-10-28T10:53:54.299906169Z [inf]  2025-10-28 10:53:54,062 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:54.299911301Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:54.299916753Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:54.299921736Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:54.299930153Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:54.299941291Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:55.291591334Z [inf]  2025-10-28 10:53:55,289 - src.strategies.rule_based_signal_generator - INFO - ✅ WALUSDT 信號生成: SHORT | 信心度=69.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:53:56.313742171Z [inf]  2025-10-28 10:53:56,063 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:56.313748609Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:56.313755441Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:56.313763243Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:56.313771291Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:56.313778062Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:56.842904369Z [inf]  2025-10-28 10:53:56,841 - src.strategies.rule_based_signal_generator - ERROR - ❌ EPTUSDT 信號生成失敗: 'zone'
2025-10-28T10:53:56.842911756Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:56.842917181Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:53:56.842922099Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:53:56.842927311Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:56.842932059Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:53:56.842937397Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:56.842942522Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:56.842948426Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:53:56.842953638Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:56.842958481Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:53:56.842962629Z [inf]  KeyError: 'zone'
2025-10-28T10:53:58.369997232Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:53:58.370009987Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:53:58.370040870Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:58.370048971Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:58.370100608Z [inf]  2025-10-28 10:53:58,064 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:53:58.370110408Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:58.756947118Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:58.756961575Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:53:58.756970456Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:58.756977305Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:53:58.756986015Z [inf]  KeyError: 'zone'
2025-10-28T10:53:58.757017343Z [inf]  2025-10-28 10:53:58,746 - src.strategies.rule_based_signal_generator - ERROR - ❌ OGUSDT 信號生成失敗: 'zone'
2025-10-28T10:53:58.757022572Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:58.757028970Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:53:58.757034536Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:53:58.757039765Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:58.757050568Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:53:58.757056290Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:59.436325021Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:59.436330612Z [inf]  2025-10-28 10:53:59,433 - src.strategies.rule_based_signal_generator - ERROR - ❌ BUSDT 信號生成失敗: 'zone'
2025-10-28T10:53:59.436336998Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:59.436337116Z [inf]  Traceback (most recent call last):
2025-10-28T10:53:59.436342648Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:53:59.436349641Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:53:59.436349731Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:53:59.436355794Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:53:59.436358067Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:53:59.436366335Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:53:59.436370745Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:53:59.436374882Z [inf]  KeyError: 'zone'
2025-10-28T10:54:00.412492264Z [inf]  2025-10-28 10:54:00,066 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:00.412601813Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:00.412610661Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:00.412617518Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:00.412624555Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:00.412631356Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:02.495198301Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:02.495209024Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:02.495216424Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:02.495223983Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:02.495228366Z [inf]  2025-10-28 10:54:02,067 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:02.495231798Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:02.646357352Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:54:02.646358339Z [inf]  2025-10-28 10:54:02,643 - src.strategies.rule_based_signal_generator - ERROR - ❌ PUMPUSDT 信號生成失敗: 'zone'
2025-10-28T10:54:02.646369995Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:02.646370532Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:54:02.646377319Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:54:02.646383599Z [inf]  KeyError: 'zone'
2025-10-28T10:54:02.646385137Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:54:02.646391961Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:02.646399246Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:54:02.646404612Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:54:02.646410595Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:02.646417157Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:54:04.434671954Z [inf]  2025-10-28 10:54:04,067 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:04.434682225Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:04.434686572Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:04.434693647Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:04.434704559Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:04.434711867Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:04.671775913Z [inf]  2025-10-28 10:54:04,668 - src.strategies.rule_based_signal_generator - INFO - ✅ PROVEUSDT 信號生成: SHORT | 信心度=74.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:54:04.671785486Z [inf]  2025-10-28 10:54:04,668 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=74.00% → conf_factor=1.48x | 最終槓桿=11.79x
2025-10-28T10:54:04.671792875Z [inf]  2025-10-28 10:54:04,668 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.8x → scale=1.54x | 基礎 SL=0.45% → 調整後=0.70% | SL=$0.80 | TP=$0.78
2025-10-28T10:54:04.671800100Z [inf]  2025-10-28 10:54:04,668 - src.strategies.self_learning_trader - INFO - 🎯 PROVEUSDT 完整信號: SHORT @ 0.79 | 槓桿=11.8x | SL=0.80 | TP=0.78 | 勝率=64.5% | 信心度=74.0%
2025-10-28T10:54:05.473996268Z [inf]  2025-10-28 10:54:05,260 - src.strategies.rule_based_signal_generator - INFO - ✅ XNYUSDT 信號生成: LONG | 信心度=69.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:54:06.383354716Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:06.383366880Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:06.383445952Z [inf]  2025-10-28 10:54:06,068 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:06.383453239Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:06.383460527Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:06.383467497Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:07.426104036Z [inf]  2025-10-28 10:54:07,220 - src.strategies.rule_based_signal_generator - ERROR - ❌ FLOCKUSDT 信號生成失敗: 'zone'
2025-10-28T10:54:07.426129405Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:54:07.426137495Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:07.426145976Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:07.426154876Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:54:07.426177348Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:54:07.426184558Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:54:07.426187337Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:54:07.426194922Z [inf]  KeyError: 'zone'
2025-10-28T10:54:07.426338005Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:54:07.426349330Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:07.426358277Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:54:08.392382353Z [inf]  2025-10-28 10:54:08,069 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:08.392388288Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:08.392393314Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:08.392397595Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:08.392402022Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:08.392406585Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:08.792180597Z [inf]  2025-10-28 10:54:08,790 - src.strategies.rule_based_signal_generator - INFO - ✅ COAIUSDT 信號生成: SHORT | 信心度=64.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:54:09.908577297Z [inf]  2025-10-28 10:54:09,896 - src.strategies.rule_based_signal_generator - INFO - ✅ TRUTHUSDT 信號生成: SHORT | 信心度=70.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:54:09.908582928Z [inf]  2025-10-28 10:54:09,896 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=70.00% → conf_factor=1.40x | 最終槓桿=11.15x
2025-10-28T10:54:09.908588224Z [inf]  2025-10-28 10:54:09,896 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.2x → scale=1.51x | 基礎 SL=1.04% → 調整後=1.58% | SL=$0.01 | TP=$0.01
2025-10-28T10:54:09.908593702Z [inf]  2025-10-28 10:54:09,896 - src.strategies.self_learning_trader - INFO - 🎯 TRUTHUSDT 完整信號: SHORT @ 0.01 | 槓桿=11.2x | SL=0.01 | TP=0.01 | 勝率=64.5% | 信心度=70.0%
2025-10-28T10:54:10.477135293Z [inf]  2025-10-28 10:54:10,070 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:10.477143271Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:10.477149756Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:10.477155852Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:10.477162539Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:10.477169634Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:10.605386354Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:10.605405113Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:54:10.605418984Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:54:10.605438517Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:54:10.605448979Z [inf]  KeyError: 'zone'
2025-10-28T10:54:10.605487375Z [inf]  2025-10-28 10:54:10,599 - src.strategies.rule_based_signal_generator - ERROR - ❌ MONUSDT 信號生成失敗: 'zone'
2025-10-28T10:54:10.605493176Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:10.605498788Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:54:10.605505578Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:54:10.605510896Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:10.605516255Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:54:10.605525053Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:54:11.801864405Z [inf]  2025-10-28 10:54:11,799 - src.strategies.rule_based_signal_generator - INFO - ✅ BLUAIUSDT 信號生成: SHORT | 信心度=72.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:54:11.801868822Z [inf]  2025-10-28 10:54:11,799 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=72.00% → conf_factor=1.44x | 最終槓桿=11.47x
2025-10-28T10:54:11.801875096Z [inf]  2025-10-28 10:54:11,799 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.5x → scale=1.52x | 基礎 SL=2.42% → 調整後=3.68% | SL=$0.02 | TP=$0.02
2025-10-28T10:54:11.801880802Z [inf]  2025-10-28 10:54:11,800 - src.strategies.self_learning_trader - INFO - 🎯 BLUAIUSDT 完整信號: SHORT @ 0.02 | 槓桿=11.5x | SL=0.02 | TP=0.02 | 勝率=64.5% | 信心度=72.0%
2025-10-28T10:54:12.445931449Z [err]    position_size = self.self_learning_trader.calculate_position_size(
2025-10-28T10:54:12.445949668Z [err]  RuntimeWarning: Enable tracemalloc to get the object allocation traceback
2025-10-28T10:54:12.445955533Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:12.445963444Z [inf]  2025-10-28 10:54:12,371 - src.clients.binance_client - INFO - 創建訂單: HIGHUSDT SELL MARKET 668.8
2025-10-28T10:54:12.445969646Z [inf]  2025-10-28 10:54:12,118 - src.strategies.rule_based_signal_generator - INFO - ✅ ONUSDT 信號生成: SHORT | 信心度=60.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:54:12.445977010Z [inf]  2025-10-28 10:54:12,293 - src.core.unified_scheduler - INFO - ✅ 發現 9 個交易信號
2025-10-28T10:54:12.445989411Z [inf]  2025-10-28 10:54:12,293 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 HIGHUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:54:12.445996589Z [inf]  2025-10-28 10:54:12,071 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:12.445997637Z [inf]  2025-10-28 10:54:12,293 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.8x | 名義價值=$202.91 | 數量=668.802264 | 實際價值=$202.91
2025-10-28T10:54:12.446005537Z [err]  /app/src/core/unified_scheduler.py:378: RuntimeWarning: coroutine 'BinanceClient.get_min_quantity' was never awaited
2025-10-28T10:54:12.446016621Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:12.446024324Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:12.446031717Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:12.446038375Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.451720571Z [inf]  2025-10-28 10:54:12,449 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'HIGHUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 668.8, 'timestamp': 1761648852371, 'signature': 'cbf0af3403fd80c78a1a29f5d23250e3d293c227a1bf376a9c67d47b2e34535a'}
2025-10-28T10:54:12.451731154Z [inf]  2025-10-28 10:54:12,449 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:54:12.451737989Z [inf]  2025-10-28 10:54:12,449 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:54:12.454833779Z [inf]  2025-10-28 10:54:12,449 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:54:12.454842476Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:12.454848254Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:54:12.454853258Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:54:12.454857928Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.454863763Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:54:12.454868348Z [inf]      raise e
2025-10-28T10:54:12.454872514Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:54:12.454877132Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:54:12.454882655Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.454887591Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:54:12.454891741Z [inf]      response.raise_for_status()
2025-10-28T10:54:12.454896331Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:54:12.454900567Z [inf]      raise ClientResponseError(
2025-10-28T10:54:12.454905802Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:54:12.454910406Z [inf]  
2025-10-28T10:54:12.454915796Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:54:12.454922075Z [inf]  
2025-10-28T10:54:12.454926707Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:12.454931922Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:54:12.454936459Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:54:12.461519285Z [inf]  2025-10-28 10:54:12,451 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 GMXUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:54:12.461531984Z [inf]  2025-10-28 10:54:12,451 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=12.3x | 名義價值=$211.14 | 數量=20.309819 | 實際價值=$211.14
2025-10-28T10:54:12.461539860Z [inf]  2025-10-28 10:54:12,451 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:54:12.461603331Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.461609103Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:54:12.461614482Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:54:12.461629906Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.461641019Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:54:12.461647780Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:54:12.461654374Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.461667326Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:54:12.461673793Z [inf]      raise BinanceRequestError(
2025-10-28T10:54:12.461679555Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:54:12.549250290Z [inf]  2025-10-28 10:54:12,547 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:54:12.549258085Z [inf]  2025-10-28 10:54:12,547 - src.clients.binance_client - INFO - 創建訂單: GMXUSDT SELL MARKET 20.31
2025-10-28T10:54:12.631915933Z [inf]  2025-10-28 10:54:12,623 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'GMXUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 20.31, 'timestamp': 1761648852547, 'signature': 'c734968abe57787accf69266a29fdf102135c3d7ef9e0c0bf47348109cdbfa91'}
2025-10-28T10:54:12.631923075Z [inf]  2025-10-28 10:54:12,623 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:54:12.631929568Z [inf]  2025-10-28 10:54:12,623 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:54:12.631934768Z [inf]  2025-10-28 10:54:12,623 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:54:12.631939258Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:12.631943248Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:54:12.631948492Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:54:12.631952907Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.631957618Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:54:12.631962793Z [inf]      raise e
2025-10-28T10:54:12.631968033Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:54:12.631973614Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:54:12.631979379Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.631984794Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:54:12.631990124Z [inf]      response.raise_for_status()
2025-10-28T10:54:12.631997350Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:54:12.634421477Z [inf]      raise ClientResponseError(
2025-10-28T10:54:12.634436465Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:54:12.634450740Z [inf]  
2025-10-28T10:54:12.634459917Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:54:12.634467396Z [inf]  
2025-10-28T10:54:12.634476164Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:12.634485045Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:54:12.634493853Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:54:12.634501596Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.634510279Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:54:12.634517900Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:54:12.634530291Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.634542862Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:54:12.634549716Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:54:12.634557431Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.634567253Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:54:12.634575870Z [inf]      raise BinanceRequestError(
2025-10-28T10:54:12.634583777Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:54:12.634591612Z [inf]  2025-10-28 10:54:12,624 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 DEGENUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:54:12.640515888Z [inf]  2025-10-28 10:54:12,624 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:54:12.640626132Z [inf]  2025-10-28 10:54:12,624 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=12.3x | 名義價值=$211.14 | 數量=96853.612208 | 實際價值=$211.14
2025-10-28T10:54:12.705412072Z [inf]  2025-10-28 10:54:12,699 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:54:12.705416803Z [inf]  2025-10-28 10:54:12,699 - src.clients.binance_client - INFO - 創建訂單: DEGENUSDT BUY MARKET 96854.0
2025-10-28T10:54:12.782933462Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.782945450Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:54:12.782952966Z [inf]      response.raise_for_status()
2025-10-28T10:54:12.782959808Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:54:12.782972865Z [inf]  2025-10-28 10:54:12,775 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'DEGENUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 96854.0, 'timestamp': 1761648852699, 'signature': '5fe0d284c41c00bfde66f749cdc9d68cf11c5966c4e15fb68614803702f7d63d'}
2025-10-28T10:54:12.782982156Z [inf]  2025-10-28 10:54:12,775 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:54:12.782988073Z [inf]  2025-10-28 10:54:12,775 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:54:12.782994473Z [inf]  2025-10-28 10:54:12,775 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:54:12.783000766Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:12.783007675Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:54:12.783014389Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:54:12.783020541Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.783025621Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:54:12.783031756Z [inf]      raise e
2025-10-28T10:54:12.783037938Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:54:12.783044285Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:54:12.784920117Z [inf]      raise ClientResponseError(
2025-10-28T10:54:12.784922632Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:54:12.784930082Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:54:12.784937158Z [inf]  
2025-10-28T10:54:12.784938271Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:54:12.784946698Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:54:12.784946966Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.784955091Z [inf]  
2025-10-28T10:54:12.784956266Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:54:12.784962464Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:12.784964832Z [inf]      raise BinanceRequestError(
2025-10-28T10:54:12.784969372Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:54:12.784975074Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:54:12.784976965Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:54:12.784983484Z [inf]  2025-10-28 10:54:12,776 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 VIRTUALUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:54:12.784984726Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.784991684Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:54:12.784998729Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:54:12.785004488Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.787099049Z [inf]  2025-10-28 10:54:12,776 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.5x | 名義價值=$197.43 | 數量=125.767886 | 實際價值=$197.43
2025-10-28T10:54:12.787106595Z [inf]  2025-10-28 10:54:12,776 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:54:12.855644481Z [inf]  2025-10-28 10:54:12,851 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:54:12.855650490Z [inf]  2025-10-28 10:54:12,852 - src.clients.binance_client - INFO - 創建訂單: VIRTUALUSDT BUY MARKET 125.8
2025-10-28T10:54:12.941524828Z [inf]  2025-10-28 10:54:12,931 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'VIRTUALUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 125.8, 'timestamp': 1761648852852, 'signature': 'df59f4684f4703e628945f98a5e2cc2cb4927cf29160bdab896b151cae6d338f'}
2025-10-28T10:54:12.941532050Z [inf]  2025-10-28 10:54:12,931 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:54:12.941537222Z [inf]  2025-10-28 10:54:12,931 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:54:12.941542166Z [inf]  2025-10-28 10:54:12,931 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:54:12.941548013Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:12.941552921Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:54:12.941558456Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:54:12.941564273Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.941571938Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:54:12.941576390Z [inf]      raise e
2025-10-28T10:54:12.941581149Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:54:12.941590336Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:54:12.941595451Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.941603372Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:54:12.941607824Z [inf]      response.raise_for_status()
2025-10-28T10:54:12.941612548Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:54:12.943557563Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:54:12.943557892Z [inf]      raise ClientResponseError(
2025-10-28T10:54:12.943563769Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:54:12.943569165Z [inf]  
2025-10-28T10:54:12.943573569Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:54:12.943578888Z [inf]  
2025-10-28T10:54:12.943581321Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.943584639Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:12.943590406Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:54:12.943591437Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:54:12.943597769Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:54:12.943598717Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:54:12.943602423Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.943607239Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:12.943608524Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:54:12.943614458Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:54:12.943619957Z [inf]      raise BinanceRequestError(
2025-10-28T10:54:12.943624924Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:54:12.943630300Z [inf]  2025-10-28 10:54:12,932 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 SONICUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:54:12.945065796Z [inf]  2025-10-28 10:54:12,932 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.9x | 名義價值=$205.66 | 數量=1494.598082 | 實際價值=$205.66
2025-10-28T10:54:12.945073555Z [inf]  2025-10-28 10:54:12,932 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:54:13.015851077Z [inf]  2025-10-28 10:54:13,009 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:54:13.015858269Z [inf]  2025-10-28 10:54:13,010 - src.clients.binance_client - INFO - 創建訂單: SONICUSDT BUY MARKET 1494.6
2025-10-28T10:54:13.537651427Z [inf]  2025-10-28 10:54:13,085 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'SONICUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 1494.6, 'timestamp': 1761648853010, 'signature': 'efd6e32aa8663801ef3c7f5355e3bfbc9d5e6b4861742a93ef5861c6d6aefb44'}
2025-10-28T10:54:13.537658711Z [inf]  2025-10-28 10:54:13,085 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:54:13.537659878Z [inf]  2025-10-28 10:54:13,085 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:54:13.537674450Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:54:13.537679665Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:54:13.537680528Z [inf]  2025-10-28 10:54:13,085 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:54:13.537682782Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.537692097Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:13.537692520Z [inf]      raise e
2025-10-28T10:54:13.537693964Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:54:13.537699160Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:54:13.537709709Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:54:13.537718990Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.537728727Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:54:13.537977806Z [inf]      response.raise_for_status()
2025-10-28T10:54:13.537983793Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:54:13.541266233Z [inf]  2025-10-28 10:54:13,239 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:54:13.541271289Z [inf]  2025-10-28 10:54:13,161 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:54:13.541282005Z [inf]  2025-10-28 10:54:13,161 - src.clients.binance_client - INFO - 創建訂單: VICUSDT SELL MARKET 1416.0
2025-10-28T10:54:13.541285130Z [inf]  2025-10-28 10:54:13,239 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'VICUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 1416.0, 'timestamp': 1761648853161, 'signature': 'c7c7283f8a382d981999f47b37be50ebeedd1213a15b12fd3fc4ca0a92a78985'}
2025-10-28T10:54:13.541304675Z [inf]  2025-10-28 10:54:13,239 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:54:13.541308305Z [inf]  2025-10-28 10:54:13,087 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.8x | 名義價值=$202.91 | 數量=1416.012608 | 實際價值=$202.91
2025-10-28T10:54:13.541313395Z [inf]  2025-10-28 10:54:13,239 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:54:13.541320552Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:13.541327891Z [inf]  2025-10-28 10:54:13,087 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:54:13.541330793Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:54:13.541338768Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:54:13.541346542Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.541393301Z [inf]      raise e
2025-10-28T10:54:13.541400968Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:54:13.541407590Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.541410580Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:54:13.541417673Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:54:13.541423072Z [inf]  
2025-10-28T10:54:13.541426736Z [inf]      response.raise_for_status()
2025-10-28T10:54:13.541431868Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:54:13.541435498Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:54:13.541437842Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:54:13.541439629Z [inf]      raise ClientResponseError(
2025-10-28T10:54:13.541441173Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:54:13.541441280Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:13.541446019Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:54:13.541446637Z [inf]  
2025-10-28T10:54:13.541451304Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.541456091Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:54:13.541456147Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.541456577Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:54:13.541461343Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:54:13.541466372Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:54:13.541627189Z [inf]      raise ClientResponseError(
2025-10-28T10:54:13.541632095Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:54:13.541639396Z [inf]  
2025-10-28T10:54:13.541646745Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:54:13.541652163Z [inf]  
2025-10-28T10:54:13.541658513Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:13.541668859Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:54:13.541681078Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:54:13.541688007Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.541695694Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:54:13.541703428Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:54:13.541710431Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.541717432Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:54:13.541724125Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:54:13.541731801Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.541739052Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:54:13.541747430Z [inf]      raise BinanceRequestError(
2025-10-28T10:54:13.541756075Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:54:13.541774012Z [inf]  2025-10-28 10:54:13,087 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 VICUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:54:13.544736928Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:54:13.544747600Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.544761239Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:54:13.544769668Z [inf]      raise BinanceRequestError(
2025-10-28T10:54:13.544777193Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:54:13.544785526Z [inf]  2025-10-28 10:54:13,240 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 PROVEUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:54:13.544793532Z [inf]  2025-10-28 10:54:13,240 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.8x | 名義價值=$202.91 | 數量=256.205312 | 實際價值=$202.91
2025-10-28T10:54:13.544800796Z [inf]  2025-10-28 10:54:13,240 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:54:13.544808968Z [inf]  2025-10-28 10:54:13,315 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:54:13.544816053Z [inf]  2025-10-28 10:54:13,315 - src.clients.binance_client - INFO - 創建訂單: PROVEUSDT SELL MARKET 256.2
2025-10-28T10:54:13.544823663Z [inf]  2025-10-28 10:54:13,393 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'PROVEUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 256.2, 'timestamp': 1761648853315, 'signature': '209ce13c4097a064ce1626a77b2e80ed90683bad918b6c121d1ec1ed1eda538e'}
2025-10-28T10:54:13.544832876Z [inf]  2025-10-28 10:54:13,393 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:54:13.544850936Z [inf]  2025-10-28 10:54:13,393 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:54:13.544859082Z [inf]  2025-10-28 10:54:13,393 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:54:13.544866520Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:13.544874643Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:54:13.544883431Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:54:13.544890905Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.544898845Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:54:13.544907235Z [inf]      raise e
2025-10-28T10:54:13.544913403Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:54:13.544919312Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:54:13.544925140Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.544931731Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:54:13.544938721Z [inf]      response.raise_for_status()
2025-10-28T10:54:13.544946260Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:54:13.544953766Z [inf]      raise ClientResponseError(
2025-10-28T10:54:13.544961065Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:54:13.544968968Z [inf]  
2025-10-28T10:54:13.544977152Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:54:13.544984551Z [inf]  
2025-10-28T10:54:13.544992238Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:13.544999110Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:54:13.545721508Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:54:13.545732482Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.545741826Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:54:13.545748442Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:54:13.545755075Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.545760992Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:54:13.545766864Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:54:13.545772495Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.545778151Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:54:13.545784214Z [inf]      raise BinanceRequestError(
2025-10-28T10:54:13.545792072Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:54:13.545798011Z [inf]  2025-10-28 10:54:13,394 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 TRUTHUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:54:13.545803863Z [inf]  2025-10-28 10:54:13,394 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.2x | 名義價值=$191.95 | 數量=14037.315317 | 實際價值=$191.95
2025-10-28T10:54:13.545810245Z [inf]  2025-10-28 10:54:13,394 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:54:13.545815249Z [inf]  2025-10-28 10:54:13,471 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:54:13.547328520Z [inf]  2025-10-28 10:54:13,472 - src.clients.binance_client - INFO - 創建訂單: TRUTHUSDT SELL MARKET 14037.0
2025-10-28T10:54:13.549924790Z [inf]  2025-10-28 10:54:13,546 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'TRUTHUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 14037.0, 'timestamp': 1761648853472, 'signature': '20d7c7f6c635433a2c16ab4cf10a2f8144dc4a81a193deab243a3581782c3055'}
2025-10-28T10:54:13.549937511Z [inf]  2025-10-28 10:54:13,547 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:54:13.549947038Z [inf]  2025-10-28 10:54:13,547 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:54:13.549959960Z [inf]  2025-10-28 10:54:13,547 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:54:13.549970249Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:13.549979038Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:54:13.549986075Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:54:13.549993037Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.549999529Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:54:13.550006326Z [inf]      raise e
2025-10-28T10:54:13.550012210Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:54:13.550021674Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:54:13.550027875Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.550034435Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:54:13.550041826Z [inf]      response.raise_for_status()
2025-10-28T10:54:13.550048874Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:54:13.551895235Z [inf]      raise ClientResponseError(
2025-10-28T10:54:13.551913584Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:54:13.551922562Z [inf]  
2025-10-28T10:54:13.551931212Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:54:13.551941151Z [inf]  
2025-10-28T10:54:13.551950500Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:13.551958510Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:54:13.551965864Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:54:13.551973213Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.551980358Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:54:13.551987353Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:54:13.551995018Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.552000466Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:54:13.552006781Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:54:13.552014326Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.552022646Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:54:13.552030079Z [inf]      raise BinanceRequestError(
2025-10-28T10:54:13.552037405Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:54:13.552046536Z [inf]  2025-10-28 10:54:13,548 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 BLUAIUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:54:13.554097856Z [inf]  2025-10-28 10:54:13,548 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.5x | 名義價值=$197.43 | 數量=10535.241633 | 實際價值=$197.43
2025-10-28T10:54:13.554103303Z [inf]  2025-10-28 10:54:13,548 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:54:13.626480932Z [inf]  2025-10-28 10:54:13,624 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:54:13.626486447Z [inf]  2025-10-28 10:54:13,624 - src.clients.binance_client - INFO - 創建訂單: BLUAIUSDT SELL MARKET 10535.0
2025-10-28T10:54:13.711551269Z [inf]  2025-10-28 10:54:13,700 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'BLUAIUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 10535.0, 'timestamp': 1761648853625, 'signature': '77961039b33f8fce6a72c60b69bd3328b19841066541a950dd3df76c746e0658'}
2025-10-28T10:54:13.711560225Z [inf]  2025-10-28 10:54:13,700 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:54:13.711569705Z [inf]  2025-10-28 10:54:13,701 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:54:13.711577522Z [inf]  2025-10-28 10:54:13,701 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:54:13.711585203Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:13.711593191Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:54:13.711602612Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:54:13.711613621Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.711621080Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:54:13.711629728Z [inf]      raise e
2025-10-28T10:54:13.711636841Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:54:13.711644491Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:54:13.711650478Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.711657254Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:54:13.711665975Z [inf]      response.raise_for_status()
2025-10-28T10:54:13.711671385Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:54:13.713205055Z [inf]      raise ClientResponseError(
2025-10-28T10:54:13.713212290Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:54:13.713217241Z [inf]  
2025-10-28T10:54:13.713229509Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:54:13.713232542Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.713235077Z [inf]  
2025-10-28T10:54:13.713241330Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:13.713244092Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:54:13.713247048Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:54:13.713252846Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:54:13.713253236Z [inf]      raise BinanceRequestError(
2025-10-28T10:54:13.713258029Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.713259789Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:54:13.713264456Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:54:13.713268188Z [inf]  2025-10-28 10:54:13,701 - src.core.unified_scheduler - INFO - ✅ 週期完成 | 耗時: 57.7s | 新成交: 0
2025-10-28T10:54:13.713272017Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:54:13.713277463Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:13.713281931Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:54:13.713287294Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:54:13.714345012Z [inf]  2025-10-28 10:54:13,701 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T10:54:14.526725460Z [inf]  2025-10-28 10:54:14,072 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:14.526734578Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:14.526739628Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:14.526745458Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:14.526750719Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:14.526755874Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:16.444067173Z [inf]  2025-10-28 10:54:16,073 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:16.444071848Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:16.444076538Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:16.444080998Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:16.444085599Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:16.444090951Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:18.477435242Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:18.477444923Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:18.477454441Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:18.477480537Z [inf]  2025-10-28 10:54:18,076 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:18.477488408Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:18.477495988Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:20.455852079Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:20.455879739Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:20.455897267Z [inf]  2025-10-28 10:54:20,078 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:20.455944427Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:20.455950398Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:20.455957274Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:22.082454595Z [inf]  2025-10-28 10:54:22,079 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:22.082468605Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:22.082474435Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:22.082479785Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:22.082485185Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:22.082491111Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:24.085823452Z [inf]  2025-10-28 10:54:24,082 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:24.085829450Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:24.085836334Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:24.085856115Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:24.085866013Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:24.085873986Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:26.093988969Z [inf]  2025-10-28 10:54:26,084 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:26.093994366Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:26.093999027Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:26.094003581Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:26.094008361Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:26.094014562Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:28.090506418Z [inf]  2025-10-28 10:54:28,087 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:28.090517491Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:28.090524453Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:28.090531522Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:28.090537786Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:28.090544650Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:30.091412810Z [inf]  2025-10-28 10:54:30,089 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:30.091421867Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:30.091429096Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:30.091434831Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:30.091442737Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:30.091450445Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:32.095028281Z [inf]  2025-10-28 10:54:32,091 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:32.095035569Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:32.095042592Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:32.095049456Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:32.095056175Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:32.095063009Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:34.100987785Z [inf]  2025-10-28 10:54:34,094 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:34.100996907Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:34.101015430Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:34.101022016Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:34.101027587Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:34.101033285Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:36.099946127Z [inf]  2025-10-28 10:54:36,096 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:36.099951128Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:36.099958731Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:36.099964432Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:36.099970351Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:36.099975677Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:38.116055733Z [inf]  2025-10-28 10:54:38,098 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:38.116062501Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:38.116069523Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:38.116076225Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:38.116082182Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:38.116090046Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:40.102767214Z [inf]  2025-10-28 10:54:40,099 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:40.102773758Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:40.102779534Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:40.102785307Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:40.102791028Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:40.102796266Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:42.109956302Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:42.109969516Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:42.109987377Z [inf]  2025-10-28 10:54:42,102 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:42.109992191Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:42.109997255Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:42.110002970Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:44.109546165Z [inf]  2025-10-28 10:54:44,103 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:44.109553451Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:44.109559564Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:44.109567126Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:44.109574344Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:44.109580513Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:46.115021447Z [inf]  2025-10-28 10:54:46,106 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:46.115031429Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:46.115037221Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:46.115042453Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:46.115048188Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:46.115054214Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:48.115752376Z [inf]  2025-10-28 10:54:48,110 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:48.115763414Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:48.115769850Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:48.115775153Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:48.115780723Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:48.115785499Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:50.117220013Z [inf]  2025-10-28 10:54:50,111 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:50.117229145Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:50.117236196Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:50.117242673Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:50.117248886Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:50.117255422Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:52.122040442Z [inf]  2025-10-28 10:54:52,113 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:52.122058879Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:52.122068544Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:52.122076298Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:52.122083196Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:52.122091147Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:54.120258438Z [inf]  2025-10-28 10:54:54,116 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:54.120264809Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:54.120269641Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:54.120274785Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:54.120279717Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:54.120285511Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:56.122031055Z [inf]  2025-10-28 10:54:56,119 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:56.122040878Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:56.122046501Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:56.122051164Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:56.122055639Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:56.122060545Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:58.124909363Z [inf]  2025-10-28 10:54:58,122 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:54:58.124915330Z [inf]  Traceback (most recent call last):
2025-10-28T10:54:58.124921535Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:54:58.124926915Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:54:58.124932750Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:54:58.124938690Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:00.131628216Z [inf]  2025-10-28 10:55:00,125 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:00.131642145Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:00.131649660Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:00.131656481Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:00.131663061Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:00.131669880Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:02.134792739Z [inf]  2025-10-28 10:55:02,127 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:02.134801229Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:02.134806156Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:02.134810420Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:02.134814842Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:02.134820024Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:04.131258790Z [inf]  2025-10-28 10:55:04,128 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:04.131264033Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:04.131269790Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:04.131275319Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:04.131279704Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:04.131284371Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:06.136781192Z [inf]  2025-10-28 10:55:06,130 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:06.136788967Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:06.136794394Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:06.136801014Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:06.136807414Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:06.136814174Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:08.137827936Z [inf]  2025-10-28 10:55:08,133 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:08.137835739Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:08.137842238Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:08.137848523Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:08.137854856Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:08.137861767Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:10.136531070Z [inf]  2025-10-28 10:55:10,134 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:10.136535819Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:10.136542160Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:10.136547777Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:10.136553833Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:10.136561916Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:12.139812724Z [inf]  2025-10-28 10:55:12,136 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:12.139816987Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:12.139821258Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:12.139826485Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:12.139831178Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:12.139837315Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:13.853381339Z [inf]  2025-10-28 10:55:13,704 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T10:55:13.853387390Z [inf]  2025-10-28 10:55:13,704 - src.core.unified_scheduler - INFO - 🔄 交易週期 #2 | 2025-10-28 10:55:13 UTC
2025-10-28T10:55:13.853394260Z [inf]  2025-10-28 10:55:13,704 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T10:55:13.853405808Z [inf]  2025-10-28 10:55:13,706 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:55:13.853411881Z [inf]  2025-10-28 10:55:13,828 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:55:13.853417199Z [inf]  2025-10-28 10:55:13,829 - src.core.unified_scheduler - INFO - 📦 當前持倉: 無
2025-10-28T10:55:13.853422506Z [inf]  2025-10-28 10:55:13,829 - src.core.unified_scheduler - INFO - 💰 賬戶權益: $21.51 | 未實現盈虧: $+0.00
2025-10-28T10:55:13.853428803Z [inf]  2025-10-28 10:55:13,830 - src.core.unified_scheduler - INFO - 📊 掃描到 528 個 USDT 永續合約，監控前 999 個
2025-10-28T10:55:13.853435249Z [inf]  2025-10-28 10:55:13,830 - src.core.unified_scheduler - INFO - 📊 掃描 528 個交易對中...
2025-10-28T10:55:13.906095830Z [inf]  2025-10-28 10:55:13,903 - src.strategies.rule_based_signal_generator - ERROR - ❌ XRPUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:13.906107572Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:13.906115454Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:13.906245274Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:13.906253921Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:13.906261362Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:13.906268389Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:13.906277985Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:13.906285912Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:13.906292866Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:13.906298803Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:13.906304143Z [inf]  KeyError: 'zone'
2025-10-28T10:55:14.150140394Z [inf]  2025-10-28 10:55:14,146 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:14.150151007Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:14.150158534Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:14.150220908Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:14.150229638Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:14.150237668Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:15.827436814Z [inf]  2025-10-28 10:55:15,374 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=74.00% → conf_factor=1.48x | 最終槓桿=11.79x
2025-10-28T10:55:15.827449253Z [inf]  2025-10-28 10:55:15,374 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.8x → scale=1.54x | 基礎 SL=0.51% → 調整後=0.79% | SL=$0.31 | TP=$0.30
2025-10-28T10:55:15.827459340Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:15.827459659Z [inf]  2025-10-28 10:55:15,374 - src.strategies.self_learning_trader - INFO - 🎯 HIGHUSDT 完整信號: SHORT @ 0.30 | 槓桿=11.8x | SL=0.31 | TP=0.30 | 勝率=64.5% | 信心度=74.0%
2025-10-28T10:55:15.827470272Z [inf]  2025-10-28 10:55:15,423 - src.strategies.rule_based_signal_generator - ERROR - ❌ PHBUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:15.827471075Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:15.827479879Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:15.827487326Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:15.827498066Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:15.827526629Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:15.827531984Z [inf]  2025-10-28 10:55:15,373 - src.strategies.rule_based_signal_generator - INFO - ✅ HIGHUSDT 信號生成: SHORT | 信心度=74.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:55:15.827535714Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:15.827546387Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:15.827555046Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:15.831410956Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:15.831417006Z [inf]  KeyError: 'zone'
2025-10-28T10:55:15.831424778Z [inf]  2025-10-28 10:55:15,440 - src.strategies.rule_based_signal_generator - INFO - ✅ GMXUSDT 信號生成: SHORT | 信心度=77.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:55:15.831433688Z [inf]  2025-10-28 10:55:15,440 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=77.00% → conf_factor=1.54x | 最終槓桿=12.27x
2025-10-28T10:55:15.831439571Z [inf]  2025-10-28 10:55:15,440 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=12.3x → scale=1.56x | 基礎 SL=0.46% → 調整後=0.72% | SL=$10.47 | TP=$10.28
2025-10-28T10:55:15.831445075Z [inf]  2025-10-28 10:55:15,440 - src.strategies.self_learning_trader - INFO - 🎯 GMXUSDT 完整信號: SHORT @ 10.40 | 槓桿=12.3x | SL=10.47 | TP=10.28 | 勝率=64.5% | 信心度=77.0%
2025-10-28T10:55:15.831451627Z [inf]  2025-10-28 10:55:15,815 - src.strategies.rule_based_signal_generator - INFO - ✅ MAVUSDT 信號生成: SHORT | 信心度=54.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:55:15.897409513Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:15.897438010Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:15.897466532Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:15.897476072Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:15.897482070Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:15.897487443Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:15.897493063Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:15.897498870Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:15.897504449Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:15.897510381Z [inf]  KeyError: 'zone'
2025-10-28T10:55:15.897571820Z [inf]  2025-10-28 10:55:15,893 - src.strategies.rule_based_signal_generator - ERROR - ❌ AGLDUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:15.897578859Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:16.166645743Z [inf]  2025-10-28 10:55:16,161 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:16.166650544Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:16.166657483Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:16.166662389Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:16.166667509Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:16.166672476Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:16.800329383Z [inf]  2025-10-28 10:55:16,759 - src.strategies.rule_based_signal_generator - INFO - ✅ TONUSDT 信號生成: LONG | 信心度=69.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:55:16.912656386Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:16.912667850Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:16.912675309Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:16.912681861Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:16.912694026Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:16.912702698Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:16.912709940Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:16.912718848Z [inf]  KeyError: 'zone'
2025-10-28T10:55:16.912774903Z [inf]  2025-10-28 10:55:16,897 - src.strategies.rule_based_signal_generator - ERROR - ❌ TNSRUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:16.912780946Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:16.912787840Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:16.912794066Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:16.928820534Z [inf]  2025-10-28 10:55:16,924 - src.strategies.rule_based_signal_generator - ERROR - ❌ TAOUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:16.928834875Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:16.928842720Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:16.928850817Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:16.928858879Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:16.928865856Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:16.928872325Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:16.928879321Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:16.928885663Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:16.928893143Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:16.928899538Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:16.928906315Z [inf]  KeyError: 'zone'
2025-10-28T10:55:17.094653576Z [inf]  2025-10-28 10:55:17,090 - src.strategies.rule_based_signal_generator - ERROR - ❌ BANANAUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:17.094662216Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:17.094668741Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:17.094674294Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:17.094694090Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:17.094698897Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:17.094706521Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:17.094711153Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:17.094716963Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:17.094724233Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:17.094728372Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:17.094733091Z [inf]  KeyError: 'zone'
2025-10-28T10:55:17.277952559Z [inf]  2025-10-28 10:55:17,273 - src.strategies.rule_based_signal_generator - ERROR - ❌ CHESSUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:17.277958186Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:17.277963908Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:17.277970618Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:17.277976817Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:17.277983506Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:17.277987974Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:17.277993771Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:17.277999422Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:17.278003947Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:17.278007957Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:17.278013192Z [inf]  KeyError: 'zone'
2025-10-28T10:55:17.934031803Z [inf]  2025-10-28 10:55:17,465 - src.strategies.rule_based_signal_generator - INFO - ✅ COSUSDT 信號生成: SHORT | 信心度=64.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:55:17.934038907Z [inf]  2025-10-28 10:55:17,773 - src.strategies.rule_based_signal_generator - INFO - ✅ HIPPOUSDT 信號生成: LONG | 信心度=69.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:55:17.934046557Z [inf]  2025-10-28 10:55:17,810 - src.strategies.rule_based_signal_generator - INFO - ✅ DEGENUSDT 信號生成: LONG | 信心度=77.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:55:17.934052954Z [inf]  2025-10-28 10:55:17,810 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=77.00% → conf_factor=1.54x | 最終槓桿=12.27x
2025-10-28T10:55:17.934060513Z [inf]  2025-10-28 10:55:17,810 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=12.3x → scale=1.56x | 基礎 SL=1.65% → 調整後=2.58% | SL=$0.00 | TP=$0.00
2025-10-28T10:55:17.934066974Z [inf]  2025-10-28 10:55:17,810 - src.strategies.self_learning_trader - INFO - 🎯 DEGENUSDT 完整信號: LONG @ 0.00 | 槓桿=12.3x | SL=0.00 | TP=0.00 | 勝率=64.5% | 信心度=77.0%
2025-10-28T10:55:17.981396706Z [inf]  2025-10-28 10:55:17,973 - src.strategies.rule_based_signal_generator - INFO - ✅ KAIAUSDT 信號生成: LONG | 信心度=57.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:55:18.032245529Z [inf]  2025-10-28 10:55:18,028 - src.strategies.rule_based_signal_generator - ERROR - ❌ ORCAUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:18.032252116Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:18.032255941Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:18.032259675Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:18.032272735Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:18.032276864Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:18.032281547Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:18.032285683Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:18.032291627Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:18.032295676Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:18.032300496Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:18.032304074Z [inf]  KeyError: 'zone'
2025-10-28T10:55:18.097594686Z [inf]  2025-10-28 10:55:18,095 - src.strategies.rule_based_signal_generator - INFO - ✅ VIRTUALUSDT 信號生成: LONG | 信心度=72.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:55:18.097619306Z [inf]  2025-10-28 10:55:18,095 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=72.00% → conf_factor=1.44x | 最終槓桿=11.47x
2025-10-28T10:55:18.097626497Z [inf]  2025-10-28 10:55:18,095 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.5x → scale=1.52x | 基礎 SL=2.29% → 調整後=3.50% | SL=$1.51 | TP=$1.65
2025-10-28T10:55:18.097632005Z [inf]  2025-10-28 10:55:18,095 - src.strategies.self_learning_trader - INFO - 🎯 VIRTUALUSDT 完整信號: LONG @ 1.57 | 槓桿=11.5x | SL=1.51 | TP=1.65 | 勝率=64.5% | 信心度=72.0%
2025-10-28T10:55:18.174811050Z [inf]  2025-10-28 10:55:18,170 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:18.174817416Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:18.174823335Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:18.174827843Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:18.174833769Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:18.174837961Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:18.249580114Z [inf]  2025-10-28 10:55:18,244 - src.strategies.rule_based_signal_generator - ERROR - ❌ FARTCOINUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:18.249582690Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:18.249589904Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:18.249594827Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:18.249598193Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:18.249604370Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:18.249606920Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:18.249610455Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:18.249614965Z [inf]  KeyError: 'zone'
2025-10-28T10:55:18.249625536Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:18.249632144Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:18.249636320Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:18.775162210Z [inf]  2025-10-28 10:55:18,705 - src.strategies.rule_based_signal_generator - ERROR - ❌ SHELLUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:18.775177571Z [inf]  2025-10-28 10:55:18,742 - src.strategies.self_learning_trader - INFO - 🎯 VICUSDT 完整信號: SHORT @ 0.14 | 槓桿=11.8x | SL=0.14 | TP=0.14 | 勝率=64.5% | 信心度=74.0%
2025-10-28T10:55:18.775178937Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:18.775192570Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:18.775223850Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:18.775233907Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:18.775249255Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:18.775258667Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:18.775273104Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:18.775281529Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:18.775288131Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:18.775296486Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:18.775305098Z [inf]  KeyError: 'zone'
2025-10-28T10:55:18.775312092Z [inf]  2025-10-28 10:55:18,742 - src.strategies.rule_based_signal_generator - INFO - ✅ VICUSDT 信號生成: SHORT | 信心度=74.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:55:18.775326341Z [inf]  2025-10-28 10:55:18,742 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=74.00% → conf_factor=1.48x | 最終槓桿=11.79x
2025-10-28T10:55:18.775333363Z [inf]  2025-10-28 10:55:18,742 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.8x → scale=1.54x | 基礎 SL=0.71% → 調整後=1.09% | SL=$0.14 | TP=$0.14
2025-10-28T10:55:18.775415590Z [inf]  2025-10-28 10:55:18,434 - src.strategies.self_learning_trader - INFO - 🎯 SONICUSDT 完整信號: LONG @ 0.14 | 槓桿=11.9x | SL=0.14 | TP=0.14 | 勝率=64.5% | 信心度=75.0%
2025-10-28T10:55:18.775592236Z [inf]  2025-10-28 10:55:18,321 - src.strategies.rule_based_signal_generator - ERROR - ❌ DFUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:18.775598725Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:18.775604813Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:18.775611806Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:18.775617461Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:18.775623405Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:18.775629243Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:18.775636134Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:18.775642534Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:18.775648981Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:18.775654923Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:18.775660872Z [inf]  KeyError: 'zone'
2025-10-28T10:55:18.775666815Z [inf]  2025-10-28 10:55:18,433 - src.strategies.rule_based_signal_generator - INFO - ✅ SONICUSDT 信號生成: LONG | 信心度=75.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:55:18.775673246Z [inf]  2025-10-28 10:55:18,434 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=75.00% → conf_factor=1.50x | 最終槓桿=11.95x
2025-10-28T10:55:18.775680277Z [inf]  2025-10-28 10:55:18,434 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.9x → scale=1.55x | 基礎 SL=0.83% → 調整後=1.29% | SL=$0.14 | TP=$0.14
2025-10-28T10:55:18.955330073Z [inf]  2025-10-28 10:55:18,953 - src.strategies.rule_based_signal_generator - INFO - ✅ WALUSDT 信號生成: SHORT | 信心度=69.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:55:19.160968563Z [inf]  2025-10-28 10:55:19,157 - src.strategies.rule_based_signal_generator - ERROR - ❌ EPTUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:19.160974249Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:19.160979694Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:19.160985418Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:19.160991518Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:19.160997383Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:19.161003323Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:19.161008888Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:19.161016807Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:19.161023925Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:19.161029697Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:19.161035343Z [inf]  KeyError: 'zone'
2025-10-28T10:55:19.732307708Z [inf]  2025-10-28 10:55:19,415 - src.strategies.rule_based_signal_generator - ERROR - ❌ OGUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:19.732313079Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:19.732317709Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:19.732321705Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:19.732325729Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:19.732333029Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:19.732338044Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:19.732347220Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:19.732355436Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:19.732359995Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:19.732363715Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:19.732367749Z [inf]  KeyError: 'zone'
2025-10-28T10:55:19.732372604Z [inf]  2025-10-28 10:55:19,492 - src.strategies.rule_based_signal_generator - ERROR - ❌ BUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:19.732378394Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:19.732385535Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:19.732389800Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:19.732395167Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:19.732400527Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:19.732539685Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:19.732543643Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:19.732548486Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:19.732553302Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:19.732558700Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:19.732562659Z [inf]  KeyError: 'zone'
2025-10-28T10:55:19.862314110Z [inf]  2025-10-28 10:55:19,860 - src.strategies.rule_based_signal_generator - ERROR - ❌ PUMPUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:19.862320568Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:19.862327186Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:19.862331274Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:19.862335648Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:19.862342784Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:19.862347031Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:19.862351561Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:19.862356376Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:19.862360846Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:19.862368264Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:19.862372632Z [inf]  KeyError: 'zone'
2025-10-28T10:55:20.127329272Z [inf]  2025-10-28 10:55:20,124 - src.strategies.rule_based_signal_generator - INFO - ✅ PROVEUSDT 信號生成: SHORT | 信心度=74.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:55:20.127359721Z [inf]  2025-10-28 10:55:20,125 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=74.00% → conf_factor=1.48x | 最終槓桿=11.79x
2025-10-28T10:55:20.127369870Z [inf]  2025-10-28 10:55:20,125 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.8x → scale=1.54x | 基礎 SL=0.45% → 調整後=0.70% | SL=$0.80 | TP=$0.78
2025-10-28T10:55:20.127378125Z [inf]  2025-10-28 10:55:20,125 - src.strategies.self_learning_trader - INFO - 🎯 PROVEUSDT 完整信號: SHORT @ 0.79 | 槓桿=11.8x | SL=0.80 | TP=0.78 | 勝率=64.5% | 信心度=74.0%
2025-10-28T10:55:20.188731898Z [inf]  2025-10-28 10:55:20,180 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:20.188740230Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:20.188747271Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:20.188754965Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:20.188759661Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:20.188764664Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:20.214552265Z [inf]  2025-10-28 10:55:20,210 - src.strategies.rule_based_signal_generator - INFO - ✅ XNYUSDT 信號生成: LONG | 信心度=69.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:55:20.795953282Z [inf]  2025-10-28 10:55:20,495 - src.strategies.rule_based_signal_generator - ERROR - ❌ FLOCKUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:20.795958675Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:20.795964238Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:20.795971321Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:20.795976188Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:20.795980955Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:20.795988273Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:20.795992719Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:20.795997908Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:20.796002617Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:20.796007306Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:20.796012037Z [inf]  KeyError: 'zone'
2025-10-28T10:55:20.796016830Z [inf]  2025-10-28 10:55:20,726 - src.strategies.rule_based_signal_generator - INFO - ✅ COAIUSDT 信號生成: SHORT | 信心度=64.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:55:20.901197802Z [inf]  2025-10-28 10:55:20,898 - src.strategies.rule_based_signal_generator - INFO - ✅ TRUTHUSDT 信號生成: SHORT | 信心度=70.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:55:20.901203432Z [inf]  2025-10-28 10:55:20,898 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=70.00% → conf_factor=1.40x | 最終槓桿=11.15x
2025-10-28T10:55:20.901208944Z [inf]  2025-10-28 10:55:20,898 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.2x → scale=1.51x | 基礎 SL=1.04% → 調整後=1.58% | SL=$0.01 | TP=$0.01
2025-10-28T10:55:20.901214368Z [inf]  2025-10-28 10:55:20,898 - src.strategies.self_learning_trader - INFO - 🎯 TRUTHUSDT 完整信號: SHORT @ 0.01 | 槓桿=11.2x | SL=0.01 | TP=0.01 | 勝率=64.5% | 信心度=70.0%
2025-10-28T10:55:21.006547083Z [inf]  2025-10-28 10:55:21,002 - src.strategies.rule_based_signal_generator - ERROR - ❌ MONUSDT 信號生成失敗: 'zone'
2025-10-28T10:55:21.006553831Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:21.006560949Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:55:21.006567753Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:55:21.006574652Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.006580784Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:55:21.006589527Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:21.006595297Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.006601225Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:55:21.006608101Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:55:21.006614400Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:55:21.006620959Z [inf]  KeyError: 'zone'
2025-10-28T10:55:21.171013418Z [inf]  2025-10-28 10:55:21,168 - src.strategies.rule_based_signal_generator - INFO - ✅ BLUAIUSDT 信號生成: SHORT | 信心度=72.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:55:21.171025909Z [inf]  2025-10-28 10:55:21,168 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=72.00% → conf_factor=1.44x | 最終槓桿=11.47x
2025-10-28T10:55:21.171035695Z [inf]  2025-10-28 10:55:21,168 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.5x → scale=1.52x | 基礎 SL=2.42% → 調整後=3.68% | SL=$0.02 | TP=$0.02
2025-10-28T10:55:21.171043234Z [inf]  2025-10-28 10:55:21,168 - src.strategies.self_learning_trader - INFO - 🎯 BLUAIUSDT 完整信號: SHORT @ 0.02 | 槓桿=11.5x | SL=0.02 | TP=0.02 | 勝率=64.5% | 信心度=72.0%
2025-10-28T10:55:21.224025803Z [inf]  2025-10-28 10:55:21,220 - src.strategies.rule_based_signal_generator - INFO - ✅ ONUSDT 信號生成: SHORT | 信心度=60.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:55:21.224033293Z [inf]  2025-10-28 10:55:21,222 - src.core.unified_scheduler - INFO - ✅ 發現 9 個交易信號
2025-10-28T10:55:21.224040072Z [inf]  2025-10-28 10:55:21,222 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 HIGHUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:55:21.224048153Z [inf]  2025-10-28 10:55:21,222 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.8x | 名義價值=$202.91 | 數量=668.802264 | 實際價值=$202.91
2025-10-28T10:55:21.224055073Z [err]  /app/src/core/unified_scheduler.py:378: RuntimeWarning: coroutine 'BinanceClient.get_min_quantity' was never awaited
2025-10-28T10:55:21.224063467Z [err]    position_size = self.self_learning_trader.calculate_position_size(
2025-10-28T10:55:21.224069943Z [err]  RuntimeWarning: Enable tracemalloc to get the object allocation traceback
2025-10-28T10:55:21.308013354Z [inf]  2025-10-28 10:55:21,302 - src.clients.binance_client - INFO - 創建訂單: HIGHUSDT SELL MARKET 668.8
2025-10-28T10:55:21.753629678Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:55:21.753650768Z [inf]  2025-10-28 10:55:21,382 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:55:21.753656867Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:21.753660926Z [inf]      raise e
2025-10-28T10:55:21.753664166Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:55:21.753668084Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:55:21.753672796Z [inf]  2025-10-28 10:55:21,381 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'HIGHUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 668.8, 'timestamp': 1761648921302, 'signature': '154d8635ff48ffb48b327e0a1b0e463c2bd9cbcaa7e3e42ffc2ce65ea2885184'}
2025-10-28T10:55:21.753672919Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:55:21.753674742Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:55:21.753680282Z [inf]      response.raise_for_status()
2025-10-28T10:55:21.753681861Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.753687543Z [inf]  2025-10-28 10:55:21,381 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:55:21.753693360Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:55:21.753696999Z [inf]  2025-10-28 10:55:21,382 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:55:21.753703441Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.753711173Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:55:21.754874937Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:55:21.754887136Z [inf]      raise ClientResponseError(
2025-10-28T10:55:21.754890200Z [inf]  2025-10-28 10:55:21,383 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 GMXUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:55:21.754899151Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:55:21.754900265Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:55:21.754908954Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:55:21.754918812Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:55:21.754919936Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.754928257Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.754931912Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:21.754934523Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:55:21.754943864Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:55:21.754951440Z [inf]  
2025-10-28T10:55:21.754953227Z [inf]      raise BinanceRequestError(
2025-10-28T10:55:21.754965453Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:55:21.754968119Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:55:21.754970093Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:55:21.754976798Z [inf]  
2025-10-28T10:55:21.754983160Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.757044293Z [inf]  2025-10-28 10:55:21,383 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=12.3x | 名義價值=$211.14 | 數量=20.309819 | 實際價值=$211.14
2025-10-28T10:55:21.757049170Z [inf]  2025-10-28 10:55:21,383 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:55:21.757054664Z [inf]  2025-10-28 10:55:21,463 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:55:21.757061624Z [inf]  2025-10-28 10:55:21,463 - src.clients.binance_client - INFO - 創建訂單: GMXUSDT SELL MARKET 20.31
2025-10-28T10:55:21.757069893Z [inf]  2025-10-28 10:55:21,541 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'GMXUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 20.31, 'timestamp': 1761648921463, 'signature': 'c3c8326ba33971dabf88732bca827587cb23f4f434776d9d9892068956f2a561'}
2025-10-28T10:55:21.757074537Z [inf]  2025-10-28 10:55:21,541 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:55:21.757079040Z [inf]  2025-10-28 10:55:21,541 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:55:21.757083866Z [inf]  2025-10-28 10:55:21,541 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:55:21.757088712Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:21.757094557Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:55:21.757099495Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:55:21.757105289Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.757131453Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:55:21.758436114Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:55:21.758442145Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:55:21.758447093Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:55:21.758454642Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.758462086Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:55:21.758463816Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:21.758470843Z [inf]      response.raise_for_status()
2025-10-28T10:55:21.758475170Z [inf]      raise e
2025-10-28T10:55:21.758477870Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:55:21.758483319Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:55:21.758491937Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:55:21.758492745Z [inf]      raise ClientResponseError(
2025-10-28T10:55:21.758506811Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.758509368Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:55:21.758517929Z [inf]  
2025-10-28T10:55:21.758523867Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:55:21.758528586Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:55:21.758538638Z [inf]  
2025-10-28T10:55:21.758541667Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:55:21.758549295Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.758556190Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:55:21.759276640Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.759283128Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:55:21.759288889Z [inf]      raise BinanceRequestError(
2025-10-28T10:55:21.759294290Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:55:21.759299665Z [inf]  2025-10-28 10:55:21,542 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 DEGENUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:55:21.759307153Z [inf]  2025-10-28 10:55:21,542 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=12.3x | 名義價值=$211.14 | 數量=96853.612208 | 實際價值=$211.14
2025-10-28T10:55:21.759313147Z [inf]  2025-10-28 10:55:21,543 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:55:21.759318595Z [inf]  2025-10-28 10:55:21,621 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:55:21.759324091Z [inf]  2025-10-28 10:55:21,622 - src.clients.binance_client - INFO - 創建訂單: DEGENUSDT BUY MARKET 96854.0
2025-10-28T10:55:21.759329126Z [inf]  2025-10-28 10:55:21,700 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'DEGENUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 96854.0, 'timestamp': 1761648921622, 'signature': '813c546084d7b7a5fc0b7afcaf8fa9cccb10c28ebe0588ae8870dd57ab987181'}
2025-10-28T10:55:21.759334344Z [inf]  2025-10-28 10:55:21,700 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:55:21.759341048Z [inf]  2025-10-28 10:55:21,701 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:55:21.761241290Z [inf]  2025-10-28 10:55:21,701 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:55:21.761249759Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:21.761258228Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:55:21.761270147Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:55:21.761277746Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.761345142Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:55:21.761358652Z [inf]      raise e
2025-10-28T10:55:21.761368407Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:55:21.761375679Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:55:21.761384065Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.761393553Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:55:21.761400957Z [inf]      response.raise_for_status()
2025-10-28T10:55:21.761410039Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:55:21.761417119Z [inf]      raise ClientResponseError(
2025-10-28T10:55:21.761430787Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:55:21.761438841Z [inf]  
2025-10-28T10:55:21.761446643Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:55:21.761455131Z [inf]  
2025-10-28T10:55:21.761462084Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:21.761475324Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:55:21.761486177Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:55:21.762899981Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:55:21.762913048Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.762922045Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:55:21.762931378Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:55:21.762943706Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.762952083Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:55:21.762960582Z [inf]      raise BinanceRequestError(
2025-10-28T10:55:21.762969271Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:55:21.762977536Z [inf]  2025-10-28 10:55:21,702 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 VIRTUALUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:55:21.762986745Z [inf]  2025-10-28 10:55:21,702 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.5x | 名義價值=$197.43 | 數量=125.767886 | 實際價值=$197.43
2025-10-28T10:55:21.762993562Z [inf]  2025-10-28 10:55:21,702 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:55:21.763095513Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.763102819Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:55:21.784484148Z [inf]  2025-10-28 10:55:21,780 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:55:21.784488358Z [inf]  2025-10-28 10:55:21,781 - src.clients.binance_client - INFO - 創建訂單: VIRTUALUSDT BUY MARKET 125.8
2025-10-28T10:55:21.865200907Z [inf]  2025-10-28 10:55:21,862 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'VIRTUALUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 125.8, 'timestamp': 1761648921781, 'signature': '850a3b5acc44b5d0350d02f42085ec5cccc65a53c0a7c3aa713808c16a66e8e8'}
2025-10-28T10:55:21.865203175Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:55:21.865212093Z [inf]  2025-10-28 10:55:21,862 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:55:21.865216501Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.865221621Z [inf]  2025-10-28 10:55:21,862 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:55:21.865228234Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:55:21.865231357Z [inf]  2025-10-28 10:55:21,862 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:55:21.865237016Z [inf]      response.raise_for_status()
2025-10-28T10:55:21.865239527Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:21.865245004Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:55:21.865247771Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:55:21.865251135Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:55:21.865257527Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.865262321Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:55:21.865266312Z [inf]      raise e
2025-10-28T10:55:21.865271503Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:55:21.867841058Z [inf]      raise ClientResponseError(
2025-10-28T10:55:21.867847975Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:55:21.867852217Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:55:21.867859669Z [inf]  
2025-10-28T10:55:21.867862106Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.867867508Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:55:21.867871353Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:55:21.867876177Z [inf]  
2025-10-28T10:55:21.867879961Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:55:21.867884011Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:21.867887875Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.867893049Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:55:21.867896384Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:55:21.867902145Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:55:21.867903905Z [inf]      raise BinanceRequestError(
2025-10-28T10:55:21.867910616Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:21.867911875Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:55:21.867918079Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:55:21.867930074Z [inf]  2025-10-28 10:55:21,863 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 SONICUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:55:21.869916031Z [inf]  2025-10-28 10:55:21,863 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.9x | 名義價值=$205.66 | 數量=1494.598082 | 實際價值=$205.66
2025-10-28T10:55:21.869922189Z [inf]  2025-10-28 10:55:21,863 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:55:21.950984138Z [inf]  2025-10-28 10:55:21,948 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:55:21.950989732Z [inf]  2025-10-28 10:55:21,948 - src.clients.binance_client - INFO - 創建訂單: SONICUSDT BUY MARKET 1494.6
2025-10-28T10:55:22.030733726Z [inf]  2025-10-28 10:55:22,027 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'SONICUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 1494.6, 'timestamp': 1761648921948, 'signature': 'eeb9241f2e5be1bf4df21f495121a8b8f93a4d20d80275eb3d0441bbafd81e89'}
2025-10-28T10:55:22.030742845Z [inf]  2025-10-28 10:55:22,027 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:55:22.030745183Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:55:22.030748845Z [inf]  2025-10-28 10:55:22,027 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:55:22.030755114Z [inf]  2025-10-28 10:55:22,027 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:55:22.030756383Z [inf]      response.raise_for_status()
2025-10-28T10:55:22.030762856Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:22.030765356Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:55:22.030769053Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:55:22.030774503Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:55:22.030781103Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.030786765Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:55:22.030792008Z [inf]      raise e
2025-10-28T10:55:22.030797695Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:55:22.030803350Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:55:22.030811990Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.033076952Z [inf]      raise ClientResponseError(
2025-10-28T10:55:22.033083209Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:55:22.033088039Z [inf]  
2025-10-28T10:55:22.033091944Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:55:22.033096063Z [inf]  
2025-10-28T10:55:22.033101275Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:22.033105437Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:55:22.033155123Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:55:22.033160468Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.033164593Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:55:22.033168539Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:55:22.033172775Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.033177630Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:55:22.033182484Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:55:22.033187060Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.033191016Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:55:22.033194889Z [inf]      raise BinanceRequestError(
2025-10-28T10:55:22.033199067Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:55:22.033204198Z [inf]  2025-10-28 10:55:22,028 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 VICUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:55:22.035813976Z [inf]  2025-10-28 10:55:22,028 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.8x | 名義價值=$202.91 | 數量=1416.012608 | 實際價值=$202.91
2025-10-28T10:55:22.035819587Z [inf]  2025-10-28 10:55:22,028 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:55:22.110206212Z [inf]  2025-10-28 10:55:22,107 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:55:22.110212501Z [inf]  2025-10-28 10:55:22,107 - src.clients.binance_client - INFO - 創建訂單: VICUSDT SELL MARKET 1416.0
2025-10-28T10:55:22.186332501Z [inf]  2025-10-28 10:55:22,182 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:22.186339586Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:22.186346759Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:22.186354520Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:22.186363872Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.186370416Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:22.189931581Z [inf]  2025-10-28 10:55:22,186 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'VICUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 1416.0, 'timestamp': 1761648922107, 'signature': '9f1bc8fd111dc1c9ce21e93fd5e571a5c64746b5c40d2af713e1d2b17528075c'}
2025-10-28T10:55:22.189938152Z [inf]  2025-10-28 10:55:22,186 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:55:22.189945655Z [inf]  2025-10-28 10:55:22,186 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:55:22.189951773Z [inf]  2025-10-28 10:55:22,186 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:55:22.189958733Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:22.189966038Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:55:22.189977070Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:55:22.189983428Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.189991563Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:55:22.189998975Z [inf]      raise e
2025-10-28T10:55:22.190007946Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:55:22.190015084Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:55:22.190021653Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.190028144Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:55:22.190035773Z [inf]      response.raise_for_status()
2025-10-28T10:55:22.190045183Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:55:22.193882687Z [inf]      raise ClientResponseError(
2025-10-28T10:55:22.193900421Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:55:22.193912015Z [inf]  
2025-10-28T10:55:22.193921312Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:55:22.193934658Z [inf]  
2025-10-28T10:55:22.193945949Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:22.193956456Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:55:22.193963576Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:55:22.193969898Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:55:22.193975479Z [inf]      raise BinanceRequestError(
2025-10-28T10:55:22.193980858Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.193985308Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:55:22.193994824Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:55:22.193996267Z [inf]  2025-10-28 10:55:22,187 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 PROVEUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:55:22.194004150Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:55:22.194014941Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.194025158Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:55:22.194034243Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:55:22.194042473Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.197545993Z [inf]  2025-10-28 10:55:22,187 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.8x | 名義價值=$202.91 | 數量=256.205312 | 實際價值=$202.91
2025-10-28T10:55:22.197554081Z [inf]  2025-10-28 10:55:22,187 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:55:22.270030957Z [inf]  2025-10-28 10:55:22,266 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:55:22.270035473Z [inf]  2025-10-28 10:55:22,267 - src.clients.binance_client - INFO - 創建訂單: PROVEUSDT SELL MARKET 256.2
2025-10-28T10:55:22.812055905Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:55:22.812064753Z [inf]      raise e
2025-10-28T10:55:22.812072050Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:55:22.812079607Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:55:22.812137134Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:22.812148641Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:55:22.812153635Z [inf]  2025-10-28 10:55:22,346 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'PROVEUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 256.2, 'timestamp': 1761648922267, 'signature': '5a7f19614c626bbbc97b24644e7c3927777af209e6c5caaf4795ca8ed2a1aab7'}
2025-10-28T10:55:22.812160328Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:55:22.812169438Z [inf]  2025-10-28 10:55:22,346 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:55:22.812173657Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.812180860Z [inf]  2025-10-28 10:55:22,346 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:55:22.812189100Z [inf]  2025-10-28 10:55:22,346 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:55:22.813673062Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.813742406Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:55:22.813756138Z [inf]      response.raise_for_status()
2025-10-28T10:55:22.813766066Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:55:22.820037891Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:55:22.820053102Z [inf]      raise ClientResponseError(
2025-10-28T10:55:22.820058170Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.820066453Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:55:22.820074555Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:55:22.820075984Z [inf]  
2025-10-28T10:55:22.820086719Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:55:22.820091114Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:55:22.820096104Z [inf]  
2025-10-28T10:55:22.820104374Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:22.820108458Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.820112837Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:55:22.820118008Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:55:22.820126441Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:55:22.820134766Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.820148381Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:55:22.820158001Z [inf]      raise BinanceRequestError(
2025-10-28T10:55:22.820167661Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:55:22.820177113Z [inf]  2025-10-28 10:55:22,347 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 TRUTHUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:55:22.823597418Z [inf]  2025-10-28 10:55:22,347 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.2x | 名義價值=$191.95 | 數量=14037.315317 | 實際價值=$191.95
2025-10-28T10:55:22.823603148Z [inf]  2025-10-28 10:55:22,347 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:55:22.823609422Z [inf]  2025-10-28 10:55:22,424 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:55:22.823617103Z [inf]  2025-10-28 10:55:22,425 - src.clients.binance_client - INFO - 創建訂單: TRUTHUSDT SELL MARKET 14037.0
2025-10-28T10:55:22.823623319Z [inf]  2025-10-28 10:55:22,502 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'TRUTHUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 14037.0, 'timestamp': 1761648922425, 'signature': 'd880be8e7bb542eac5903e3fdd9443b674438bc5e0c5df2e9806a3256174952e'}
2025-10-28T10:55:22.823630559Z [inf]  2025-10-28 10:55:22,502 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:55:22.823637568Z [inf]  2025-10-28 10:55:22,502 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:55:22.823645747Z [inf]  2025-10-28 10:55:22,502 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:55:22.823652370Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:22.823659622Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:55:22.823666280Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:55:22.823673048Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.825157342Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:55:22.825162732Z [inf]      raise e
2025-10-28T10:55:22.825168330Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:55:22.825173823Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.825176651Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:55:22.825179497Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:55:22.825184781Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:55:22.825188044Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.825190734Z [inf]  
2025-10-28T10:55:22.825199985Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:22.825200275Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:55:22.825201213Z [inf]  
2025-10-28T10:55:22.825210241Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:55:22.825214323Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:55:22.825214649Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:55:22.825214937Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:55:22.825225837Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:55:22.825226772Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.825239337Z [inf]      response.raise_for_status()
2025-10-28T10:55:22.825249732Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:55:22.825259312Z [inf]      raise ClientResponseError(
2025-10-28T10:55:22.826887286Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:55:22.826900898Z [inf]      raise BinanceRequestError(
2025-10-28T10:55:22.826909927Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:55:22.826919261Z [inf]  2025-10-28 10:55:22,503 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 BLUAIUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:55:22.826929229Z [inf]  2025-10-28 10:55:22,503 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.5x | 名義價值=$197.43 | 數量=10535.241633 | 實際價值=$197.43
2025-10-28T10:55:22.826939005Z [inf]  2025-10-28 10:55:22,503 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:55:22.826948207Z [inf]  2025-10-28 10:55:22,716 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:55:22.826956953Z [inf]  2025-10-28 10:55:22,716 - src.clients.binance_client - INFO - 創建訂單: BLUAIUSDT SELL MARKET 10535.0
2025-10-28T10:55:22.826966092Z [inf]  2025-10-28 10:55:22,791 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'BLUAIUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 10535.0, 'timestamp': 1761648922716, 'signature': '251fd63ad78211f5e0cb533c1b87a6feb15f10c4ceb8074b81209d4c107eeea4'}
2025-10-28T10:55:22.826977927Z [inf]  2025-10-28 10:55:22,791 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:55:22.827000582Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:55:22.827006983Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.829070489Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.829084010Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:55:22.829092910Z [inf]      raise e
2025-10-28T10:55:22.829101573Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:55:22.829127220Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:55:22.829148742Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.829162624Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:55:22.829176353Z [inf]      response.raise_for_status()
2025-10-28T10:55:22.829187332Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:55:22.829200186Z [inf]  2025-10-28 10:55:22,791 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:55:22.829210790Z [inf]  2025-10-28 10:55:22,791 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:55:22.829210913Z [inf]      raise ClientResponseError(
2025-10-28T10:55:22.829221634Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:22.829222505Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:55:22.829231292Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:55:22.829234166Z [inf]  
2025-10-28T10:55:22.829238734Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:55:22.829244915Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:55:22.829252773Z [inf]  
2025-10-28T10:55:22.829260176Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:22.829268725Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:55:22.831789340Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:55:22.831800459Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.831809698Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:55:22.831815929Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:55:22.831822968Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.831830057Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:55:22.831837094Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:55:22.831843299Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:22.831850145Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:55:22.831856917Z [inf]      raise BinanceRequestError(
2025-10-28T10:55:22.831864519Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:55:22.831871630Z [inf]  2025-10-28 10:55:22,792 - src.core.unified_scheduler - INFO - ✅ 週期完成 | 耗時: 9.1s | 新成交: 0
2025-10-28T10:55:22.831879994Z [inf]  2025-10-28 10:55:22,792 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T10:55:24.191531092Z [inf]  2025-10-28 10:55:24,184 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:24.191538823Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:24.191546278Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:24.191554078Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:24.191561566Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:24.191568515Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:26.195069982Z [inf]  2025-10-28 10:55:26,185 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:26.195076598Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:26.195082351Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:26.195088922Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:26.195094211Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:26.195101369Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:28.196814010Z [inf]  2025-10-28 10:55:28,186 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:28.196828877Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:28.196836831Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:28.196844185Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:28.196853097Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:28.196859948Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:30.189807059Z [inf]  2025-10-28 10:55:30,188 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:30.189814383Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:30.189821136Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:30.189828285Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:30.189836089Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:30.189845437Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:32.192760214Z [inf]  2025-10-28 10:55:32,190 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:32.192768120Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:32.192774510Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:32.192779941Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:32.192787174Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:32.192796419Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:34.197463655Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:34.197474398Z [inf]  2025-10-28 10:55:34,192 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:34.197478746Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:34.197485369Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:34.197488911Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:34.197496250Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:36.202630243Z [inf]  2025-10-28 10:55:36,194 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:36.202640437Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:36.202646309Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:36.202652867Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:36.202660515Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:36.202667647Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:38.201481433Z [inf]  2025-10-28 10:55:38,196 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:38.201488671Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:38.201494089Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:38.201499056Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:38.201503482Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:38.201507885Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:40.201246291Z [inf]  2025-10-28 10:55:40,199 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:40.201256238Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:40.201263620Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:40.201269799Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:40.201277828Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:40.201285356Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:42.203654350Z [inf]  2025-10-28 10:55:42,202 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:42.203666544Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:42.203673049Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:42.203678128Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:42.203683920Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:42.203689206Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:44.206042861Z [inf]  2025-10-28 10:55:44,203 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:44.206057560Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:44.206065542Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:44.206073073Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:44.206081102Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:44.206088747Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:46.206903664Z [inf]  2025-10-28 10:55:46,204 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:46.206921506Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:46.206931306Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:46.206944323Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:46.206953051Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:46.206962962Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:48.214968922Z [inf]  2025-10-28 10:55:48,207 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:48.214973808Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:48.214978465Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:48.214983771Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:48.214990679Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:48.214995283Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:50.213375881Z [inf]  2025-10-28 10:55:50,209 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:50.213384554Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:50.213389736Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:50.213394158Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:50.213399094Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:50.213404304Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:52.212868122Z [inf]  2025-10-28 10:55:52,210 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:52.212878644Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:52.212885177Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:52.212891596Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:52.212898058Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:52.212905337Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:54.215594014Z [inf]  2025-10-28 10:55:54,213 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:54.215601593Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:54.215610084Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:54.215615896Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:54.215621643Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:54.215632385Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:56.220451944Z [inf]  2025-10-28 10:55:56,215 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:56.220459937Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:56.220466618Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:56.220476838Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:56.220485531Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:55:56.220492661Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:58.223755253Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:58.223804841Z [inf]  2025-10-28 10:55:58,218 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:55:58.223812677Z [inf]  Traceback (most recent call last):
2025-10-28T10:55:58.223819363Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:55:58.223825786Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:55:58.223831787Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:00.222617597Z [inf]  2025-10-28 10:56:00,221 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:00.222631343Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:00.222637939Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:00.222643675Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:00.222649061Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:00.222654747Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:02.225079391Z [inf]  2025-10-28 10:56:02,222 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:02.225089817Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:02.225096820Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:02.225103159Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:02.225109646Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:02.225116368Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:04.230067097Z [inf]  2025-10-28 10:56:04,224 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:04.230080233Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:04.230087406Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:04.230093095Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:04.230098789Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:04.230105188Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:06.234244321Z [inf]  2025-10-28 10:56:06,226 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:06.234259683Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:06.234268083Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:06.234275508Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:06.234281544Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:06.234288689Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:08.232712385Z [inf]  2025-10-28 10:56:08,229 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:08.232719787Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:08.232726083Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:08.232729983Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:08.232736792Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:08.232742446Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:10.235755723Z [inf]  2025-10-28 10:56:10,232 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:10.235760483Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:10.235765718Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:10.235770419Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:10.235776221Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:10.235781206Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:12.242603640Z [inf]  2025-10-28 10:56:12,234 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:12.242610808Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:12.242618570Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:12.242626235Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:12.242637437Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:12.242648550Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:14.247523454Z [inf]  2025-10-28 10:56:14,235 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:14.247533174Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:14.247539115Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:14.247546200Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:14.247552591Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:14.247559297Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:16.242084586Z [inf]  2025-10-28 10:56:16,238 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:16.242091588Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:16.242097855Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:16.242103761Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:16.242110201Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:16.242116787Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:18.245436047Z [inf]  2025-10-28 10:56:18,240 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:18.245445035Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:18.245452576Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:18.245460857Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:18.245468775Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:18.245476899Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:20.247989961Z [inf]  2025-10-28 10:56:20,242 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:20.247997513Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:20.248002973Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:20.248008432Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:20.248018822Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:20.248025790Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:22.246434779Z [inf]  2025-10-28 10:56:22,245 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:22.246443434Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:22.246450793Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:22.246457954Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:22.246466445Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:22.246473411Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:23.280305182Z [inf]  2025-10-28 10:56:22,794 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T10:56:23.280311160Z [inf]  2025-10-28 10:56:22,794 - src.core.unified_scheduler - INFO - 🔄 交易週期 #3 | 2025-10-28 10:56:22 UTC
2025-10-28T10:56:23.280316824Z [inf]  2025-10-28 10:56:22,794 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T10:56:23.280322818Z [inf]  2025-10-28 10:56:22,795 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:56:23.280329762Z [inf]  2025-10-28 10:56:22,900 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:56:23.280335792Z [inf]  2025-10-28 10:56:22,901 - src.core.unified_scheduler - INFO - 📦 當前持倉: 無
2025-10-28T10:56:23.280341752Z [inf]  2025-10-28 10:56:22,901 - src.core.unified_scheduler - INFO - 💰 賬戶權益: $21.51 | 未實現盈虧: $+0.00
2025-10-28T10:56:23.280348406Z [inf]  2025-10-28 10:56:22,902 - src.core.unified_scheduler - INFO - 📊 掃描到 528 個 USDT 永續合約，監控前 999 個
2025-10-28T10:56:23.280354402Z [inf]  2025-10-28 10:56:22,902 - src.core.unified_scheduler - INFO - 📊 掃描 528 個交易對中...
2025-10-28T10:56:23.280360132Z [inf]  2025-10-28 10:56:22,970 - src.strategies.rule_based_signal_generator - ERROR - ❌ XRPUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:23.280366143Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:23.280371851Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:23.280378472Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:23.280384991Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:23.280654328Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:23.280662023Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:23.280669469Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:23.280676039Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:23.280682442Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:23.280689259Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:23.280695934Z [inf]  KeyError: 'zone'
2025-10-28T10:56:24.256265130Z [inf]  2025-10-28 10:56:24,254 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:24.256276005Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:24.256282980Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:24.256289898Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:24.256297218Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:24.256304317Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:25.037224690Z [inf]  2025-10-28 10:56:24,798 - src.strategies.rule_based_signal_generator - INFO - ✅ HIGHUSDT 信號生成: SHORT | 信心度=74.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:56:25.037231402Z [inf]  2025-10-28 10:56:24,798 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=74.00% → conf_factor=1.48x | 最終槓桿=11.79x
2025-10-28T10:56:25.037237451Z [inf]  2025-10-28 10:56:24,798 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.8x → scale=1.54x | 基礎 SL=0.51% → 調整後=0.79% | SL=$0.31 | TP=$0.30
2025-10-28T10:56:25.037243717Z [inf]  2025-10-28 10:56:24,798 - src.strategies.self_learning_trader - INFO - 🎯 HIGHUSDT 完整信號: SHORT @ 0.30 | 槓桿=11.8x | SL=0.31 | TP=0.30 | 勝率=64.5% | 信心度=74.0%
2025-10-28T10:56:25.037248882Z [inf]  2025-10-28 10:56:24,837 - src.strategies.rule_based_signal_generator - ERROR - ❌ PHBUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:25.037252941Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:25.037259540Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:25.037264133Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:25.037269245Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:25.037273924Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:25.037278052Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:25.037283663Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:25.037288348Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:25.037850772Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:25.038189056Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:25.038196413Z [inf]  KeyError: 'zone'
2025-10-28T10:56:25.038275272Z [inf]  2025-10-28 10:56:24,851 - src.strategies.rule_based_signal_generator - INFO - ✅ GMXUSDT 信號生成: SHORT | 信心度=77.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:56:25.038284044Z [inf]  2025-10-28 10:56:24,851 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=77.00% → conf_factor=1.54x | 最終槓桿=12.27x
2025-10-28T10:56:25.038300647Z [inf]  2025-10-28 10:56:24,852 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=12.3x → scale=1.56x | 基礎 SL=0.46% → 調整後=0.72% | SL=$10.47 | TP=$10.28
2025-10-28T10:56:25.038311386Z [inf]  2025-10-28 10:56:24,852 - src.strategies.self_learning_trader - INFO - 🎯 GMXUSDT 完整信號: SHORT @ 10.40 | 槓桿=12.3x | SL=10.47 | TP=10.28 | 勝率=64.5% | 信心度=77.0%
2025-10-28T10:56:25.169971597Z [inf]  2025-10-28 10:56:25,168 - src.strategies.rule_based_signal_generator - INFO - ✅ MAVUSDT 信號生成: SHORT | 信心度=54.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:56:25.249367973Z [inf]  KeyError: 'zone'
2025-10-28T10:56:25.249376360Z [inf]  2025-10-28 10:56:25,246 - src.strategies.rule_based_signal_generator - ERROR - ❌ AGLDUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:25.249383413Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:25.249390345Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:25.249396851Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:25.249402714Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:25.249408885Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:25.249415507Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:25.249429816Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:25.249436701Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:25.249443203Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:25.249449162Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:25.992190489Z [inf]  2025-10-28 10:56:25,937 - src.strategies.rule_based_signal_generator - INFO - ✅ TONUSDT 信號生成: LONG | 信心度=69.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:56:26.058353672Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:26.058369121Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:26.058375297Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:26.058380379Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:26.058386644Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:26.058393263Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:26.058398071Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:26.058403238Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:26.058408814Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:26.058422476Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:26.058429114Z [inf]  KeyError: 'zone'
2025-10-28T10:56:26.058502976Z [inf]  2025-10-28 10:56:26,054 - src.strategies.rule_based_signal_generator - ERROR - ❌ TNSRUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:26.083993773Z [inf]  2025-10-28 10:56:26,082 - src.strategies.rule_based_signal_generator - ERROR - ❌ TAOUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:26.084001067Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:26.084008593Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:26.084022199Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:26.084029463Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:26.084034938Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:26.084040918Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:26.084046216Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:26.084051593Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:26.084057511Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:26.084063819Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:26.084073841Z [inf]  KeyError: 'zone'
2025-10-28T10:56:26.227957375Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:26.227976582Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:26.227985277Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:26.227992729Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:26.227999752Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:26.228007638Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:26.228020132Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:26.228031521Z [inf]  KeyError: 'zone'
2025-10-28T10:56:26.228048965Z [inf]  2025-10-28 10:56:26,220 - src.strategies.rule_based_signal_generator - ERROR - ❌ BANANAUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:26.228054411Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:26.228060124Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:26.228068611Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:26.268410545Z [inf]  2025-10-28 10:56:26,262 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:26.268418696Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:26.268426525Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:26.268433789Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:26.268441766Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:26.268452608Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:26.361682009Z [inf]  2025-10-28 10:56:26,360 - src.strategies.rule_based_signal_generator - ERROR - ❌ CHESSUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:26.361690262Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:26.361697306Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:26.361703414Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:26.361724262Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:26.361731460Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:26.361736614Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:26.361741826Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:26.361747965Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:26.361753556Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:26.361761451Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:26.361767849Z [inf]  KeyError: 'zone'
2025-10-28T10:56:26.531098827Z [inf]  2025-10-28 10:56:26,526 - src.strategies.rule_based_signal_generator - INFO - ✅ COSUSDT 信號生成: SHORT | 信心度=64.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:56:27.030705411Z [inf]  2025-10-28 10:56:26,751 - src.strategies.rule_based_signal_generator - INFO - ✅ HIPPOUSDT 信號生成: LONG | 信心度=69.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:56:27.030713143Z [inf]  2025-10-28 10:56:26,774 - src.strategies.rule_based_signal_generator - INFO - ✅ DEGENUSDT 信號生成: LONG | 信心度=77.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:56:27.030719449Z [inf]  2025-10-28 10:56:26,774 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=77.00% → conf_factor=1.54x | 最終槓桿=12.27x
2025-10-28T10:56:27.030728125Z [inf]  2025-10-28 10:56:26,774 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=12.3x → scale=1.56x | 基礎 SL=1.65% → 調整後=2.58% | SL=$0.00 | TP=$0.00
2025-10-28T10:56:27.030734735Z [inf]  2025-10-28 10:56:26,774 - src.strategies.self_learning_trader - INFO - 🎯 DEGENUSDT 完整信號: LONG @ 0.00 | 槓桿=12.3x | SL=0.00 | TP=0.00 | 勝率=64.5% | 信心度=77.0%
2025-10-28T10:56:27.030743348Z [inf]  2025-10-28 10:56:26,876 - src.strategies.rule_based_signal_generator - INFO - ✅ KAIAUSDT 信號生成: LONG | 信心度=57.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:56:27.030764744Z [inf]  2025-10-28 10:56:26,909 - src.strategies.rule_based_signal_generator - ERROR - ❌ ORCAUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:27.030772919Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:27.030780646Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:27.030788269Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:27.030794646Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:27.030802859Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:27.030813063Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:27.031038064Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:27.031047090Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:27.031058305Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:27.031066173Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:27.031076755Z [inf]  KeyError: 'zone'
2025-10-28T10:56:27.031084491Z [inf]  2025-10-28 10:56:26,953 - src.strategies.rule_based_signal_generator - INFO - ✅ VIRTUALUSDT 信號生成: LONG | 信心度=72.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:56:27.031091276Z [inf]  2025-10-28 10:56:26,953 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=72.00% → conf_factor=1.44x | 最終槓桿=11.47x
2025-10-28T10:56:27.031098859Z [inf]  2025-10-28 10:56:26,953 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.5x → scale=1.52x | 基礎 SL=2.29% → 調整後=3.50% | SL=$1.51 | TP=$1.65
2025-10-28T10:56:27.031107765Z [inf]  2025-10-28 10:56:26,953 - src.strategies.self_learning_trader - INFO - 🎯 VIRTUALUSDT 完整信號: LONG @ 1.57 | 槓桿=11.5x | SL=1.51 | TP=1.65 | 勝率=64.5% | 信心度=72.0%
2025-10-28T10:56:27.104133227Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:27.104134249Z [inf]  2025-10-28 10:56:27,101 - src.strategies.rule_based_signal_generator - ERROR - ❌ FARTCOINUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:27.104144831Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:27.104146761Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:27.104154003Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:27.104155231Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:27.104162436Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:27.104163393Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:27.104170657Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:27.104172353Z [inf]  KeyError: 'zone'
2025-10-28T10:56:27.104178582Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:27.104184609Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:27.175773236Z [inf]  2025-10-28 10:56:27,168 - src.strategies.rule_based_signal_generator - ERROR - ❌ DFUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:27.175787120Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:27.175796061Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:27.175802994Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:27.175810787Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:27.175818130Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:27.175825146Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:27.175831973Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:27.175841493Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:27.175850018Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:27.175856229Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:27.175863384Z [inf]  KeyError: 'zone'
2025-10-28T10:56:27.282727348Z [inf]  2025-10-28 10:56:27,280 - src.strategies.rule_based_signal_generator - INFO - ✅ SONICUSDT 信號生成: LONG | 信心度=75.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:56:27.282736558Z [inf]  2025-10-28 10:56:27,280 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=75.00% → conf_factor=1.50x | 最終槓桿=11.95x
2025-10-28T10:56:27.282743896Z [inf]  2025-10-28 10:56:27,280 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.9x → scale=1.55x | 基礎 SL=0.83% → 調整後=1.29% | SL=$0.14 | TP=$0.14
2025-10-28T10:56:27.282749253Z [inf]  2025-10-28 10:56:27,280 - src.strategies.self_learning_trader - INFO - 🎯 SONICUSDT 完整信號: LONG @ 0.14 | 槓桿=11.9x | SL=0.14 | TP=0.14 | 勝率=64.5% | 信心度=75.0%
2025-10-28T10:56:27.531445726Z [inf]  2025-10-28 10:56:27,527 - src.strategies.rule_based_signal_generator - ERROR - ❌ SHELLUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:27.531453565Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:27.531459410Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:27.531464871Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:27.531493162Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:27.531501118Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:27.531507992Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:27.531517861Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:27.531525260Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:27.531532162Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:27.531539910Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:27.531546671Z [inf]  KeyError: 'zone'
2025-10-28T10:56:27.569458208Z [inf]  2025-10-28 10:56:27,564 - src.strategies.rule_based_signal_generator - INFO - ✅ VICUSDT 信號生成: SHORT | 信心度=74.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:56:27.569466542Z [inf]  2025-10-28 10:56:27,564 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=74.00% → conf_factor=1.48x | 最終槓桿=11.79x
2025-10-28T10:56:27.569471390Z [inf]  2025-10-28 10:56:27,564 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.8x → scale=1.54x | 基礎 SL=0.71% → 調整後=1.09% | SL=$0.14 | TP=$0.14
2025-10-28T10:56:27.569477132Z [inf]  2025-10-28 10:56:27,564 - src.strategies.self_learning_trader - INFO - 🎯 VICUSDT 完整信號: SHORT @ 0.14 | 槓桿=11.8x | SL=0.14 | TP=0.14 | 勝率=64.5% | 信心度=74.0%
2025-10-28T10:56:28.073940211Z [inf]  2025-10-28 10:56:27,996 - src.strategies.rule_based_signal_generator - ERROR - ❌ EPTUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:28.073941815Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:28.073948468Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:28.073949044Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:28.073949280Z [inf]  KeyError: 'zone'
2025-10-28T10:56:28.073951132Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:28.073951194Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:28.073958264Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:28.073964219Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:28.073972748Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:28.073976188Z [inf]  2025-10-28 10:56:27,803 - src.strategies.rule_based_signal_generator - INFO - ✅ WALUSDT 信號生成: SHORT | 信心度=69.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:56:28.074007236Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:28.074014298Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:28.223257817Z [inf]  2025-10-28 10:56:28,220 - src.strategies.rule_based_signal_generator - ERROR - ❌ OGUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:28.223269476Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:28.223276795Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:28.223284391Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:28.223290431Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:28.223297280Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:28.223302922Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:28.223308592Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:28.223314498Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:28.223324660Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:28.223330847Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:28.223336400Z [inf]  KeyError: 'zone'
2025-10-28T10:56:28.271126971Z [inf]  2025-10-28 10:56:28,269 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:28.271138662Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:28.271145132Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:28.271151372Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:28.271157630Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:28.271166477Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:28.313641528Z [inf]  2025-10-28 10:56:28,305 - src.strategies.rule_based_signal_generator - ERROR - ❌ BUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:28.313649931Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:28.313656196Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:28.313661773Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:28.313667693Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:28.313674360Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:28.313681002Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:28.313687776Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:28.313694054Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:28.313703498Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:28.313710141Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:28.313716311Z [inf]  KeyError: 'zone'
2025-10-28T10:56:29.131812588Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:29.131820388Z [inf]  KeyError: 'zone'
2025-10-28T10:56:29.131820413Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:29.131827169Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:29.131828437Z [inf]  2025-10-28 10:56:28,964 - src.strategies.rule_based_signal_generator - INFO - ✅ PROVEUSDT 信號生成: SHORT | 信心度=74.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:56:29.131829102Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:29.131835702Z [inf]  2025-10-28 10:56:28,964 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=74.00% → conf_factor=1.48x | 最終槓桿=11.79x
2025-10-28T10:56:29.131841176Z [inf]  2025-10-28 10:56:28,964 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.8x → scale=1.54x | 基礎 SL=0.45% → 調整後=0.70% | SL=$0.80 | TP=$0.78
2025-10-28T10:56:29.131855440Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:29.131864081Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:29.131887531Z [inf]  2025-10-28 10:56:28,706 - src.strategies.rule_based_signal_generator - ERROR - ❌ PUMPUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:29.131893388Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:29.131899493Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:29.131907440Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:29.131913600Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:29.135459808Z [inf]  2025-10-28 10:56:28,964 - src.strategies.self_learning_trader - INFO - 🎯 PROVEUSDT 完整信號: SHORT @ 0.79 | 槓桿=11.8x | SL=0.80 | TP=0.78 | 勝率=64.5% | 信心度=74.0%
2025-10-28T10:56:29.135464392Z [inf]  2025-10-28 10:56:29,054 - src.strategies.rule_based_signal_generator - INFO - ✅ XNYUSDT 信號生成: LONG | 信心度=69.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:56:29.285624937Z [inf]  2025-10-28 10:56:29,280 - src.strategies.rule_based_signal_generator - ERROR - ❌ FLOCKUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:29.285631311Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:29.285637350Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:29.285641955Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:29.285646572Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:29.285653879Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:29.285658382Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:29.285664204Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:29.285670734Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:29.285675186Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:29.285680229Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:29.285686417Z [inf]  KeyError: 'zone'
2025-10-28T10:56:29.499639243Z [inf]  2025-10-28 10:56:29,497 - src.strategies.rule_based_signal_generator - INFO - ✅ COAIUSDT 信號生成: SHORT | 信心度=64.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:56:30.120402944Z [inf]  2025-10-28 10:56:29,648 - src.strategies.rule_based_signal_generator - INFO - ✅ TRUTHUSDT 信號生成: SHORT | 信心度=70.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:56:30.120408296Z [inf]  2025-10-28 10:56:29,648 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=70.00% → conf_factor=1.40x | 最終槓桿=11.15x
2025-10-28T10:56:30.120413641Z [inf]  2025-10-28 10:56:29,648 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.2x → scale=1.51x | 基礎 SL=1.04% → 調整後=1.58% | SL=$0.01 | TP=$0.01
2025-10-28T10:56:30.125657328Z [inf]  2025-10-28 10:56:29,649 - src.strategies.self_learning_trader - INFO - 🎯 TRUTHUSDT 完整信號: SHORT @ 0.01 | 槓桿=11.2x | SL=0.01 | TP=0.01 | 勝率=64.5% | 信心度=70.0%
2025-10-28T10:56:30.125670880Z [inf]  2025-10-28 10:56:29,756 - src.strategies.rule_based_signal_generator - ERROR - ❌ MONUSDT 信號生成失敗: 'zone'
2025-10-28T10:56:30.125678320Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:30.125685679Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:56:30.125692210Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:56:30.125700599Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.125711182Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:56:30.125718341Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:30.125724303Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.125730813Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:56:30.125737463Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:56:30.126000016Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:56:30.126006814Z [inf]  KeyError: 'zone'
2025-10-28T10:56:30.126013387Z [inf]  2025-10-28 10:56:29,939 - src.strategies.rule_based_signal_generator - INFO - ✅ BLUAIUSDT 信號生成: SHORT | 信心度=72.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:56:30.126020074Z [inf]  2025-10-28 10:56:29,939 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=72.00% → conf_factor=1.44x | 最終槓桿=11.47x
2025-10-28T10:56:30.126027755Z [inf]  2025-10-28 10:56:29,939 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.5x → scale=1.52x | 基礎 SL=2.42% → 調整後=3.68% | SL=$0.02 | TP=$0.02
2025-10-28T10:56:30.126033721Z [inf]  2025-10-28 10:56:29,939 - src.strategies.self_learning_trader - INFO - 🎯 BLUAIUSDT 完整信號: SHORT @ 0.02 | 槓桿=11.5x | SL=0.02 | TP=0.02 | 勝率=64.5% | 信心度=72.0%
2025-10-28T10:56:30.126040303Z [inf]  2025-10-28 10:56:29,978 - src.strategies.rule_based_signal_generator - INFO - ✅ ONUSDT 信號生成: SHORT | 信心度=60.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:56:30.126046525Z [inf]  2025-10-28 10:56:29,979 - src.core.unified_scheduler - INFO - ✅ 發現 9 個交易信號
2025-10-28T10:56:30.126054263Z [inf]  2025-10-28 10:56:29,980 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 HIGHUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:56:30.126061103Z [inf]  2025-10-28 10:56:29,980 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.8x | 名義價值=$202.91 | 數量=668.802264 | 實際價值=$202.91
2025-10-28T10:56:30.126067404Z [err]  /app/src/core/unified_scheduler.py:378: RuntimeWarning: coroutine 'BinanceClient.get_min_quantity' was never awaited
2025-10-28T10:56:30.126074108Z [err]    position_size = self.self_learning_trader.calculate_position_size(
2025-10-28T10:56:30.129092517Z [err]  RuntimeWarning: Enable tracemalloc to get the object allocation traceback
2025-10-28T10:56:30.129099141Z [inf]  2025-10-28 10:56:30,057 - src.clients.binance_client - INFO - 創建訂單: HIGHUSDT SELL MARKET 668.8
2025-10-28T10:56:30.135241766Z [inf]  2025-10-28 10:56:30,133 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'HIGHUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 668.8, 'timestamp': 1761648990057, 'signature': 'da9ee31b04825ab66d28c4bcadd2a4d1f46721c0d0053b419befd1497b1fb6c2'}
2025-10-28T10:56:30.135248721Z [inf]  2025-10-28 10:56:30,133 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:56:30.135253247Z [inf]  2025-10-28 10:56:30,133 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:56:30.138702881Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:56:30.138709474Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:56:30.138713544Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:56:30.138721725Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.138723708Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:56:30.138729839Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:56:30.138736528Z [inf]      response.raise_for_status()
2025-10-28T10:56:30.138745521Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:56:30.138748971Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:56:30.138753780Z [inf]      raise ClientResponseError(
2025-10-28T10:56:30.138798232Z [inf]  2025-10-28 10:56:30,133 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:56:30.138804112Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:30.138811351Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:56:30.138817202Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:56:30.138823051Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.138829490Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:56:30.138837605Z [inf]      raise e
2025-10-28T10:56:30.139575914Z [inf]  
2025-10-28T10:56:30.139590136Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:56:30.139598748Z [inf]  
2025-10-28T10:56:30.139606662Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:30.140698901Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.140708490Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:56:30.140716165Z [inf]      raise BinanceRequestError(
2025-10-28T10:56:30.140723879Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:56:30.140731392Z [inf]  2025-10-28 10:56:30,135 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 GMXUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:56:30.140738521Z [inf]  2025-10-28 10:56:30,135 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=12.3x | 名義價值=$211.14 | 數量=20.309819 | 實際價值=$211.14
2025-10-28T10:56:30.140745280Z [inf]  2025-10-28 10:56:30,135 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:56:30.140768615Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.140773734Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:56:30.140780044Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:56:30.140786661Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.140792525Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:56:30.140798978Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:56:30.215016973Z [inf]  2025-10-28 10:56:30,213 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:56:30.215025796Z [inf]  2025-10-28 10:56:30,214 - src.clients.binance_client - INFO - 創建訂單: GMXUSDT SELL MARKET 20.31
2025-10-28T10:56:30.274691244Z [inf]  2025-10-28 10:56:30,271 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:30.274702614Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:30.274710123Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:30.274718234Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:30.274724834Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.274732283Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:30.299061563Z [inf]  2025-10-28 10:56:30,291 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'GMXUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 20.31, 'timestamp': 1761648990214, 'signature': '1b8971da93a5c2dba8974c4d9c6428ca2bd830646eb82a383fce1a6c54d70828'}
2025-10-28T10:56:30.299068083Z [inf]  2025-10-28 10:56:30,291 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:56:30.299075403Z [inf]  2025-10-28 10:56:30,292 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:56:30.299081761Z [inf]  2025-10-28 10:56:30,292 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:56:30.299086022Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:30.299090787Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:56:30.299095387Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:56:30.299100677Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.299106613Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:56:30.299111969Z [inf]      raise e
2025-10-28T10:56:30.299116596Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:56:30.299120758Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:56:30.299125618Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.299130057Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:56:30.299135261Z [inf]      response.raise_for_status()
2025-10-28T10:56:30.299139174Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:56:30.304115190Z [inf]      raise ClientResponseError(
2025-10-28T10:56:30.304130928Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:56:30.304141834Z [inf]  
2025-10-28T10:56:30.304150126Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:56:30.304158760Z [inf]  
2025-10-28T10:56:30.304167029Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:30.304174056Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:56:30.304182734Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:56:30.304192307Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.304200484Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:56:30.304210808Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:56:30.304218428Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.304228226Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:56:30.304236121Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:56:30.304244280Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.304252593Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:56:30.304260034Z [inf]      raise BinanceRequestError(
2025-10-28T10:56:30.304269611Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:56:30.304276720Z [inf]  2025-10-28 10:56:30,293 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 DEGENUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:56:30.309680983Z [inf]  2025-10-28 10:56:30,294 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=12.3x | 名義價值=$211.14 | 數量=96853.612208 | 實際價值=$211.14
2025-10-28T10:56:30.309692533Z [inf]  2025-10-28 10:56:30,294 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:56:30.372863053Z [inf]  2025-10-28 10:56:30,369 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:56:30.372871913Z [inf]  2025-10-28 10:56:30,369 - src.clients.binance_client - INFO - 創建訂單: DEGENUSDT BUY MARKET 96854.0
2025-10-28T10:56:30.452549839Z [inf]  2025-10-28 10:56:30,446 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'DEGENUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 96854.0, 'timestamp': 1761648990369, 'signature': '8318abb0559c10cb2e0b2894539d38100fc2589fab71536857f0cf5b4494d4fc'}
2025-10-28T10:56:30.452563379Z [inf]  2025-10-28 10:56:30,446 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:56:30.452574170Z [inf]  2025-10-28 10:56:30,446 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:56:30.452586501Z [inf]  2025-10-28 10:56:30,447 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:56:30.452600260Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:30.452610829Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:56:30.452624164Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:56:30.452634827Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.452644679Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:56:30.452654471Z [inf]      raise e
2025-10-28T10:56:30.452663435Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:56:30.452673063Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:56:30.452681459Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.452690369Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:56:30.452699511Z [inf]      response.raise_for_status()
2025-10-28T10:56:30.452708763Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:56:30.456819066Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.456838000Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:56:30.456845636Z [inf]      raise ClientResponseError(
2025-10-28T10:56:30.456853030Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:56:30.456857956Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:56:30.456865896Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.456869619Z [inf]  
2025-10-28T10:56:30.456879556Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:56:30.456879976Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:56:30.456891492Z [inf]  
2025-10-28T10:56:30.456892897Z [inf]      raise BinanceRequestError(
2025-10-28T10:56:30.456905246Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:30.456906374Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:56:30.456917092Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:56:30.456919232Z [inf]  2025-10-28 10:56:30,448 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 VIRTUALUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:56:30.456940791Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:56:30.456952280Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.456959841Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:56:30.456981300Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:56:30.460102926Z [inf]  2025-10-28 10:56:30,448 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.5x | 名義價值=$197.43 | 數量=125.767886 | 實際價值=$197.43
2025-10-28T10:56:30.460108444Z [inf]  2025-10-28 10:56:30,448 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:56:30.528444332Z [inf]  2025-10-28 10:56:30,527 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:56:30.531562102Z [inf]  2025-10-28 10:56:30,527 - src.clients.binance_client - INFO - 創建訂單: VIRTUALUSDT BUY MARKET 125.8
2025-10-28T10:56:30.607747209Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:56:30.607760739Z [inf]      response.raise_for_status()
2025-10-28T10:56:30.607769443Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:56:30.607780990Z [inf]  2025-10-28 10:56:30,602 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'VIRTUALUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 125.8, 'timestamp': 1761648990528, 'signature': 'cc364586735db978008134526428d0ef4346958185a95ef1e13a1698fbf3c971'}
2025-10-28T10:56:30.607794030Z [inf]  2025-10-28 10:56:30,602 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:56:30.607803746Z [inf]  2025-10-28 10:56:30,602 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:56:30.607836250Z [inf]  2025-10-28 10:56:30,602 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:56:30.607843368Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:30.607849962Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:56:30.607856881Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:56:30.607863705Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.607872607Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:56:30.607878975Z [inf]      raise e
2025-10-28T10:56:30.607885106Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:56:30.607891034Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:56:30.607897934Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.609638426Z [inf]      raise ClientResponseError(
2025-10-28T10:56:30.609651585Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:56:30.609663866Z [inf]  
2025-10-28T10:56:30.609671198Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:56:30.609678315Z [inf]  
2025-10-28T10:56:30.609686567Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:30.609693439Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:56:30.609699537Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:56:30.609706141Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.609731901Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:56:30.609739388Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:56:30.609745028Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.609752054Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:56:30.609758994Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:56:30.609765833Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:30.609773434Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:56:30.609780455Z [inf]      raise BinanceRequestError(
2025-10-28T10:56:30.609787224Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:56:30.609794816Z [inf]  2025-10-28 10:56:30,603 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 SONICUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:56:30.611454643Z [inf]  2025-10-28 10:56:30,603 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.9x | 名義價值=$205.66 | 數量=1494.598082 | 實際價值=$205.66
2025-10-28T10:56:30.611464403Z [inf]  2025-10-28 10:56:30,603 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:56:31.226776443Z [inf]  2025-10-28 10:56:30,758 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:56:31.226792972Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:31.226802593Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:56:31.226813686Z [inf]  2025-10-28 10:56:30,757 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'SONICUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 1494.6, 'timestamp': 1761648990681, 'signature': 'f5bdcb30d9f32f2f42cecfdbdfbfc4c15d8464fa307d7dd8f9e3953d9e0fe8ff'}
2025-10-28T10:56:31.226819526Z [inf]  2025-10-28 10:56:30,680 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:56:31.226829669Z [inf]  2025-10-28 10:56:30,757 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:56:31.226830072Z [inf]  2025-10-28 10:56:30,681 - src.clients.binance_client - INFO - 創建訂單: SONICUSDT BUY MARKET 1494.6
2025-10-28T10:56:31.226840308Z [inf]  2025-10-28 10:56:30,757 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:56:31.226900431Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:56:31.226913551Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.226920746Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:56:31.226932166Z [inf]      raise e
2025-10-28T10:56:31.226940010Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:56:31.226947687Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:56:31.226955586Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.226998100Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:56:31.227006248Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.227014047Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:56:31.227046895Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:56:31.227062078Z [inf]      response.raise_for_status()
2025-10-28T10:56:31.227070067Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:56:31.227077130Z [inf]      raise ClientResponseError(
2025-10-28T10:56:31.227084297Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:56:31.227094306Z [inf]  
2025-10-28T10:56:31.227102548Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:56:31.227109907Z [inf]  
2025-10-28T10:56:31.227118966Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:31.227128871Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:56:31.227137173Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:56:31.227144003Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.227151371Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:56:31.227160633Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:56:31.227167090Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.227174440Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:56:31.229868904Z [inf]      raise BinanceRequestError(
2025-10-28T10:56:31.229875391Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:56:31.229883875Z [inf]  2025-10-28 10:56:30,758 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 VICUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:56:31.229891821Z [inf]  2025-10-28 10:56:30,759 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.8x | 名義價值=$202.91 | 數量=1416.012608 | 實際價值=$202.91
2025-10-28T10:56:31.229898464Z [inf]  2025-10-28 10:56:30,759 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:56:31.229904354Z [inf]  2025-10-28 10:56:30,834 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:56:31.229910696Z [inf]  2025-10-28 10:56:30,834 - src.clients.binance_client - INFO - 創建訂單: VICUSDT SELL MARKET 1416.0
2025-10-28T10:56:31.229917291Z [inf]  2025-10-28 10:56:30,910 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'VICUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 1416.0, 'timestamp': 1761648990834, 'signature': '4f47525cd26de19203cd134ca7fb8d01da4f57774583d8502e30dc1db2e75a30'}
2025-10-28T10:56:31.229924058Z [inf]  2025-10-28 10:56:30,911 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:56:31.229931337Z [inf]  2025-10-28 10:56:30,911 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:56:31.229937885Z [inf]  2025-10-28 10:56:30,911 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:56:31.231341039Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:31.231348463Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:56:31.231354289Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:56:31.231360441Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.231366058Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:56:31.231372104Z [inf]      raise e
2025-10-28T10:56:31.231378378Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:56:31.231385563Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:56:31.231392128Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.231397311Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:56:31.231403101Z [inf]      response.raise_for_status()
2025-10-28T10:56:31.231408867Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:56:31.231414253Z [inf]      raise ClientResponseError(
2025-10-28T10:56:31.231420414Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:56:31.231427350Z [inf]  
2025-10-28T10:56:31.231433582Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:56:31.231439241Z [inf]  
2025-10-28T10:56:31.231446897Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:31.231453950Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:56:31.231459749Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:56:31.231465596Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.231474697Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:56:31.233874913Z [inf]  2025-10-28 10:56:30,990 - src.clients.binance_client - INFO - 創建訂單: PROVEUSDT SELL MARKET 256.2
2025-10-28T10:56:31.233889049Z [inf]  2025-10-28 10:56:31,066 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'PROVEUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 256.2, 'timestamp': 1761648990991, 'signature': '2784f83f213f60dc471033c788cf4ac3f55807b213f90d26023fb7b75c3193d0'}
2025-10-28T10:56:31.233893205Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:56:31.233905950Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.233914396Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:56:31.233921952Z [inf]      raise BinanceRequestError(
2025-10-28T10:56:31.233931227Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:56:31.233939014Z [inf]  2025-10-28 10:56:30,912 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 PROVEUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:56:31.233946755Z [inf]  2025-10-28 10:56:30,912 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.8x | 名義價值=$202.91 | 數量=256.205312 | 實際價值=$202.91
2025-10-28T10:56:31.233959250Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:56:31.233964349Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.233969276Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:56:31.234156001Z [inf]  2025-10-28 10:56:30,912 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:56:31.234183039Z [inf]  2025-10-28 10:56:30,990 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:56:31.236380385Z [inf]  2025-10-28 10:56:31,066 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:56:31.236383819Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.236391979Z [inf]  2025-10-28 10:56:31,067 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:56:31.236399068Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:56:31.236400950Z [inf]  2025-10-28 10:56:31,067 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:56:31.236411235Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:31.236412178Z [inf]      response.raise_for_status()
2025-10-28T10:56:31.236421328Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:56:31.236422666Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:56:31.236429395Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:56:31.236432970Z [inf]      raise ClientResponseError(
2025-10-28T10:56:31.236438436Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.236444576Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:56:31.236448274Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:56:31.236456048Z [inf]  
2025-10-28T10:56:31.236457424Z [inf]      raise e
2025-10-28T10:56:31.236467063Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:56:31.236468346Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:56:31.236474754Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:56:31.241535534Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:56:31.241548230Z [inf]  2025-10-28 10:56:31,067 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 TRUTHUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:56:31.241556351Z [inf]  2025-10-28 10:56:31,067 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.2x | 名義價值=$191.95 | 數量=14037.315317 | 實際價值=$191.95
2025-10-28T10:56:31.241562659Z [inf]  2025-10-28 10:56:31,067 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:56:31.241633160Z [inf]  
2025-10-28T10:56:31.241639196Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:31.241645904Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:56:31.241651605Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:56:31.241657251Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.241662901Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:56:31.241668664Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:56:31.241674220Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.241679911Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:56:31.241685179Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:56:31.241691507Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.241697120Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:56:31.241702897Z [inf]      raise BinanceRequestError(
2025-10-28T10:56:31.244981779Z [inf]  2025-10-28 10:56:31,141 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:56:31.244996168Z [inf]  2025-10-28 10:56:31,142 - src.clients.binance_client - INFO - 創建訂單: TRUTHUSDT SELL MARKET 14037.0
2025-10-28T10:56:31.245004740Z [inf]  2025-10-28 10:56:31,218 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'TRUTHUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 14037.0, 'timestamp': 1761648991142, 'signature': '2f7a931bea7141f47fc6ea3a29cc343a0ad5ec3d77926a1f2e3825d832160569'}
2025-10-28T10:56:31.245015067Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.245017549Z [inf]  2025-10-28 10:56:31,218 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:56:31.245025516Z [inf]  2025-10-28 10:56:31,218 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:56:31.245031894Z [inf]  2025-10-28 10:56:31,218 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:56:31.245037572Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:31.245044621Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:56:31.245049723Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:56:31.245055599Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.245060669Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:56:31.245067310Z [inf]      raise e
2025-10-28T10:56:31.245072462Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:56:31.245078265Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:56:31.247475447Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:56:31.247482293Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:56:31.247487540Z [inf]      response.raise_for_status()
2025-10-28T10:56:31.247495362Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:56:31.247501854Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.247504955Z [inf]      raise ClientResponseError(
2025-10-28T10:56:31.247511785Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:56:31.247514905Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:56:31.247523091Z [inf]  
2025-10-28T10:56:31.247531079Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:56:31.247538388Z [inf]  
2025-10-28T10:56:31.247544520Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:31.247551402Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:56:31.247557722Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:56:31.247565102Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.247570650Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:56:31.247576425Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:56:31.247582445Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.247588758Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:56:31.251457498Z [inf]      raise BinanceRequestError(
2025-10-28T10:56:31.251466001Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:56:31.251471730Z [inf]  2025-10-28 10:56:31,220 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 BLUAIUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:56:31.251478174Z [inf]  2025-10-28 10:56:31,220 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.5x | 名義價值=$197.43 | 數量=10535.241633 | 實際價值=$197.43
2025-10-28T10:56:31.251484063Z [inf]  2025-10-28 10:56:31,220 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:56:31.300929824Z [inf]  2025-10-28 10:56:31,295 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:56:31.300936668Z [inf]  2025-10-28 10:56:31,296 - src.clients.binance_client - INFO - 創建訂單: BLUAIUSDT SELL MARKET 10535.0
2025-10-28T10:56:31.379947970Z [inf]  2025-10-28 10:56:31,371 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'BLUAIUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 10535.0, 'timestamp': 1761648991296, 'signature': '2a88d535b2066d426e46e644935adc41377d0c25ccfabe37096ec3919a9aec61'}
2025-10-28T10:56:31.379954888Z [inf]  2025-10-28 10:56:31,371 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:56:31.379963732Z [inf]  2025-10-28 10:56:31,371 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:56:31.379970888Z [inf]  2025-10-28 10:56:31,371 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:56:31.379977076Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:31.379987926Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:56:31.379994299Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:56:31.380000007Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.380004880Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:56:31.380009418Z [inf]      raise e
2025-10-28T10:56:31.380014333Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:56:31.380018794Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:56:31.380023903Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.380028230Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:56:31.380034146Z [inf]      response.raise_for_status()
2025-10-28T10:56:31.380038509Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:56:31.383172670Z [inf]      raise ClientResponseError(
2025-10-28T10:56:31.383185444Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:56:31.383191424Z [inf]  
2025-10-28T10:56:31.383196807Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:56:31.383201834Z [inf]  
2025-10-28T10:56:31.383208517Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:31.383214082Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:56:31.383218565Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:56:31.383223045Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.383227945Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:56:31.383233591Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:56:31.383238949Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.383243740Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:56:31.383248184Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:56:31.383252104Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:31.383259813Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:56:31.383266699Z [inf]      raise BinanceRequestError(
2025-10-28T10:56:31.383272220Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:56:31.383276858Z [inf]  2025-10-28 10:56:31,372 - src.core.unified_scheduler - INFO - ✅ 週期完成 | 耗時: 8.6s | 新成交: 0
2025-10-28T10:56:31.386374765Z [inf]  2025-10-28 10:56:31,372 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T10:56:32.277314217Z [inf]  2025-10-28 10:56:32,272 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:32.277322618Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:32.277331722Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:32.277339042Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:32.277345840Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:32.277352906Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:34.281394047Z [inf]  2025-10-28 10:56:34,274 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:34.281401428Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:34.281406251Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:34.281411107Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:34.281415466Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:34.281420421Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:36.279962624Z [inf]  2025-10-28 10:56:36,277 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:36.279972657Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:36.279978964Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:36.279984236Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:36.279989235Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:36.279995173Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:38.284427297Z [inf]  2025-10-28 10:56:38,278 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:38.284444390Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:38.284449763Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:38.284453963Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:38.284458502Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:38.284463042Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:40.292243593Z [inf]  2025-10-28 10:56:40,282 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:40.292251272Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:40.292256133Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:40.292262990Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:40.292267872Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:40.292272159Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:42.296960661Z [inf]  2025-10-28 10:56:42,283 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:42.296966095Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:42.296970296Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:42.296975694Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:42.296980229Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:42.296985165Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:44.289943245Z [inf]  2025-10-28 10:56:44,286 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:44.289959673Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:44.289966892Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:44.289975108Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:44.289993585Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:44.290001898Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:46.290222064Z [inf]  2025-10-28 10:56:46,288 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:46.290231190Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:46.290237088Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:46.290243149Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:46.290249109Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:46.290255421Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:48.291881685Z [inf]  2025-10-28 10:56:48,290 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:48.291887789Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:48.291894228Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:48.291899221Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:48.291904019Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:48.291908545Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:50.296503676Z [inf]  2025-10-28 10:56:50,293 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:50.296516634Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:50.296523874Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:50.296531105Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:50.296537503Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:50.296544670Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:52.303341534Z [inf]  2025-10-28 10:56:52,294 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:52.303349062Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:52.303354696Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:52.303360340Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:52.303366045Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:52.303372014Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:54.303464560Z [inf]  2025-10-28 10:56:54,297 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:54.303476750Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:54.303483121Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:54.303488778Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:54.303494425Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:54.303501022Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:56.307622084Z [inf]  2025-10-28 10:56:56,300 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:56.307632207Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:56.307640012Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:56.307647569Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:56.307655814Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:56.307663071Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:58.309268208Z [inf]  2025-10-28 10:56:58,302 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:56:58.309274564Z [inf]  Traceback (most recent call last):
2025-10-28T10:56:58.309280955Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:56:58.309287028Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:56:58.309293424Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:56:58.309299722Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:00.311160272Z [inf]  2025-10-28 10:57:00,304 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:00.311166413Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:00.311172381Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:00.311178969Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:00.311185951Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:00.311191874Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:02.312518332Z [inf]  2025-10-28 10:57:02,306 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:02.312529251Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:02.312536626Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:02.312541999Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:02.312546967Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:02.312553782Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:04.310423148Z [inf]  2025-10-28 10:57:04,307 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:04.310432460Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:04.310440599Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:04.310448200Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:04.310455971Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:04.310466231Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:06.319629412Z [inf]  2025-10-28 10:57:06,310 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:06.319635490Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:06.319641311Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:06.319647343Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:06.319652623Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:06.319658323Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:08.315262695Z [inf]  2025-10-28 10:57:08,313 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:08.315276513Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:08.315284289Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:08.315293709Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:08.315300150Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:08.315307066Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:10.319624958Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:10.319635587Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:10.319642956Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:10.319650636Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:10.319657799Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:10.319709875Z [inf]  2025-10-28 10:57:10,315 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:12.326943964Z [inf]  2025-10-28 10:57:12,317 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:12.326957103Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:12.326969114Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:12.326979195Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:12.326985599Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:12.326991538Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:14.331722020Z [inf]  2025-10-28 10:57:14,320 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:14.331727851Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:14.331733298Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:14.331738082Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:14.331742547Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:14.331747541Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:16.336212802Z [inf]  2025-10-28 10:57:16,322 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:16.336218502Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:16.336224171Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:16.336229747Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:16.336234845Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:16.336240200Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:18.334638794Z [inf]  2025-10-28 10:57:18,324 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:18.334649500Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:18.334657017Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:18.334661786Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:18.334666048Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:18.334670711Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:20.330262595Z [inf]  2025-10-28 10:57:20,326 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:20.330268569Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:20.330273814Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:20.330279706Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:20.330285700Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:20.330293088Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:22.330674995Z [inf]  2025-10-28 10:57:22,329 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:22.330683211Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:22.330689549Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:22.330696138Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:22.330701887Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:22.330708885Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:24.332706057Z [inf]  2025-10-28 10:57:24,330 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:24.332718702Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:24.332728448Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:24.332737163Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:24.332743642Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:24.332748859Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:26.336182885Z [inf]  2025-10-28 10:57:26,333 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:26.336192074Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:26.336199099Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:26.336206227Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:26.336212914Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:26.336220781Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:28.337885819Z [inf]  2025-10-28 10:57:28,334 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:28.337898767Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:28.337906157Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:28.337913327Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:28.337921175Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:28.337928281Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:30.383088560Z [inf]  2025-10-28 10:57:30,335 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:30.383094761Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:30.383100674Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:30.383106632Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:30.383112355Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:30.383118333Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:31.378953748Z [inf]  2025-10-28 10:57:31,374 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T10:57:31.378958618Z [inf]  2025-10-28 10:57:31,374 - src.core.unified_scheduler - INFO - 🔄 交易週期 #4 | 2025-10-28 10:57:31 UTC
2025-10-28T10:57:31.378963658Z [inf]  2025-10-28 10:57:31,374 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T10:57:31.378969381Z [inf]  2025-10-28 10:57:31,375 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:57:31.493407281Z [inf]  2025-10-28 10:57:31,484 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:57:31.493413630Z [inf]  2025-10-28 10:57:31,485 - src.core.unified_scheduler - INFO - 📦 當前持倉: 無
2025-10-28T10:57:31.493419497Z [inf]  2025-10-28 10:57:31,485 - src.core.unified_scheduler - INFO - 💰 賬戶權益: $21.51 | 未實現盈虧: $+0.00
2025-10-28T10:57:31.493425583Z [inf]  2025-10-28 10:57:31,486 - src.core.unified_scheduler - INFO - 📊 掃描到 528 個 USDT 永續合約，監控前 999 個
2025-10-28T10:57:31.493431700Z [inf]  2025-10-28 10:57:31,486 - src.core.unified_scheduler - INFO - 📊 掃描 528 個交易對中...
2025-10-28T10:57:31.556299452Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:31.556312347Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:31.556321974Z [inf]  KeyError: 'zone'
2025-10-28T10:57:31.556325387Z [inf]  2025-10-28 10:57:31,553 - src.strategies.rule_based_signal_generator - ERROR - ❌ XRPUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:31.556332309Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:31.556339362Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:31.556345908Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:31.556352783Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:31.556359774Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:31.556369769Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:31.556375786Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:31.556382245Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:32.345036657Z [inf]  2025-10-28 10:57:32,339 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:32.345042074Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:32.345048524Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:32.345055534Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:32.345062469Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:32.345069373Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:33.274012352Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:33.274022278Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:33.274061165Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:33.274068882Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:33.274074749Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:33.274077511Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:33.274078228Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:33.274082036Z [inf]  2025-10-28 10:57:33,136 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=74.00% → conf_factor=1.48x | 最終槓桿=11.79x
2025-10-28T10:57:33.274083999Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:33.274084986Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:33.274097870Z [inf]  2025-10-28 10:57:33,136 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.8x → scale=1.54x | 基礎 SL=0.51% → 調整後=0.79% | SL=$0.31 | TP=$0.30
2025-10-28T10:57:33.274106059Z [inf]  2025-10-28 10:57:33,136 - src.strategies.self_learning_trader - INFO - 🎯 HIGHUSDT 完整信號: SHORT @ 0.30 | 槓桿=11.8x | SL=0.31 | TP=0.30 | 勝率=64.5% | 信心度=74.0%
2025-10-28T10:57:33.274110366Z [inf]  2025-10-28 10:57:33,136 - src.strategies.rule_based_signal_generator - INFO - ✅ HIGHUSDT 信號生成: SHORT | 信心度=74.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:57:33.274114171Z [inf]  2025-10-28 10:57:33,171 - src.strategies.rule_based_signal_generator - ERROR - ❌ PHBUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:33.276540361Z [inf]  2025-10-28 10:57:33,187 - src.strategies.rule_based_signal_generator - INFO - ✅ GMXUSDT 信號生成: SHORT | 信心度=77.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:57:33.276553442Z [inf]  2025-10-28 10:57:33,187 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=77.00% → conf_factor=1.54x | 最終槓桿=12.27x
2025-10-28T10:57:33.276561990Z [inf]  2025-10-28 10:57:33,187 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=12.3x → scale=1.56x | 基礎 SL=0.46% → 調整後=0.72% | SL=$10.47 | TP=$10.28
2025-10-28T10:57:33.276569239Z [inf]  2025-10-28 10:57:33,187 - src.strategies.self_learning_trader - INFO - 🎯 GMXUSDT 完整信號: SHORT @ 10.40 | 槓桿=12.3x | SL=10.47 | TP=10.28 | 勝率=64.5% | 信心度=77.0%
2025-10-28T10:57:33.276569452Z [inf]  KeyError: 'zone'
2025-10-28T10:57:33.276585437Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:33.488215723Z [inf]  2025-10-28 10:57:33,485 - src.strategies.rule_based_signal_generator - INFO - ✅ MAVUSDT 信號生成: SHORT | 信心度=54.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:57:33.548800307Z [inf]  2025-10-28 10:57:33,543 - src.strategies.rule_based_signal_generator - ERROR - ❌ AGLDUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:33.548808138Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:33.548814726Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:33.548822796Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:33.548829443Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:33.548837469Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:33.548844570Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:33.548852837Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:33.548860223Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:33.548866849Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:33.548874836Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:33.548880639Z [inf]  KeyError: 'zone'
2025-10-28T10:57:34.375832809Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:34.375839068Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:34.375843488Z [inf]  KeyError: 'zone'
2025-10-28T10:57:34.375976818Z [inf]  2025-10-28 10:57:34,241 - src.strategies.rule_based_signal_generator - INFO - ✅ TONUSDT 信號生成: LONG | 信心度=69.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:57:34.375981153Z [inf]  2025-10-28 10:57:34,342 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:34.375985608Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:34.375990168Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:34.375995387Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:34.375999938Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:34.376005683Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:34.376010080Z [inf]  2025-10-28 10:57:34,354 - src.strategies.rule_based_signal_generator - ERROR - ❌ TNSRUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:34.376014404Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:34.376018647Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:34.376022873Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:34.376027586Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:34.376033229Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:34.376040624Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:34.376045984Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:34.376050250Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:34.381093726Z [inf]  2025-10-28 10:57:34,376 - src.strategies.rule_based_signal_generator - ERROR - ❌ TAOUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:34.381099278Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:34.381105138Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:34.381110818Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:34.381115994Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:34.381121983Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:34.381127937Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:34.381133626Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:34.381139810Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:34.381145417Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:34.381172380Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:34.381178993Z [inf]  KeyError: 'zone'
2025-10-28T10:57:34.515949676Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:34.515961684Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:34.515968934Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:34.515973462Z [inf]  2025-10-28 10:57:34,510 - src.strategies.rule_based_signal_generator - ERROR - ❌ BANANAUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:34.515975976Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:34.515982148Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:34.515983014Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:34.515990780Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:34.515991727Z [inf]  KeyError: 'zone'
2025-10-28T10:57:34.515998655Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:34.516002961Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:34.516006939Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:34.643740002Z [inf]  2025-10-28 10:57:34,637 - src.strategies.rule_based_signal_generator - ERROR - ❌ CHESSUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:34.643751774Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:34.643758173Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:34.643764249Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:34.643770092Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:34.643775220Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:34.643780997Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:34.643786382Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:34.643792156Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:34.643799306Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:34.643805504Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:34.643811142Z [inf]  KeyError: 'zone'
2025-10-28T10:57:34.805354436Z [inf]  2025-10-28 10:57:34,798 - src.strategies.rule_based_signal_generator - INFO - ✅ COSUSDT 信號生成: SHORT | 信心度=64.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:57:35.255694902Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:35.255707723Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:35.255717769Z [inf]  2025-10-28 10:57:35,042 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=12.3x → scale=1.56x | 基礎 SL=1.65% → 調整後=2.58% | SL=$0.00 | TP=$0.00
2025-10-28T10:57:35.255718280Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:35.255725528Z [inf]  2025-10-28 10:57:35,016 - src.strategies.rule_based_signal_generator - INFO - ✅ HIPPOUSDT 信號生成: LONG | 信心度=69.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:57:35.255727881Z [inf]  2025-10-28 10:57:35,042 - src.strategies.self_learning_trader - INFO - 🎯 DEGENUSDT 完整信號: LONG @ 0.00 | 槓桿=12.3x | SL=0.00 | TP=0.00 | 勝率=64.5% | 信心度=77.0%
2025-10-28T10:57:35.255736069Z [inf]  2025-10-28 10:57:35,041 - src.strategies.rule_based_signal_generator - INFO - ✅ DEGENUSDT 信號生成: LONG | 信心度=77.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:57:35.255736971Z [inf]  2025-10-28 10:57:35,154 - src.strategies.rule_based_signal_generator - INFO - ✅ KAIAUSDT 信號生成: LONG | 信心度=57.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:57:35.255737041Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:35.255746178Z [inf]  2025-10-28 10:57:35,041 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=77.00% → conf_factor=1.54x | 最終槓桿=12.27x
2025-10-28T10:57:35.255747390Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:35.255747429Z [inf]  2025-10-28 10:57:35,192 - src.strategies.rule_based_signal_generator - ERROR - ❌ ORCAUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:35.255756660Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:35.257250470Z [inf]  2025-10-28 10:57:35,240 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=72.00% → conf_factor=1.44x | 最終槓桿=11.47x
2025-10-28T10:57:35.257259312Z [inf]  2025-10-28 10:57:35,240 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.5x → scale=1.52x | 基礎 SL=2.29% → 調整後=3.50% | SL=$1.51 | TP=$1.65
2025-10-28T10:57:35.257264709Z [inf]  2025-10-28 10:57:35,240 - src.strategies.self_learning_trader - INFO - 🎯 VIRTUALUSDT 完整信號: LONG @ 1.57 | 槓桿=11.5x | SL=1.51 | TP=1.65 | 勝率=64.5% | 信心度=72.0%
2025-10-28T10:57:35.257270016Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:35.257276202Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:35.257278372Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:35.257281915Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:35.257290165Z [inf]  KeyError: 'zone'
2025-10-28T10:57:35.257296506Z [inf]  2025-10-28 10:57:35,240 - src.strategies.rule_based_signal_generator - INFO - ✅ VIRTUALUSDT 信號生成: LONG | 信心度=72.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:57:35.391862289Z [inf]  2025-10-28 10:57:35,388 - src.strategies.rule_based_signal_generator - ERROR - ❌ FARTCOINUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:35.391869470Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:35.391874265Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:35.391879425Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:35.391886167Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:35.391891039Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:35.391895686Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:35.391900792Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:35.391907065Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:35.391913301Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:35.391919739Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:35.391926444Z [inf]  KeyError: 'zone'
2025-10-28T10:57:35.465993515Z [inf]  2025-10-28 10:57:35,461 - src.strategies.rule_based_signal_generator - ERROR - ❌ DFUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:35.465998463Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:35.466003318Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:35.466010283Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:35.466017291Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:35.466021190Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:35.466025359Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:35.466029998Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:35.466040537Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:35.466049684Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:35.466054855Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:35.466059012Z [inf]  KeyError: 'zone'
2025-10-28T10:57:35.572318513Z [inf]  2025-10-28 10:57:35,563 - src.strategies.rule_based_signal_generator - INFO - ✅ SONICUSDT 信號生成: LONG | 信心度=75.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:57:35.572332758Z [inf]  2025-10-28 10:57:35,564 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=75.00% → conf_factor=1.50x | 最終槓桿=11.95x
2025-10-28T10:57:35.572340568Z [inf]  2025-10-28 10:57:35,564 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.9x → scale=1.55x | 基礎 SL=0.83% → 調整後=1.29% | SL=$0.14 | TP=$0.14
2025-10-28T10:57:35.572347378Z [inf]  2025-10-28 10:57:35,564 - src.strategies.self_learning_trader - INFO - 🎯 SONICUSDT 完整信號: LONG @ 0.14 | 槓桿=11.9x | SL=0.14 | TP=0.14 | 勝率=64.5% | 信心度=75.0%
2025-10-28T10:57:35.817215189Z [inf]  2025-10-28 10:57:35,815 - src.strategies.rule_based_signal_generator - ERROR - ❌ SHELLUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:35.817229914Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:35.817236365Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:35.817241615Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:35.817247606Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:35.817254091Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:35.817259322Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:35.817264184Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:35.817269758Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:35.817282220Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:35.817288913Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:35.817294973Z [inf]  KeyError: 'zone'
2025-10-28T10:57:35.853496985Z [inf]  2025-10-28 10:57:35,849 - src.strategies.rule_based_signal_generator - INFO - ✅ VICUSDT 信號生成: SHORT | 信心度=74.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:57:35.853504939Z [inf]  2025-10-28 10:57:35,850 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=74.00% → conf_factor=1.48x | 最終槓桿=11.79x
2025-10-28T10:57:35.853510340Z [inf]  2025-10-28 10:57:35,850 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.8x → scale=1.54x | 基礎 SL=0.71% → 調整後=1.09% | SL=$0.14 | TP=$0.14
2025-10-28T10:57:35.853515091Z [inf]  2025-10-28 10:57:35,850 - src.strategies.self_learning_trader - INFO - 🎯 VICUSDT 完整信號: SHORT @ 0.14 | 槓桿=11.8x | SL=0.14 | TP=0.14 | 勝率=64.5% | 信心度=74.0%
2025-10-28T10:57:36.236380006Z [inf]  2025-10-28 10:57:36,066 - src.strategies.rule_based_signal_generator - INFO - ✅ WALUSDT 信號生成: SHORT | 信心度=69.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:57:36.271546634Z [inf]  2025-10-28 10:57:36,266 - src.strategies.rule_based_signal_generator - ERROR - ❌ EPTUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:36.271560050Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:36.271568206Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:36.271574707Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:36.271581808Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:36.271589389Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:36.271596731Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:36.271603656Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:36.271610219Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:36.271619525Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:36.271626189Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:36.271631849Z [inf]  KeyError: 'zone'
2025-10-28T10:57:36.358064214Z [inf]  2025-10-28 10:57:36,350 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:36.358071752Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:36.358077653Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:36.358084274Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:36.358089960Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:36.358095124Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:36.493477512Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:36.493493320Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:36.493498918Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:36.493507131Z [inf]  KeyError: 'zone'
2025-10-28T10:57:36.493507571Z [inf]  2025-10-28 10:57:36,490 - src.strategies.rule_based_signal_generator - ERROR - ❌ OGUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:36.493516387Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:36.493523999Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:36.493535893Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:36.493543698Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:36.493553419Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:36.493560742Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:36.493567812Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:36.589829293Z [inf]  2025-10-28 10:57:36,586 - src.strategies.rule_based_signal_generator - ERROR - ❌ BUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:36.589836775Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:36.589844759Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:36.589855996Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:36.589863682Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:36.589870198Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:36.589878023Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:36.589885059Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:36.589891790Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:36.589898266Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:36.589905657Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:36.589913127Z [inf]  KeyError: 'zone'
2025-10-28T10:57:37.262709676Z [inf]  2025-10-28 10:57:37,165 - src.strategies.self_learning_trader - INFO - 🎯 PROVEUSDT 完整信號: SHORT @ 0.79 | 槓桿=11.8x | SL=0.80 | TP=0.78 | 勝率=64.5% | 信心度=74.0%
2025-10-28T10:57:37.263002590Z [inf]  2025-10-28 10:57:36,942 - src.strategies.rule_based_signal_generator - ERROR - ❌ PUMPUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:37.263008476Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:37.263015157Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:37.263021589Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:37.263027611Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:37.263033318Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:37.263040513Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:37.263045960Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:37.263051310Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:37.263055940Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:37.263061194Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:37.263066061Z [inf]  KeyError: 'zone'
2025-10-28T10:57:37.263071316Z [inf]  2025-10-28 10:57:37,165 - src.strategies.rule_based_signal_generator - INFO - ✅ PROVEUSDT 信號生成: SHORT | 信心度=74.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:57:37.263076954Z [inf]  2025-10-28 10:57:37,165 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=74.00% → conf_factor=1.48x | 最終槓桿=11.79x
2025-10-28T10:57:37.263081738Z [inf]  2025-10-28 10:57:37,165 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.8x → scale=1.54x | 基礎 SL=0.45% → 調整後=0.70% | SL=$0.80 | TP=$0.78
2025-10-28T10:57:37.273018361Z [inf]  2025-10-28 10:57:37,271 - src.strategies.rule_based_signal_generator - INFO - ✅ XNYUSDT 信號生成: LONG | 信心度=69.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:57:37.500406283Z [inf]  2025-10-28 10:57:37,486 - src.strategies.rule_based_signal_generator - ERROR - ❌ FLOCKUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:37.500445610Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:37.500454042Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:37.500461282Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:37.500471153Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:37.500480447Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:37.500487670Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:37.500493767Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:37.500500614Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:37.500507775Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:37.500513362Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:37.500520674Z [inf]  KeyError: 'zone'
2025-10-28T10:57:37.676268300Z [inf]  2025-10-28 10:57:37,671 - src.strategies.rule_based_signal_generator - INFO - ✅ COAIUSDT 信號生成: SHORT | 信心度=64.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:57:37.810155116Z [inf]  2025-10-28 10:57:37,804 - src.strategies.rule_based_signal_generator - INFO - ✅ TRUTHUSDT 信號生成: SHORT | 信心度=70.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:57:37.810176420Z [inf]  2025-10-28 10:57:37,804 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=70.00% → conf_factor=1.40x | 最終槓桿=11.15x
2025-10-28T10:57:37.810183608Z [inf]  2025-10-28 10:57:37,804 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.2x → scale=1.51x | 基礎 SL=1.04% → 調整後=1.58% | SL=$0.01 | TP=$0.01
2025-10-28T10:57:37.810192977Z [inf]  2025-10-28 10:57:37,804 - src.strategies.self_learning_trader - INFO - 🎯 TRUTHUSDT 完整信號: SHORT @ 0.01 | 槓桿=11.2x | SL=0.01 | TP=0.01 | 勝率=64.5% | 信心度=70.0%
2025-10-28T10:57:37.889235490Z [inf]  2025-10-28 10:57:37,885 - src.strategies.rule_based_signal_generator - ERROR - ❌ MONUSDT 信號生成失敗: 'zone'
2025-10-28T10:57:37.889248354Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:37.889256085Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:57:37.889263797Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:57:37.889270874Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:37.889278125Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:57:37.889284992Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:37.889291795Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:37.889297892Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:57:37.889304870Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:57:37.889312084Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:57:37.889320451Z [inf]  KeyError: 'zone'
2025-10-28T10:57:38.238044803Z [inf]  2025-10-28 10:57:38,037 - src.strategies.rule_based_signal_generator - INFO - ✅ BLUAIUSDT 信號生成: SHORT | 信心度=72.0% | 勝率=64.5% | R:R=1.50
2025-10-28T10:57:38.238051229Z [inf]  2025-10-28 10:57:38,037 - src.strategies.self_learning_trader - INFO -    📊 槓桿計算: 勝率=64.50% → win_leverage=7.97x | 信心度=72.00% → conf_factor=1.44x | 最終槓桿=11.47x
2025-10-28T10:57:38.238057585Z [inf]  2025-10-28 10:57:38,037 - src.strategies.self_learning_trader - INFO -    🎯 SL/TP 調整: 槓桿=11.5x → scale=1.52x | 基礎 SL=2.42% → 調整後=3.68% | SL=$0.02 | TP=$0.02
2025-10-28T10:57:38.238063668Z [inf]  2025-10-28 10:57:38,037 - src.strategies.self_learning_trader - INFO - 🎯 BLUAIUSDT 完整信號: SHORT @ 0.02 | 槓桿=11.5x | SL=0.02 | TP=0.02 | 勝率=64.5% | 信心度=72.0%
2025-10-28T10:57:38.238069993Z [inf]  2025-10-28 10:57:38,072 - src.strategies.rule_based_signal_generator - INFO - ✅ ONUSDT 信號生成: SHORT | 信心度=60.0% | 勝率=59.5% | R:R=1.50
2025-10-28T10:57:38.238076611Z [inf]  2025-10-28 10:57:38,073 - src.core.unified_scheduler - INFO - ✅ 發現 9 個交易信號
2025-10-28T10:57:38.238082290Z [inf]  2025-10-28 10:57:38,074 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 HIGHUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:57:38.238087889Z [inf]  2025-10-28 10:57:38,074 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.8x | 名義價值=$202.91 | 數量=668.802264 | 實際價值=$202.91
2025-10-28T10:57:38.238094300Z [err]  /app/src/core/unified_scheduler.py:378: RuntimeWarning: coroutine 'BinanceClient.get_min_quantity' was never awaited
2025-10-28T10:57:38.238101298Z [err]    position_size = self.self_learning_trader.calculate_position_size(
2025-10-28T10:57:38.238107376Z [err]  RuntimeWarning: Enable tracemalloc to get the object allocation traceback
2025-10-28T10:57:38.238625010Z [inf]  2025-10-28 10:57:38,150 - src.clients.binance_client - INFO - 創建訂單: HIGHUSDT SELL MARKET 668.8
2025-10-28T10:57:38.238633161Z [inf]  2025-10-28 10:57:38,227 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'HIGHUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 668.8, 'timestamp': 1761649058151, 'signature': '481e36d4ae6e9adaaae03bc3d9c85c701cb112ab6ad4d80a461ebf89f119184b'}
2025-10-28T10:57:38.238641026Z [inf]  2025-10-28 10:57:38,227 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:57:38.238648792Z [inf]  2025-10-28 10:57:38,227 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:57:38.238656799Z [inf]  2025-10-28 10:57:38,227 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:57:38.238664983Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:38.238676618Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:57:38.238685550Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:57:38.238693764Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.238701458Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:57:38.238710644Z [inf]      raise e
2025-10-28T10:57:38.238718510Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:57:38.238726878Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:57:38.238735009Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.238743592Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:57:38.238751741Z [inf]      response.raise_for_status()
2025-10-28T10:57:38.238843055Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:57:38.238850818Z [inf]      raise ClientResponseError(
2025-10-28T10:57:38.238858519Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:57:38.238865472Z [inf]  
2025-10-28T10:57:38.238873157Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:57:38.238884441Z [inf]  
2025-10-28T10:57:38.238891795Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:38.238899490Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:57:38.238906779Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:57:38.238914367Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.238922058Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:57:38.238929758Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:57:38.238939596Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.238947175Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:57:38.238955393Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:57:38.238962415Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.238969384Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:57:38.238977259Z [inf]      raise BinanceRequestError(
2025-10-28T10:57:38.238984701Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:57:38.239058582Z [inf]  2025-10-28 10:57:38,228 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 GMXUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:57:38.239066426Z [inf]  2025-10-28 10:57:38,228 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=12.3x | 名義價值=$211.14 | 數量=20.309819 | 實際價值=$211.14
2025-10-28T10:57:38.239072889Z [inf]  2025-10-28 10:57:38,228 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:57:38.327195876Z [inf]  2025-10-28 10:57:38,310 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:57:38.327201997Z [inf]  2025-10-28 10:57:38,310 - src.clients.binance_client - INFO - 創建訂單: GMXUSDT SELL MARKET 20.31
2025-10-28T10:57:38.357538467Z [inf]  2025-10-28 10:57:38,351 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:38.357543529Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:38.357549057Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:38.357554248Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:38.357558715Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.357562964Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:38.393212986Z [inf]  2025-10-28 10:57:38,387 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'GMXUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 20.31, 'timestamp': 1761649058310, 'signature': '81f50f4179f9fd39fcf99849610db599e31ee5bf4878484114d1230e0e4ab8a1'}
2025-10-28T10:57:38.393220495Z [inf]  2025-10-28 10:57:38,387 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:57:38.393227844Z [inf]  2025-10-28 10:57:38,387 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:57:38.393235452Z [inf]  2025-10-28 10:57:38,387 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:57:38.393243065Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:38.393249827Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:57:38.393256688Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:57:38.393268507Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.393275008Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:57:38.393283950Z [inf]      raise e
2025-10-28T10:57:38.393289670Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:57:38.393295496Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:57:38.393301399Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.393308998Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:57:38.393316241Z [inf]      response.raise_for_status()
2025-10-28T10:57:38.393324405Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:57:38.395749435Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.395755797Z [inf]      raise ClientResponseError(
2025-10-28T10:57:38.395762153Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:57:38.395768998Z [inf]  
2025-10-28T10:57:38.395774661Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:57:38.395777693Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:57:38.395782326Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:57:38.395785543Z [inf]  
2025-10-28T10:57:38.395790998Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.395792192Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:38.395798179Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:57:38.395798637Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:57:38.395806287Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:57:38.395806539Z [inf]      raise BinanceRequestError(
2025-10-28T10:57:38.395815423Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:57:38.395816787Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.395822087Z [inf]  2025-10-28 10:57:38,388 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 DEGENUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:57:38.395823478Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:57:38.395828543Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:57:38.397302518Z [inf]  2025-10-28 10:57:38,388 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=12.3x | 名義價值=$211.14 | 數量=96853.612208 | 實際價值=$211.14
2025-10-28T10:57:38.397309433Z [inf]  2025-10-28 10:57:38,388 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:57:38.472559504Z [inf]  2025-10-28 10:57:38,468 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:57:38.472566678Z [inf]  2025-10-28 10:57:38,469 - src.clients.binance_client - INFO - 創建訂單: DEGENUSDT BUY MARKET 96854.0
2025-10-28T10:57:38.549926918Z [inf]  2025-10-28 10:57:38,547 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'DEGENUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 96854.0, 'timestamp': 1761649058469, 'signature': '990073c9132042d6496d89f89645411f33c99e03cd001285092f40a07b154cf6'}
2025-10-28T10:57:38.549927163Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.549933863Z [inf]  2025-10-28 10:57:38,547 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:57:38.549940157Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:57:38.549942451Z [inf]  2025-10-28 10:57:38,547 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:57:38.549948570Z [inf]  2025-10-28 10:57:38,547 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:57:38.549950810Z [inf]      response.raise_for_status()
2025-10-28T10:57:38.549955234Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:38.549960515Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:57:38.549961505Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:57:38.549966066Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:57:38.549970249Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.549974950Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:57:38.549979812Z [inf]      raise e
2025-10-28T10:57:38.549985065Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:57:38.549989179Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:57:38.551475432Z [inf]      raise ClientResponseError(
2025-10-28T10:57:38.551483258Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:57:38.551483856Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:57:38.551491917Z [inf]  
2025-10-28T10:57:38.551493399Z [inf]      raise BinanceRequestError(
2025-10-28T10:57:38.551498950Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:57:38.551501242Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:57:38.551501442Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:57:38.551504710Z [inf]  
2025-10-28T10:57:38.551508308Z [inf]  2025-10-28 10:57:38,548 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 VIRTUALUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:57:38.551511244Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:38.551515642Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:57:38.551522481Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.551528601Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:57:38.551533291Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:57:38.551539380Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.551544074Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:57:38.551550039Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:57:38.551556107Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.552355704Z [inf]  2025-10-28 10:57:38,548 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.5x | 名義價值=$197.43 | 數量=125.767886 | 實際價值=$197.43
2025-10-28T10:57:38.552360859Z [inf]  2025-10-28 10:57:38,548 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:57:38.630066344Z [inf]  2025-10-28 10:57:38,626 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:57:38.630073029Z [inf]  2025-10-28 10:57:38,627 - src.clients.binance_client - INFO - 創建訂單: VIRTUALUSDT BUY MARKET 125.8
2025-10-28T10:57:38.710746098Z [inf]  2025-10-28 10:57:38,703 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'VIRTUALUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 125.8, 'timestamp': 1761649058627, 'signature': 'a627d5f4c07aff50bbc72df8ad2807fbd8308ad66c77009c72ce777dd0f5aafd'}
2025-10-28T10:57:38.710752803Z [inf]  2025-10-28 10:57:38,704 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:57:38.710759798Z [inf]  2025-10-28 10:57:38,704 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:57:38.710766654Z [inf]  2025-10-28 10:57:38,704 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:57:38.710772706Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:38.710779816Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:57:38.710796041Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:57:38.710804336Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.710811437Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:57:38.710818911Z [inf]      raise e
2025-10-28T10:57:38.710825291Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:57:38.710834407Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:57:38.710840721Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.710847029Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:57:38.710853350Z [inf]      response.raise_for_status()
2025-10-28T10:57:38.710862777Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:57:38.712510098Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:57:38.712513187Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.712519031Z [inf]      raise ClientResponseError(
2025-10-28T10:57:38.712525016Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:57:38.712527156Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:57:38.712531661Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:57:38.712535590Z [inf]      raise BinanceRequestError(
2025-10-28T10:57:38.712536901Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.712542139Z [inf]  
2025-10-28T10:57:38.712544784Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:57:38.712546186Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:57:38.712551758Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:57:38.712552184Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:57:38.712559976Z [inf]  2025-10-28 10:57:38,704 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 SONICUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:57:38.712560344Z [inf]  
2025-10-28T10:57:38.712561013Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.712568106Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:38.712569381Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:57:38.712576578Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:57:38.713823498Z [inf]  2025-10-28 10:57:38,704 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.9x | 名義價值=$205.66 | 數量=1494.598082 | 實際價值=$205.66
2025-10-28T10:57:38.713830468Z [inf]  2025-10-28 10:57:38,705 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:57:38.790970488Z [inf]  2025-10-28 10:57:38,784 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:57:38.790977084Z [inf]  2025-10-28 10:57:38,785 - src.clients.binance_client - INFO - 創建訂單: SONICUSDT BUY MARKET 1494.6
2025-10-28T10:57:38.864767816Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.864772299Z [inf]  2025-10-28 10:57:38,861 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'SONICUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 1494.6, 'timestamp': 1761649058785, 'signature': 'b783cae2a19a2b58c9dc114b1281206fee2d4e48566b86405489c0842ec756eb'}
2025-10-28T10:57:38.864777593Z [inf]  2025-10-28 10:57:38,862 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:57:38.864782113Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:57:38.864784134Z [inf]  2025-10-28 10:57:38,862 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:57:38.864791370Z [inf]  2025-10-28 10:57:38,862 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:57:38.864791807Z [inf]      response.raise_for_status()
2025-10-28T10:57:38.864797541Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:38.864800900Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:57:38.864804027Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:57:38.864810745Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:57:38.864814854Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.864820572Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:57:38.864825219Z [inf]      raise e
2025-10-28T10:57:38.864829052Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:57:38.864833235Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:57:38.866669817Z [inf]      raise ClientResponseError(
2025-10-28T10:57:38.866677908Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:57:38.866683421Z [inf]  
2025-10-28T10:57:38.866688879Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:57:38.866692935Z [inf]  
2025-10-28T10:57:38.866698311Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:38.866703597Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:57:38.866708336Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:57:38.866713987Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.866728008Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:57:38.866733318Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:57:38.866737944Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.866742190Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:57:38.866748539Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:57:38.866752421Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:38.866757313Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:57:38.866761583Z [inf]      raise BinanceRequestError(
2025-10-28T10:57:38.866766225Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:57:38.866772046Z [inf]  2025-10-28 10:57:38,862 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 VICUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:57:38.867958852Z [inf]  2025-10-28 10:57:38,863 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.8x | 名義價值=$202.91 | 數量=1416.012608 | 實際價值=$202.91
2025-10-28T10:57:38.867966366Z [inf]  2025-10-28 10:57:38,863 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:57:39.250538385Z [inf]  2025-10-28 10:57:39,159 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:57:39.250539940Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:57:39.250544741Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:57:39.250549981Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:39.250550821Z [inf]  
2025-10-28T10:57:39.250553787Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:57:39.250560610Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:57:39.250561398Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:39.250562332Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:39.250568746Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:57:39.250569719Z [inf]  
2025-10-28T10:57:39.250571772Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:57:39.250576575Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:57:39.250580820Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:57:39.250582408Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:57:39.250585141Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:57:39.250591018Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:39.250592004Z [inf]      response.raise_for_status()
2025-10-28T10:57:39.250596034Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:39.250604991Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:57:39.250611590Z [inf]      raise e
2025-10-28T10:57:39.250617477Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:57:39.250621695Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:39.250623108Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:57:39.250630034Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:39.250634821Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:57:39.250645416Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:57:39.250651676Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:57:39.250659310Z [inf]      raise ClientResponseError(
2025-10-28T10:57:39.251081251Z [inf]  2025-10-28 10:57:38,941 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:57:39.251086403Z [inf]  2025-10-28 10:57:38,941 - src.clients.binance_client - INFO - 創建訂單: VICUSDT SELL MARKET 1416.0
2025-10-28T10:57:39.251090501Z [inf]  2025-10-28 10:57:39,159 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'VICUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 1416.0, 'timestamp': 1761649058941, 'signature': '8b3fa275a3da66282cbd379e95d904157e6fc38137ef96788cf65f41c19d76ee'}
2025-10-28T10:57:39.251094620Z [inf]  2025-10-28 10:57:39,159 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:57:39.251099603Z [inf]  2025-10-28 10:57:39,159 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:57:39.251803803Z [inf]      raise BinanceRequestError(
2025-10-28T10:57:39.251808863Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:57:39.251813771Z [inf]  2025-10-28 10:57:39,160 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 PROVEUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:57:39.251818057Z [inf]  2025-10-28 10:57:39,160 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.8x | 名義價值=$202.91 | 數量=256.205312 | 實際價值=$202.91
2025-10-28T10:57:39.251822349Z [inf]  2025-10-28 10:57:39,160 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:57:39.370973313Z [inf]  2025-10-28 10:57:39,369 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:57:39.370980522Z [inf]  2025-10-28 10:57:39,370 - src.clients.binance_client - INFO - 創建訂單: PROVEUSDT SELL MARKET 256.2
2025-10-28T10:57:39.582653950Z [inf]  2025-10-28 10:57:39,578 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'PROVEUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 256.2, 'timestamp': 1761649059370, 'signature': '6c3ceed13d7372a80546f220c222de464952f296ea81804cb6450a120ba47f56'}
2025-10-28T10:57:39.582662618Z [inf]  2025-10-28 10:57:39,578 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:57:39.582669024Z [inf]  2025-10-28 10:57:39,578 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:57:39.582675751Z [inf]  2025-10-28 10:57:39,579 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:57:39.582681561Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:39.582687327Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:57:39.582693642Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:57:39.582699364Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:39.582704424Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:57:39.582710182Z [inf]      raise e
2025-10-28T10:57:39.582715893Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:57:39.582721996Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:57:39.582727063Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:39.582732242Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:57:39.582737931Z [inf]      response.raise_for_status()
2025-10-28T10:57:39.582742828Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:57:39.584745276Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:57:39.584756292Z [inf]  2025-10-28 10:57:39,579 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 TRUTHUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:57:39.584756815Z [inf]      raise ClientResponseError(
2025-10-28T10:57:39.584765782Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:57:39.584774176Z [inf]  
2025-10-28T10:57:39.584781235Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:57:39.584787591Z [inf]  
2025-10-28T10:57:39.584794587Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:39.584800448Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:57:39.584807405Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:57:39.584813221Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:39.584820146Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:57:39.584824722Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:57:39.584829853Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:39.584834980Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:57:39.584839463Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:57:39.584843756Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:39.584848904Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:57:39.584853178Z [inf]      raise BinanceRequestError(
2025-10-28T10:57:39.585849677Z [inf]  2025-10-28 10:57:39,579 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.2x | 名義價值=$191.95 | 數量=14037.315317 | 實際價值=$191.95
2025-10-28T10:57:39.585857302Z [inf]  2025-10-28 10:57:39,579 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:57:39.658110918Z [inf]  2025-10-28 10:57:39,655 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:57:39.658116081Z [inf]  2025-10-28 10:57:39,655 - src.clients.binance_client - INFO - 創建訂單: TRUTHUSDT SELL MARKET 14037.0
2025-10-28T10:57:39.733256124Z [inf]  2025-10-28 10:57:39,729 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'TRUTHUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 14037.0, 'timestamp': 1761649059655, 'signature': '9c083cebef803cb88e8799169d54c5be777dafccf34a20c75b9145a5a9750bff'}
2025-10-28T10:57:39.733263946Z [inf]  2025-10-28 10:57:39,730 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:57:39.733270361Z [inf]  2025-10-28 10:57:39,730 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:57:39.733275856Z [inf]  2025-10-28 10:57:39,730 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:57:39.733282299Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:39.733291958Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:57:39.733297768Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:57:39.733304316Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:39.733309751Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:57:39.733314492Z [inf]      raise e
2025-10-28T10:57:39.733319155Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:57:39.733324060Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:57:39.733328363Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:39.733334321Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:57:39.733339378Z [inf]      response.raise_for_status()
2025-10-28T10:57:39.733343958Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:57:39.734874323Z [inf]      raise ClientResponseError(
2025-10-28T10:57:39.734880348Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:57:39.734885382Z [inf]  
2025-10-28T10:57:39.734889946Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:57:39.734894848Z [inf]  
2025-10-28T10:57:39.734899613Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:39.734903620Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:57:39.734908581Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:57:39.734914095Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:39.734919812Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:57:39.734926929Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:57:39.734931138Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:39.734935156Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:57:39.734952814Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:57:39.734958095Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:39.734962879Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:57:39.734969350Z [inf]      raise BinanceRequestError(
2025-10-28T10:57:39.734974161Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:57:39.734978603Z [inf]  2025-10-28 10:57:39,730 - src.strategies.self_learning_trader - WARNING -    ⚠️ 無法獲取 BLUAIUSDT 最小數量: '<' not supported between instances of 'float' and 'coroutine'
2025-10-28T10:57:39.735934082Z [inf]  2025-10-28 10:57:39,730 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.51 | 槓桿=11.5x | 名義價值=$197.43 | 數量=10535.241633 | 實際價值=$197.43
2025-10-28T10:57:39.735942899Z [inf]  2025-10-28 10:57:39,730 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:57:40.279575394Z [inf]    File "/app/src/core/unified_scheduler.py", line 393, in _execute_signal
2025-10-28T10:57:40.279586798Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T10:57:40.279594041Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:40.279601431Z [inf]    File "/app/src/clients/binance_client.py", line 566, in place_order
2025-10-28T10:57:40.279610445Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T10:57:40.279619631Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:40.279628045Z [inf]    File "/app/src/clients/binance_client.py", line 539, in create_order
2025-10-28T10:57:40.279637194Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T10:57:40.279645446Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:40.279653293Z [inf]    File "/app/src/clients/binance_client.py", line 195, in _request
2025-10-28T10:57:40.279702567Z [inf]  2025-10-28 10:57:39,936 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:57:40.279707761Z [inf]  2025-10-28 10:57:39,937 - src.clients.binance_client - INFO - 創建訂單: BLUAIUSDT SELL MARKET 10535.0
2025-10-28T10:57:40.279712722Z [inf]  2025-10-28 10:57:40,154 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4061, msg=Order's position side does not match user's setting., endpoint=/fapi/v1/order, params={'symbol': 'BLUAIUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 10535.0, 'timestamp': 1761649059937, 'signature': '233aad8b8da6c06245e7f44be9edde8d0a74eadbf8e18e6ddc609741cd0b3099'}
2025-10-28T10:57:40.279717980Z [inf]  2025-10-28 10:57:40,154 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T10:57:40.279723140Z [inf]  2025-10-28 10:57:40,154 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T10:57:40.279730576Z [inf]  2025-10-28 10:57:40,154 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T10:57:40.279737154Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:40.279744698Z [inf]    File "/app/src/clients/binance_client.py", line 191, in _request
2025-10-28T10:57:40.279751162Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T10:57:40.279757616Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:40.279764249Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T10:57:40.279771095Z [inf]      raise e
2025-10-28T10:57:40.279776352Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T10:57:40.279781621Z [inf]      result = await func(*args, **kwargs)
2025-10-28T10:57:40.279789117Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:40.279976658Z [inf]    File "/app/src/clients/binance_client.py", line 154, in _do_request
2025-10-28T10:57:40.279984252Z [inf]      response.raise_for_status()
2025-10-28T10:57:40.279990219Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T10:57:40.279995990Z [inf]      raise ClientResponseError(
2025-10-28T10:57:40.280003307Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order'
2025-10-28T10:57:40.280009138Z [inf]  
2025-10-28T10:57:40.280015155Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T10:57:40.280020873Z [inf]  
2025-10-28T10:57:40.280025435Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:40.280059261Z [inf]      raise BinanceRequestError(
2025-10-28T10:57:40.280064864Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T10:57:40.280070373Z [inf]  2025-10-28 10:57:40,155 - src.core.unified_scheduler - INFO - ✅ 週期完成 | 耗時: 8.8s | 新成交: 0
2025-10-28T10:57:40.280075724Z [inf]  2025-10-28 10:57:40,155 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T10:57:40.358967564Z [inf]  2025-10-28 10:57:40,352 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:40.358973068Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:40.358978548Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:40.358983392Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:40.358989026Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:40.358995485Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:42.359249388Z [inf]  2025-10-28 10:57:42,354 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:42.359259098Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:42.359265650Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:42.359272215Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:42.359278769Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:42.359287492Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:44.360053351Z [inf]  2025-10-28 10:57:44,356 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:44.360059213Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:44.360064048Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:44.360068064Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:44.360072102Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:44.360077419Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:46.362577928Z [inf]  2025-10-28 10:57:46,358 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:46.362584692Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:46.362589352Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:46.362595816Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:46.362600991Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:46.362605513Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:48.364277090Z [inf]  2025-10-28 10:57:48,361 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:48.364288277Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:48.364296732Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:48.364304989Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:48.364313117Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:48.364319134Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:50.369285601Z [inf]  2025-10-28 10:57:50,363 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:50.369292581Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:50.369297882Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:50.369303720Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:50.369309287Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:50.369314822Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:52.379155573Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:52.379167920Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:52.379175502Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:52.379220724Z [inf]  2025-10-28 10:57:52,367 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:52.379225106Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:52.379229825Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:54.372782792Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:54.372795593Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:54.372804119Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:54.372813103Z [inf]  2025-10-28 10:57:54,369 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:54.372813469Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:54.372823064Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:56.449432847Z [inf]  2025-10-28 10:57:56,371 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:56.449439391Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:56.449459036Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:57:56.449465495Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:56.449471756Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:56.449477515Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:58.432616042Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:57:58.432625103Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:57:58.432631520Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:58.432674293Z [inf]  2025-10-28 10:57:58,374 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:57:58.432679343Z [inf]  Traceback (most recent call last):
2025-10-28T10:57:58.432683911Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:00.427556919Z [inf]  2025-10-28 10:58:00,377 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:00.427570389Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:00.427593037Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:00.427598282Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:00.427602799Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:00.427614654Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:02.422988184Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:02.422997782Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:02.423004562Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:02.423074921Z [inf]  2025-10-28 10:58:02,378 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:02.423080928Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:02.423087037Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:04.384325913Z [inf]  2025-10-28 10:58:04,380 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:04.384345922Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:04.384351982Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:04.384358972Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:04.384367039Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:06.385109687Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:06.385121241Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:06.385126562Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:06.385131769Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:06.385283710Z [inf]  2025-10-28 10:58:06,383 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:06.385289765Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:08.387089533Z [inf]  2025-10-28 10:58:08,384 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:08.387102272Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:08.387109560Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:08.387121141Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:08.387128304Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:08.387136036Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:10.457828555Z [inf]  2025-10-28 10:58:10,386 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:10.457833010Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:10.457837283Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:10.457841704Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:10.457847483Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:10.457852026Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:12.439754808Z [inf]  2025-10-28 10:58:12,389 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:12.439765059Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:12.439821288Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:12.439828726Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:12.439840075Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:12.439846295Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:14.467697914Z [inf]  2025-10-28 10:58:14,391 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:14.467703595Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:14.467709849Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:14.467716095Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:14.467723734Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:14.467731058Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:16.408637468Z [inf]  2025-10-28 10:58:16,392 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:16.408641920Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:16.408647367Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:16.408652101Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:16.408656789Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:16.408664031Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:18.425569367Z [inf]  2025-10-28 10:58:18,394 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:18.425575692Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:18.425581475Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:18.425586958Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:18.425593076Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:18.425598765Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:20.413865978Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:20.413930107Z [inf]  2025-10-28 10:58:20,396 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:20.413937799Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:20.413944832Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:20.413952092Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:20.413959701Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:22.445926728Z [inf]  2025-10-28 10:58:22,398 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:22.445931885Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:22.445936587Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:22.445940868Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:22.445945679Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:22.445950316Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:24.484356910Z [inf]  2025-10-28 10:58:24,401 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:24.484362433Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:24.484368012Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:24.484373812Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:24.484380141Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:24.484385943Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:26.504375738Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:26.504387375Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:26.504394475Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:26.504401065Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:26.504420451Z [inf]  2025-10-28 10:58:26,403 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:26.504430577Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:28.468571657Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:28.468580460Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:28.468646070Z [inf]  2025-10-28 10:58:28,405 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:28.468650303Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:28.468659733Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:28.468663947Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:30.550800213Z [inf]  2025-10-28 10:58:30,408 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:30.550809687Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:30.550815806Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:30.550821269Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:30.550826148Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:30.550832611Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:32.512874639Z [inf]  2025-10-28 10:58:32,410 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:32.512882012Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:32.512886073Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:32.512890758Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:32.512896341Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:32.512900757Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:34.516424763Z [inf]  2025-10-28 10:58:34,411 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:34.516432392Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:34.516438984Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:34.516445794Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:34.516451707Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:34.516459850Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:36.484971116Z [inf]  2025-10-28 10:58:36,412 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:36.484978281Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:36.484986433Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:36.484992612Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:36.484998570Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:36.485004529Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:38.496518688Z [inf]  2025-10-28 10:58:38,414 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:38.496523865Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:38.496528832Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:38.496534118Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:38.496540113Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:38.496545386Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:40.510729606Z [inf]  2025-10-28 10:58:40,156 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T10:58:40.510737944Z [inf]  2025-10-28 10:58:40,156 - src.core.unified_scheduler - INFO - 🔄 交易週期 #5 | 2025-10-28 10:58:40 UTC
2025-10-28T10:58:40.510746094Z [inf]  2025-10-28 10:58:40,156 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T10:58:40.510758345Z [inf]  2025-10-28 10:58:40,157 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T10:58:40.510764000Z [inf]  2025-10-28 10:58:40,267 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T10:58:40.510770500Z [inf]  2025-10-28 10:58:40,267 - src.core.unified_scheduler - INFO - 📦 當前持倉: 無
2025-10-28T10:58:40.510777361Z [inf]  2025-10-28 10:58:40,267 - src.core.unified_scheduler - INFO - 💰 賬戶權益: $21.51 | 未實現盈虧: $+0.00
2025-10-28T10:58:40.510784025Z [inf]  2025-10-28 10:58:40,268 - src.core.unified_scheduler - INFO - 📊 掃描到 528 個 USDT 永續合約，監控前 999 個
2025-10-28T10:58:40.510790351Z [inf]  2025-10-28 10:58:40,268 - src.core.unified_scheduler - INFO - 📊 掃描 528 個交易對中...
2025-10-28T10:58:40.510796652Z [inf]  2025-10-28 10:58:40,415 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:40.510802663Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:40.510808486Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:40.510814592Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:40.510822688Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:40.511032211Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:40.707975346Z [inf]                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:40.707987011Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in <lambda>
2025-10-28T10:58:40.707993331Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:58:40.707998989Z [inf]                                                       ~^^^^^^^^
2025-10-28T10:58:40.708004112Z [inf]  KeyError: 'zone'
2025-10-28T10:58:40.708007365Z [inf]  2025-10-28 10:58:40,702 - src.strategies.rule_based_signal_generator - ERROR - ❌ XRPUSDT 信號生成失敗: 'zone'
2025-10-28T10:58:40.708014144Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:40.708021300Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 112, in generate_signal
2025-10-28T10:58:40.708027923Z [inf]      confidence_score, sub_scores = self._calculate_confidence(
2025-10-28T10:58:40.708035740Z [inf]                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:40.708041433Z [inf]    File "/app/src/strategies/rule_based_signal_generator.py", line 375, in _calculate_confidence
2025-10-28T10:58:40.708055199Z [inf]      nearest_ob = min(relevant_obs, key=lambda x: abs(x['zone'][0] - current_price))
2025-10-28T10:58:42.645092608Z [inf]  2025-10-28 10:58:42,417 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:42.645098335Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:42.645103910Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:42.645110977Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:42.645117634Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T10:58:42.645124141Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:44.631949300Z [inf]  AttributeError: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:44.632538081Z [inf]  2025-10-28 10:58:44,418 - src.core.position_controller - ERROR - ❌ 獲取持倉失敗: 'BinanceClient' object has no attribute 'get_position_info_async'
2025-10-28T10:58:44.632543111Z [inf]  Traceback (most recent call last):
2025-10-28T10:58:44.632548832Z [inf]    File "/app/src/core/position_controller.py", line 135, in _fetch_all_positions
2025-10-28T10:58:44.632552920Z [inf]      raw_positions = await self.binance_client.get_position_info_async()
2025-10-28T10:58:44.632557524Z [inf]                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^