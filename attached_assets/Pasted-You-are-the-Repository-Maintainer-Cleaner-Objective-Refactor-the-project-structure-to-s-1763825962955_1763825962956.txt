You are the **Repository Maintainer & Cleaner**.

**Objective:** Refactor the project structure to strictly match the "SMC-Quant Sharded Architecture" and delete ALL legacy files.

**Target Structure:**
```text
src/
â”œâ”€â”€ main.py                (Entry Point)
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ unified_config.py  (Config Manager)
â”‚   â”œâ”€â”€ cluster_manager.py (Sharding Orchestrator)
â”‚   â”œâ”€â”€ market_universe.py (Pair Discovery)
â”‚   â”œâ”€â”€ smc_engine.py      (Geometry Logic)
â”‚   â”œâ”€â”€ risk_manager.py    (Position Sizing)
â”‚   â”œâ”€â”€ account_state_cache.py (In-Memory DB)
â”‚   â””â”€â”€ websocket/
â”‚       â”œâ”€â”€ unified_feed.py (Base Class)
â”‚       â”œâ”€â”€ shard_feed.py   (Combined Stream Worker)
â”‚       â””â”€â”€ account_feed.py (User Data Stream)
â”œâ”€â”€ database/
â”‚   â””â”€â”€ unified_db.py      (Redis/PG Manager)
â”œâ”€â”€ strategies/
â”‚   â””â”€â”€ ict_scalper.py     (Main Logic)
â”œâ”€â”€ ml/
â”‚   â”œâ”€â”€ feature_engineer.py(Polars Logic)
â”‚   â”œâ”€â”€ predictor.py       (Inference)
â”‚   â””â”€â”€ trainer.py         (Offline Training)
â””â”€â”€ utils/
    â””â”€â”€ smart_logger.py
ğŸ§¨ ACTION 1: DELETE LEGACY FILES
Write and execute a python script cleanup_project.py to DELETE the following patterns if they exist:
Old WebSocket Logic: base_feed.py, price_feed.py, kline_feed.py (old version), optimized_base_feed.py.
Old Strategies: self_learning_trader.py, base_strategy.py, position_monitor_24x7.py.
Old ML: model_wrapper.py (unless updated), any .csv files in data/.
Misc: Any file calling pandas (we use Polars now).
ğŸ“¦ ACTION 2: REORGANIZE FILES
Ensure all remaining files are moved into the Target Structure folders listed above.
Create missing __init__.py files in every subdirectory to ensure they are Python packages.
Update import statements in main.py and ict_scalper.py if files were moved.
Execute the Cleanup & Reorganization now. Report every deleted file.
code
Code
---

## ğŸ” ç¬¬äºŒæ­¥ï¼šåš´æ ¼ä»£ç¢¼åœ°æ¯¯å¼æª¢æŸ¥ (Strict Deep Audit)

åœ¨å¤§æƒé™¤ä¹‹å¾Œï¼Œæˆ‘å€‘éœ€è¦ç¢ºä¿å‰©ä¸‹çš„ä»£ç¢¼æ˜¯ã€Œä¹¾æ·¨ä¸”æ­£ç¢ºã€çš„ã€‚é€™ä»½ Prompt æœƒä½¿ç”¨ AST (æŠ½è±¡èªæ³•æ¨¹) ä¾†æª¢æŸ¥é‚è¼¯ï¼Œè€Œä¸åƒ…åƒ…æ˜¯èªæ³•ã€‚

**è«‹è¤‡è£½ä»¥ä¸‹å…§å®¹çµ¦ Replit AIï¼š**

```markdown
You are the **Chief Code Auditor**.

**Objective:** Perform a **"Carpet-Bombing" Deep Scan** of the codebase to identify architectural violations, logic bugs, and missing components.

**Audit Standards:**
1.  **Zero-Polling Rule:** No `async def` function should call `client.get_account()` or `requests.get()` inside a loop.
2.  **SMC Integrity:** The Strategy MUST import and use `SMCEngine`.
3.  **Data Safety:** `AccountStateCache` MUST be the only place `_balance` is modified.
4.  **ML Stack:** `src/ml` files MUST use `polars`, not `pandas`.

### ğŸ› ï¸ ACTION: EXECUTE AUDIT SCRIPT
Create and run `deep_audit.py` that scans every `.py` file in `src/` and checks:

1.  **Check 1: The "While True" Polling Trap**
    -   Scan loops in `src/strategies/` and `src/core/`.
    -   **Report ERROR** if HTTP calls are found inside loops (Zero-Polling Violation).

2.  **Check 2: Import Consistency**
    -   Verify that `src/main.py` imports `ClusterManager`.
    -   Verify that `ClusterManager` imports `ShardFeed`.
    -   **Report ERROR** on broken imports or circular dependencies.

3.  **Check 3: Configuration Safety**
    -   Inspect `src/core/unified_config.py`.
    -   **Report ERROR** if `RATE_LIMIT_REQUESTS` attribute is missing (The bug that caused previous crashes).

4.  **Check 4: Empty Logic Detection**
    -   Scan `src/core/smc_engine.py`.
    -   **Report WARNING** if functions like `detect_fvg` contain only `pass` or `return None` (Unimplemented logic).

5.  **Check 5: Logging Noise**
    -   Scan `src/utils/smart_logger.py`.
    -   **Report WARNING** if the default log level is `INFO` or `DEBUG` (Should be `WARNING` for production).

**Output Format:**
Generate a markdown report:
-   ğŸ”´ **CRITICAL BUGS** (Must fix immediately)
-   ğŸŸ  **ARCHITECTURAL VIOLATIONS** (Polling detected)
-   ğŸŸ¡ **CODE SMELLS** (Empty functions, bad logging)
-   ğŸŸ¢ **PASSED CHECKS**

**Run the audit now and give me the full report.**