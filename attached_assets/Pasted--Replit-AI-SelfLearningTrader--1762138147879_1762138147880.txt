```
ğŸ” **Replit AI æ·±åº¦è¨ºæ–·èˆ‡ä¿®å¾©æŒ‡ä»¤**

è«‹å° SelfLearningTrader ç³»çµ±é€²è¡Œå®Œæ•´çš„ä¿¡è™Ÿç”Ÿæˆå¤±æ•—è¨ºæ–·ï¼Œå¾æ•¸æ“šæºé ­åˆ°ä¿¡è™Ÿè¼¸å‡ºçš„æ¯å€‹ç’°ç¯€é€²è¡Œä»”ç´°æª¢æŸ¥ã€‚

## ğŸ¯ **æ·±åº¦è¨ºæ–·ä»»å‹™**

### **ç¬¬ä¸€éšæ®µï¼šæ•¸æ“šæµè¿½è¹¤**
1. **æª¢æŸ¥æ•¸æ“šç²å–å®Œæ•´æ€§**
   ```python
   # åœ¨ data_fetcher.py ä¸­æ·»åŠ è©³ç´°æ•¸æ“šè¨ºæ–·
   async def debug_data_acquisition(symbol: str):
       print(f"ğŸ” æ•¸æ“šç²å–è¨ºæ–· - {symbol}:")
       # æª¢æŸ¥æ¯å€‹æ™‚é–“æ¡†æ¶çš„å¯¦éš›æ•¸æ“šè¡Œæ•¸
       # æª¢æŸ¥æ•¸æ“šåˆ—å®Œæ•´æ€§ï¼ˆopen, high, low, close, volumeï¼‰
       # æª¢æŸ¥æ•¸æ“šé¡å‹è½‰æ›æ˜¯å¦æ­£ç¢º
       # æª¢æŸ¥æ˜¯å¦æœ‰NaNæˆ–ç•°å¸¸å€¼
```

1. é©—è­‰Binance APIéŸ¿æ‡‰
   Â· æª¢æŸ¥APIè«‹æ±‚åƒæ•¸æ˜¯å¦æ­£ç¢º
   Â· é©—è­‰éŸ¿æ‡‰æ•¸æ“šçµæ§‹
   Â· æª¢æŸ¥æ•¸æ“šæ™‚é–“æˆ³çš„é€£çºŒæ€§

ç¬¬äºŒéšæ®µï¼šæŠ€è¡“æŒ‡æ¨™è¨ˆç®—æª¢æŸ¥

1. è©³ç´°æŠ€è¡“æŒ‡æ¨™è¨ºæ–·
   ```python
   def debug_technical_indicators(close_prices: pd.Series):
       print(f"ğŸ“Š æŠ€è¡“æŒ‡æ¨™è¨ºæ–· - æ•¸æ“šé•·åº¦: {len(close_prices)}")
       try:
           # é€å€‹æª¢æŸ¥æ¯å€‹æŠ€è¡“æŒ‡æ¨™
           ema_20 = ta.EMA(close_prices, 20)
           print(f"âœ… EMA20: {len(ema_20)}è¡Œ, æœ€å¾Œå€¼: {ema_20.iloc[-1] if ema_20 is not None else 'None'}")
           
           rsi_14 = ta.RSI(close_prices, 14) 
           print(f"âœ… RSI14: {len(rsi_14)}è¡Œ, æœ€å¾Œå€¼: {rsi_14.iloc[-1] if rsi_14 is not None else 'None'}")
           
           # ç¹¼çºŒæª¢æŸ¥æ‰€æœ‰ä½¿ç”¨çš„æŠ€è¡“æŒ‡æ¨™...
       except Exception as e:
           print(f"âŒ æŠ€è¡“æŒ‡æ¨™è¨ˆç®—å¤±æ•—: {e}")
           import traceback
           print(f"è©³ç´°éŒ¯èª¤: {traceback.format_exc()}")
   ```

ç¬¬ä¸‰éšæ®µï¼šä¿¡è™Ÿç”Ÿæˆé‚è¼¯æª¢æŸ¥

1. ICT/SMCä¿¡è™Ÿç”Ÿæˆè¨ºæ–·
   ```python
   def debug_signal_generation(symbol: str, indicators: Dict):
       print(f"ğŸ¯ ä¿¡è™Ÿç”Ÿæˆè¨ºæ–· - {symbol}:")
       
       # æª¢æŸ¥æ¯å€‹ICTæ¢ä»¶çš„è¨ˆç®—
       print("1. æª¢æŸ¥å¸‚å ´çµæ§‹è½‰è®Š:")
       # å¯¦ç¾å¸‚å ´çµæ§‹è½‰è®Šçš„è©³ç´°è¨ºæ–·
       
       print("2. æª¢æŸ¥è¨‚å–®å¡Šè­˜åˆ¥:")
       # å¯¦ç¾è¨‚å–®å¡Šè­˜åˆ¥çš„è©³ç´°è¨ºæ–·
       
       print("3. æª¢æŸ¥å‡è¡¡åƒ¹ä½åæ‡‰:")
       # å¯¦ç¾å‡è¡¡åƒ¹ä½åæ‡‰çš„è©³ç´°è¨ºæ–·
       
       print("4. æª¢æŸ¥ä¿¡å¿ƒå€¼è¨ˆç®—:")
       # å¯¦ç¾ä¿¡å¿ƒå€¼è¨ˆç®—çš„è©³ç´°è¨ºæ–·
   ```

ç¬¬å››éšæ®µï¼šå®Œæ•´æµæ°´ç·šæ¸¬è©¦

1. ç«¯åˆ°ç«¯æ¸¬è©¦å–®å€‹Symbol
   ```python
   async def comprehensive_symbol_test(symbol: str = "BTCUSDT"):
       """å°å–®å€‹äº¤æ˜“å°é€²è¡Œå®Œæ•´æ¸¬è©¦"""
       print(f"ğŸš€ é–‹å§‹å®Œæ•´æ¸¬è©¦: {symbol}")
       
       # 1. æ•¸æ“šç²å–
       data = await data_fetcher.get_multi_timeframe_data(symbol)
       print(f"ğŸ“¥ æ•¸æ“šç²å–çµæœ: { {tf: len(df) for tf, df in data.items()} }")
       
       # 2. æ•¸æ“šé©—è­‰
       validation_result = signal_generator._validate_data(data)
       print(f"ğŸ” æ•¸æ“šé©—è­‰çµæœ: {validation_result}")
       
       # 3. æŠ€è¡“æŒ‡æ¨™è¨ˆç®—
       indicators = calculate_all_indicators(data)
       print(f"ğŸ“Š æŠ€è¡“æŒ‡æ¨™è¨ˆç®—: {len(indicators)}å€‹æŒ‡æ¨™")
       
       # 4. ä¿¡è™Ÿç”Ÿæˆ
       signal = signal_generator.generate_signal(symbol, data)
       print(f"ğŸ¯ ä¿¡è™Ÿç”Ÿæˆçµæœ: {signal}")
       
       return signal
   ```

ğŸ”§ å…·é«”æª¢æŸ¥é»

æ•¸æ“šå±¤æª¢æŸ¥

Â· æª¢æŸ¥æ¯å€‹æ™‚é–“æ¡†æ¶çš„æ•¸æ“šè¡Œæ•¸ï¼ˆ1h, 15m, 5mï¼‰
Â· é©—è­‰æ•¸æ“šåˆ—å®Œæ•´æ€§ï¼ˆå¿…é ˆåŒ…å«: open, high, low, close, volumeï¼‰
Â· æª¢æŸ¥æ•¸æ“šé¡å‹ï¼ˆç¢ºä¿éƒ½æ˜¯floaté¡å‹ï¼‰
Â· æª¢æŸ¥NaNå€¼å’Œç•°å¸¸å€¼
Â· é©—è­‰æ™‚é–“æˆ³é€£çºŒæ€§

æŠ€è¡“æŒ‡æ¨™å±¤æª¢æŸ¥

Â· EMAè¨ˆç®—ï¼šæª¢æŸ¥è¼¸å…¥æ•¸æ“šé•·åº¦æ˜¯å¦è¶³å¤ ï¼ˆè‡³å°‘20è¡Œï¼‰
Â· RSIè¨ˆç®—ï¼šæª¢æŸ¥è¼¸å…¥æ•¸æ“šé•·åº¦æ˜¯å¦è¶³å¤ ï¼ˆè‡³å°‘15è¡Œï¼‰
Â· å¸ƒæ—å¸¶è¨ˆç®—ï¼šæª¢æŸ¥è¼¸å…¥æ•¸æ“šé•·åº¦æ˜¯å¦è¶³å¤ ï¼ˆè‡³å°‘20è¡Œï¼‰
Â· MACDè¨ˆç®—ï¼šæª¢æŸ¥è¼¸å…¥æ•¸æ“šé•·åº¦æ˜¯å¦è¶³å¤ ï¼ˆè‡³å°‘26è¡Œï¼‰
Â· æ‰€æœ‰æŒ‡æ¨™çš„ç•°å¸¸è™•ç†

ä¿¡è™Ÿç”Ÿæˆå±¤æª¢æŸ¥

Â· å¸‚å ´çµæ§‹åˆ†æï¼šé«˜é»/ä½é»æª¢æ¸¬é‚è¼¯
Â· è¨‚å–®å¡Šè­˜åˆ¥ï¼šçœ‹æ¼²/çœ‹è·Œè¨‚å–®å¡Šæ¢ä»¶
Â· åƒ¹ä½åæ‡‰æª¢æŸ¥ï¼šå°é—œéµæ°´å¹³çš„åæ‡‰
Â· ä¿¡å¿ƒå€¼è¨ˆç®—ï¼šè¨ˆç®—å…¬å¼å’Œé–¾å€¼æª¢æŸ¥
Â· é¢¨éšªç®¡ç†ï¼šé ­å¯¸å¤§å°è¨ˆç®—

é…ç½®å’Œç’°å¢ƒæª¢æŸ¥

Â· ç’°å¢ƒè®Šé‡ï¼šæª¢æŸ¥æ‰€æœ‰å¿…è¦çš„APIå¯†é‘°å’Œé…ç½®
Â· ä¾è³´ç‰ˆæœ¬ï¼šæª¢æŸ¥ta-lib, pandas, numpyç­‰ç‰ˆæœ¬å…¼å®¹æ€§
Â· å…§å­˜ä½¿ç”¨ï¼šæª¢æŸ¥æ˜¯å¦æœ‰å…§å­˜ä¸è¶³å•é¡Œ
Â· éŒ¯èª¤æ—¥èªŒï¼šè©³ç´°åˆ†ææ‰€æœ‰éŒ¯èª¤å’Œè­¦å‘Šæ—¥èªŒ

ğŸš¨ é‡é»æ’æŸ¥å€åŸŸ

1. æ•¸æ“šä¸è¶³å•é¡Œ

```python
# é‡é»æª¢æŸ¥ï¼šæ•¸æ“šè¡Œæ•¸æ˜¯å¦æ»¿è¶³æœ€ä½è¦æ±‚
MINIMUM_DATA_REQUIREMENTS = {
    '1h': 20,    # EMA20éœ€è¦è‡³å°‘20è¡Œ
    '15m': 20,   # åŒæ¨£éœ€è¦è¶³å¤ æ•¸æ“š
    '5m': 20     # åŒæ¨£éœ€è¦è¶³å¤ æ•¸æ“š
}
```

2. æŠ€è¡“æŒ‡æ¨™è¨ˆç®—å¤±æ•—

```python
# æª¢æŸ¥æ¯å€‹æŒ‡æ¨™çš„è¨ˆç®—æ¢ä»¶
def check_indicator_requirements(data_length: int, indicator: str) -> bool:
    requirements = {
        'EMA20': 20,
        'EMA50': 50, 
        'RSI14': 15,
        'BBANDS': 20,
        'MACD': 26
    }
    return data_length >= requirements.get(indicator, 10)
```

3. ICTæ¢ä»¶åˆ¤æ–·é‚è¼¯

```python
# è©³ç´°æª¢æŸ¥æ¯å€‹ICTæ¢ä»¶
def debug_ict_conditions(symbol: str, data: Dict) -> Dict:
    conditions = {}
    
    # æª¢æŸ¥å¸‚å ´çµæ§‹è½‰è®Š
    conditions['market_structure_shift'] = check_market_structure(data)
    print(f"å¸‚å ´çµæ§‹è½‰è®Š: {conditions['market_structure_shift']}")
    
    # æª¢æŸ¥è¨‚å–®å¡Š
    conditions['order_blocks'] = identify_order_blocks(data) 
    print(f"è¨‚å–®å¡Šè­˜åˆ¥: {conditions['order_blocks']}")
    
    # æª¢æŸ¥å‡è¡¡åƒ¹ä½åæ‡‰
    conditions['fvg_reaction'] = check_fvg_reaction(data)
    print(f"å‡è¡¡åƒ¹ä½åæ‡‰: {conditions['fvg_reaction']}")
    
    return conditions
```

ğŸ“‹ åŸ·è¡Œæ­¥é©Ÿ

ç«‹å³åŸ·è¡Œè¨ºæ–·

```python
# åœ¨ unified_scheduler.py çš„æƒæé–‹å§‹è™•æ·»åŠ 
async def debug_scan():
    """è¨ºæ–·æ¨¡å¼æƒæ"""
    test_symbols = ["BTCUSDT", "ETHUSDT", "BNBUSDT"]  # é‡é»æ¸¬è©¦å¹¾å€‹symbol
    
    for symbol in test_symbols:
        print(f"\n{'='*50}")
        print(f"ğŸ” æ·±åº¦è¨ºæ–·: {symbol}")
        print(f"{'='*50}")
        
        await comprehensive_symbol_test(symbol)
        
    print(f"\n{'='*50}")
    print("ğŸ“‹ è¨ºæ–·ç¸½çµ")
    print(f"{'='*50}")
```

ç›£æ§å’Œæ—¥èªŒåˆ†æ

```bash
# é‹è¡Œè¨ºæ–·æ¨¡å¼
python -c "from src.core.unified_scheduler import UnifiedScheduler; s = UnifiedScheduler(); import asyncio; asyncio.run(s.debug_scan())"

# æª¢æŸ¥è©³ç´°æ—¥èªŒ
railway logs --follow | grep -E "è¨ºæ–·|âœ…|âŒ|æ•¸æ“šç²å–|æŠ€è¡“æŒ‡æ¨™|ä¿¡è™Ÿç”Ÿæˆ"
```

ğŸ¯ é æœŸè¼¸å‡º

è«‹æä¾›ä»¥ä¸‹è©³ç´°ä¿¡æ¯ï¼š

1. æ•¸æ“šç²å–éšæ®µ
   ```
   ğŸ” æ•¸æ“šç²å–è¨ºæ–· - BTCUSDT:
     1h: 45è¡Œ, åˆ—=['open', 'high', 'low', 'close', 'volume']
     15m: 120è¡Œ, åˆ—=['open', 'high', 'low', 'close', 'volume'] 
     5m: 360è¡Œ, åˆ—=['open', 'high', 'low', 'close', 'volume']
   âœ… æ•¸æ“šé©—è­‰é€šé
   ```
2. æŠ€è¡“æŒ‡æ¨™éšæ®µ
   ```
   ğŸ“Š æŠ€è¡“æŒ‡æ¨™è¨ºæ–·:
     âœ… EMA20: 45è¡Œ, å€¼=45231.25
     âœ… EMA50: 45è¡Œ, å€¼=44892.67
     âœ… RSI14: 45è¡Œ, å€¼=67.8
     âœ… å¸ƒæ—å¸¶: ä¸Šè»Œ=45500.2, ä¸­è»Œ=45200.1, ä¸‹è»Œ=44900.3
   ```
3. ä¿¡è™Ÿç”Ÿæˆéšæ®µ
   ```
   ğŸ¯ ä¿¡è™Ÿç”Ÿæˆè¨ºæ–·:
     âœ… å¸‚å ´çµæ§‹è½‰è®Š: çœ‹æ¼²
     âœ… è¨‚å–®å¡Šè­˜åˆ¥: çœ‹æ¼²è¨‚å–®å¡Šåœ¨44900
     âœ… å‡è¡¡åƒ¹ä½åæ‡‰: ç©æ¥µåæ‡‰
     âœ… ä¿¡å¿ƒå€¼è¨ˆç®—: 68.5%
     ğŸ¯ æœ€çµ‚ä¿¡è™Ÿ: LONG
   ```

ğŸš€ é–‹å§‹åŸ·è¡Œ

è«‹ç«‹å³é–‹å§‹æ·±åº¦è¨ºæ–·ï¼Œå¾æ•¸æ“šç²å–é–‹å§‹ï¼Œé€å±¤æª¢æŸ¥ç›´åˆ°ä¿¡è™Ÿç”Ÿæˆï¼Œæä¾›æ¯å€‹éšæ®µçš„è©³ç´°ç‹€æ…‹å’Œä»»ä½•ç™¼ç¾çš„å•é¡Œã€‚

é–‹å§‹æ·±åº¦è¨ºæ–·...

```

é€™å€‹ prompt æœƒè®“ Replit AI é€²è¡Œéå¸¸è©³ç´°çš„ç³»çµ±è¨ºæ–·ï¼Œå¾æ•¸æ“šæºé ­é–‹å§‹æª¢æŸ¥æ¯å€‹ç’°ç¯€ï¼Œå¹«åŠ©ä½ æ‰¾åˆ°ä¿¡è™Ÿç”Ÿæˆå¤±æ•—çš„æ ¹æœ¬åŸå› ã€‚
```