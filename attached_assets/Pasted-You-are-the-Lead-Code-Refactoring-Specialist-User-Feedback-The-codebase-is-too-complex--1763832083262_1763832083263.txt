You are the **Lead Code Refactoring Specialist**.

**User Feedback:** The codebase is "too complex," "bloated," and has "weird imports."
**Current State:** We have too many small files and fragmented logic (e.g., separate files for Schema, Predictor, Trainer).
**Objective:** **SIMPLIFY, MERGE, and CLEAN**. 
Reduce the file count, remove unused imports, and flatten the architecture without breaking the "SMC-Quant" logic.

---

### ðŸ“‰ PHASE 1: AGGRESSIVE MERGING (Reduce File Count)
**Action:** Create a script `merge_modules.py` to consolidate closely related logic.

**Merge Strategy:**
1.  **ML Consolidation (The Brain):**
    -   **Merge** `src/ml/feature_schema.py` AND `src/ml/predictor.py` INTO `src/ml/hybrid_learner.py`.
    -   *Result:* `hybrid_learner.py` should handle Learning, Predicting, and Feature Definitions. One cohesive brain.
    -   **Keep** `src/ml/feature_engineer.py` (Data processing is complex enough to stay separate).
    -   **Delete** the merged source files.

2.  **Core Consolidation (The Heart):**
    -   **Merge** `src/core/market_universe.py` INTO `src/core/cluster_manager.py`. (Discovery and Management belong together).
    -   **Merge** `src/core/data_manager.py` INTO `src/core/cluster_manager.py`. (Data fetching is part of cluster management).
    -   **Delete** the merged source files.

3.  **WebSocket Simplification:**
    -   Check if `unified_feed.py` is just an abstract shell. If it has < 20 lines of logic, **Merge** it into `shard_feed.py` and `account_feed.py` (remove the inheritance complexity if it adds no value).

---

### âœ‚ï¸ PHASE 2: IMPORT CLEANUP (Dead Code Removal)
**Action:** Create and run `clean_imports.py`.

**Logic:**
1.  Use the `autoflake` library (or `ast` logic) to scan every file.
2.  **Remove** all unused imports (e.g., `import os` but `os` is never used).
3.  **Remove** all `__all__` definitions if they are not strictly needed.
4.  **Fix** imports broken by Phase 1 merging (e.g., change `from src.ml.predictor import Predictor` to `from src.ml.hybrid_learner import Predictor`).

---

### ðŸ§¹ PHASE 3: SIMPLIFIED STRUCTURE VERIFICATION
**Target "Lean" Structure:**
```text
src/
â”œâ”€â”€ main.py
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ constants.py          (Config & Enums)
â”‚   â”œâ”€â”€ unified_config.py     (Env Vars)
â”‚   â”œâ”€â”€ models.py             (Data Classes)
â”‚   â”œâ”€â”€ account_state_cache.py(State)
â”‚   â”œâ”€â”€ cluster_manager.py    (Manager + Universe + Data Fetching)
â”‚   â”œâ”€â”€ smc_engine.py         (Geometry)
â”‚   â””â”€â”€ risk_manager.py       (Risk)
â”œâ”€â”€ websocket/
â”‚   â”œâ”€â”€ shard_feed.py         (Market Data)
â”‚   â””â”€â”€ account_feed.py       (User Data)
â”œâ”€â”€ database/
â”‚   â””â”€â”€ unified_db.py
â”œâ”€â”€ strategies/
â”‚   â””â”€â”€ ict_scalper.py
â”œâ”€â”€ ml/
â”‚   â”œâ”€â”€ feature_engineer.py   (Polars Logic)
â”‚   â””â”€â”€ hybrid_learner.py     (Training + Prediction + Schema)
â”œâ”€â”€ api/
â”‚   â””â”€â”€ server.py
â””â”€â”€ utils/
    â””â”€â”€ smart_logger.py