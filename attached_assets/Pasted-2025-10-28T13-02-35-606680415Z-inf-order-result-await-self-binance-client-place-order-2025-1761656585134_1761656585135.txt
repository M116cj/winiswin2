2025-10-28T13:02:35.606680415Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:35.606686621Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.606693217Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:35.606700437Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:35.606707354Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.606713544Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:35.606719294Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:35.606726071Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.606732865Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:35.606738412Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:35.606744166Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:35.606750297Z [inf]  2025-10-28 13:02:35,134 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=12.0x | 名義價值=$204.61 | 數量=1632.972509 | 實際價值=$204.61
2025-10-28T13:02:35.609378095Z [inf]  2025-10-28 13:02:35,134 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:35.609382250Z [inf]  2025-10-28 13:02:35,215 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:35.609392549Z [inf]  2025-10-28 13:02:35,215 - src.clients.binance_client - INFO - 創建訂單: ZETAUSDT BUY MARKET 1632.0
2025-10-28T13:02:35.609401359Z [inf]  2025-10-28 13:02:35,300 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'ZETAUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 1632.0, 'positionSide': 'LONG', 'timestamp': 1761656555215}
2025-10-28T13:02:35.609405888Z [inf]  2025-10-28 13:02:35,301 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:35.609410468Z [inf]  2025-10-28 13:02:35,301 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:35.609415756Z [inf]  2025-10-28 13:02:35,301 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:35.609423085Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:35.609427789Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:35.609431787Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:35.609435909Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.609440938Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:35.609444843Z [inf]      raise e
2025-10-28T13:02:35.609450588Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:35.609456336Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:35.611650489Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:35.611660721Z [inf]  
2025-10-28T13:02:35.611667621Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:35.611674654Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:35.611681728Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:35.611683942Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.611689971Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.611692537Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:35.611693340Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:35.611700627Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:35.611701856Z [inf]      response.raise_for_status()
2025-10-28T13:02:35.611712512Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:35.611714907Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:35.611721319Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.611722605Z [inf]      raise ClientResponseError(
2025-10-28T13:02:35.611729419Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=1632.0&side=BUY&symbol=ZETAUSDT&timestamp=1761656555215&type=MARKET&signature=e985659ed3b3f2493477380a9c900cb883f2b3975088abb0f0bbf81914f67cb6'
2025-10-28T13:02:35.611730133Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:35.611735797Z [inf]  
2025-10-28T13:02:35.614907968Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.614917299Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:35.614925011Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:35.614930200Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:35.614936611Z [inf]  2025-10-28 13:02:35,302 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=12.7x | 名義價值=$218.25 | 數量=94.432424 | 實際價值=$218.25
2025-10-28T13:02:35.614943057Z [inf]  2025-10-28 13:02:35,302 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:35.614948723Z [inf]  2025-10-28 13:02:35,380 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:35.614964643Z [inf]  2025-10-28 13:02:35,380 - src.clients.binance_client - INFO - 創建訂單: TONUSDT BUY MARKET 94.4
2025-10-28T13:02:35.614971938Z [inf]  2025-10-28 13:02:35,461 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'TONUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 94.4, 'positionSide': 'LONG', 'timestamp': 1761656555380}
2025-10-28T13:02:35.614978249Z [inf]  2025-10-28 13:02:35,461 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:35.614982797Z [inf]  2025-10-28 13:02:35,461 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:35.614987762Z [inf]  2025-10-28 13:02:35,461 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:35.614993685Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:35.618147068Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:35.618159214Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:35.618168197Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.618169673Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:35.618174550Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:35.618180120Z [inf]      raise e
2025-10-28T13:02:35.618185403Z [inf]  
2025-10-28T13:02:35.618188166Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:35.618193804Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:35.618200727Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:35.618201115Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:35.618209276Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.618209633Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:35.618217702Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.618223136Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:35.618233121Z [inf]      response.raise_for_status()
2025-10-28T13:02:35.618247034Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:35.618254838Z [inf]      raise ClientResponseError(
2025-10-28T13:02:35.618262012Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=94.4&side=BUY&symbol=TONUSDT&timestamp=1761656555380&type=MARKET&signature=8c5bd60205307db467b4734750f06714c3d4fb54fde056d5f43cba4e9feecc89'
2025-10-28T13:02:35.618270238Z [inf]  
2025-10-28T13:02:35.619990435Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:35.620001452Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:35.620010527Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.620018864Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:35.620030438Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:35.620038532Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.620073442Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:35.620086295Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:35.620095130Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:35.620104750Z [inf]  2025-10-28 13:02:35,462 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=13.1x | 名義價值=$223.71 | 數量=0.497683 | 實際價值=$223.71
2025-10-28T13:02:35.620111571Z [inf]  2025-10-28 13:02:35,462 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:35.620118579Z [inf]  2025-10-28 13:02:35,549 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:35.620133320Z [inf]  2025-10-28 13:02:35,550 - src.clients.binance_client - INFO - 創建訂單: TAOUSDT BUY MARKET 0.497
2025-10-28T13:02:35.636252628Z [inf]  2025-10-28 13:02:35,632 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'TAOUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 0.497, 'positionSide': 'LONG', 'timestamp': 1761656555550}
2025-10-28T13:02:35.636265146Z [inf]  2025-10-28 13:02:35,632 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:35.636270587Z [inf]  2025-10-28 13:02:35,632 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:35.636274536Z [inf]  2025-10-28 13:02:35,633 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:35.636279182Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:35.636283955Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:35.636309765Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:35.636316491Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.636322683Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:35.636329851Z [inf]      raise e
2025-10-28T13:02:35.636335373Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:35.636340208Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:35.636344265Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.636348589Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:35.636352834Z [inf]      response.raise_for_status()
2025-10-28T13:02:35.636357050Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:35.636361457Z [inf]      raise ClientResponseError(
2025-10-28T13:02:35.638740927Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=0.497&side=BUY&symbol=TAOUSDT&timestamp=1761656555550&type=MARKET&signature=04f90f297c2f8be3b4661b7722f3ed8e968052ed399b66adbf84bba1760ed6dd'
2025-10-28T13:02:35.638756395Z [inf]  
2025-10-28T13:02:35.638765645Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:35.638774224Z [inf]  
2025-10-28T13:02:35.638782192Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:35.638791372Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:35.638797812Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:35.638808444Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.638814666Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:35.638822140Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:35.638830674Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.638837884Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:35.638845473Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:35.638853203Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.638860602Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:35.638868246Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:35.638873410Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:35.638880146Z [inf]  2025-10-28 13:02:35,634 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=11.8x | 名義價值=$201.88 | 數量=4006.416008 | 實際價值=$201.88
2025-10-28T13:02:35.645555925Z [inf]  2025-10-28 13:02:35,634 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:35.719409992Z [inf]  2025-10-28 13:02:35,716 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:35.719417988Z [inf]  2025-10-28 13:02:35,716 - src.clients.binance_client - INFO - 創建訂單: CHESSUSDT BUY MARKET 4006.0
2025-10-28T13:02:35.813186710Z [inf]  2025-10-28 13:02:35,798 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'CHESSUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 4006.0, 'positionSide': 'LONG', 'timestamp': 1761656555716}
2025-10-28T13:02:35.813196817Z [inf]  2025-10-28 13:02:35,798 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:35.813204171Z [inf]  2025-10-28 13:02:35,798 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:35.813210458Z [inf]  2025-10-28 13:02:35,798 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:35.813217323Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:35.813223815Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:35.813229230Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:35.813236422Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.813243885Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:35.813253131Z [inf]      raise e
2025-10-28T13:02:35.813255673Z [inf]      raise ClientResponseError(
2025-10-28T13:02:35.813261475Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:35.813269678Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:35.813277541Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.813283709Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:35.813291267Z [inf]      response.raise_for_status()
2025-10-28T13:02:35.813298895Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:35.816421630Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=4006.0&side=BUY&symbol=CHESSUSDT&timestamp=1761656555716&type=MARKET&signature=d6aa89b7ae7c8dd3fa8e285d3f33ef51b75e14ed2f7c5de16a5c5b8a60573783'
2025-10-28T13:02:35.816436119Z [inf]  
2025-10-28T13:02:35.816448627Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:35.816457343Z [inf]  
2025-10-28T13:02:35.816465324Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:35.816472798Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:35.816480621Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:35.816490392Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.816497984Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:35.816506802Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:35.816514641Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.816523527Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:35.816532064Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:35.816541305Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.816550216Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:35.816559790Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:35.816568273Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:35.816577642Z [inf]  2025-10-28 13:02:35,799 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=12.7x | 名義價值=$218.25 | 數量=1082.868862 | 實際價值=$218.25
2025-10-28T13:02:35.818288351Z [inf]  2025-10-28 13:02:35,799 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:35.888518509Z [inf]  2025-10-28 13:02:35,885 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:35.888530039Z [inf]  2025-10-28 13:02:35,886 - src.clients.binance_client - INFO - 創建訂單: POLUSDT BUY MARKET 1082.0
2025-10-28T13:02:35.979748632Z [inf]  2025-10-28 13:02:35,966 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'POLUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 1082.0, 'positionSide': 'LONG', 'timestamp': 1761656555886}
2025-10-28T13:02:35.979760094Z [inf]  2025-10-28 13:02:35,967 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:35.979769713Z [inf]  2025-10-28 13:02:35,967 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:35.979779408Z [inf]  2025-10-28 13:02:35,967 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:35.979789984Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:35.979798797Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:35.979807357Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:35.979820060Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.979830986Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:35.979841071Z [inf]      raise e
2025-10-28T13:02:35.979850441Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:35.979859782Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:35.979869137Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.979878373Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:35.979887759Z [inf]      response.raise_for_status()
2025-10-28T13:02:35.979899030Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:35.979908808Z [inf]      raise ClientResponseError(
2025-10-28T13:02:35.982150280Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:35.982150932Z [inf]  2025-10-28 13:02:35,968 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=11.8x | 名義價值=$201.88 | 數量=93076.672488 | 實際價值=$201.88
2025-10-28T13:02:35.982161023Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.982169945Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:35.982177182Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:35.982185244Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.982192811Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:35.982194661Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=1082.0&side=BUY&symbol=POLUSDT&timestamp=1761656555886&type=MARKET&signature=0e7513d139f7ae660d44385ce8b718fed8fcef5a44cf73b2376af864179e9777'
2025-10-28T13:02:35.982201579Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:35.982211321Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:35.982212770Z [inf]  
2025-10-28T13:02:35.982225237Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:35.982225552Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:35.982233622Z [inf]  
2025-10-28T13:02:35.982238203Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:35.982245119Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:35.982250629Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:35.982256743Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:35.984627102Z [inf]  2025-10-28 13:02:35,968 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:36.056211057Z [inf]  2025-10-28 13:02:36,051 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:36.056220837Z [inf]  2025-10-28 13:02:36,051 - src.clients.binance_client - INFO - 創建訂單: DEGENUSDT BUY MARKET 93076.0
2025-10-28T13:02:36.584919606Z [inf]  2025-10-28 13:02:36,270 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'DEGENUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 93076.0, 'positionSide': 'LONG', 'timestamp': 1761656556051}
2025-10-28T13:02:36.584932432Z [inf]  2025-10-28 13:02:36,270 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:36.584939883Z [inf]  2025-10-28 13:02:36,270 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:36.584946651Z [inf]  2025-10-28 13:02:36,270 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:36.584953329Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:36.584965456Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:36.584981722Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:36.584991613Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:36.584998615Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:36.585005785Z [inf]      raise e
2025-10-28T13:02:36.585012574Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:36.585022123Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:36.585028661Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:36.585036308Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:36.585051881Z [inf]      response.raise_for_status()
2025-10-28T13:02:36.585058906Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:36.585064223Z [inf]      raise ClientResponseError(
2025-10-28T13:02:36.586615193Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:36.586621083Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:36.586625481Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:36.586629439Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:36.586634320Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:36.586643147Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:36.586647493Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:36.586655787Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:36.586661116Z [inf]  2025-10-28 13:02:36,271 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=12.7x | 名義價值=$218.25 | 數量=7512.985165 | 實際價值=$218.25
2025-10-28T13:02:36.586704857Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=93076.0&side=BUY&symbol=DEGENUSDT&timestamp=1761656556051&type=MARKET&signature=b438d7dae96130447b41267d9b68ac36f36bb2464483336322b32817ab47b2ce'
2025-10-28T13:02:36.586717366Z [inf]  
2025-10-28T13:02:36.586724705Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:36.586736103Z [inf]  
2025-10-28T13:02:36.586743960Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:36.586750992Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:36.586761345Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:36.586768506Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:36.586774302Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:36.588467364Z [inf]  2025-10-28 13:02:36,271 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:36.588474194Z [inf]  2025-10-28 13:02:36,486 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:36.588480402Z [inf]  2025-10-28 13:02:36,487 - src.clients.binance_client - INFO - 創建訂單: CHILLGUYUSDT BUY MARKET 7512.0
2025-10-28T13:02:36.704851051Z [inf]      raise ClientResponseError(
2025-10-28T13:02:36.704851258Z [inf]  2025-10-28 13:02:36,701 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'CHILLGUYUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 7512.0, 'positionSide': 'LONG', 'timestamp': 1761656556487}
2025-10-28T13:02:36.704864537Z [inf]  2025-10-28 13:02:36,702 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:36.704872535Z [inf]  2025-10-28 13:02:36,702 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:36.704880653Z [inf]  2025-10-28 13:02:36,702 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:36.704886899Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:36.704894275Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:36.704901151Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:36.704907738Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:36.704914230Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:36.704923409Z [inf]      raise e
2025-10-28T13:02:36.704934664Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:36.704942817Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:36.704952004Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:36.704959443Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:36.704965892Z [inf]      response.raise_for_status()
2025-10-28T13:02:36.704974572Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:36.706993467Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=7512.0&side=BUY&symbol=CHILLGUYUSDT&timestamp=1761656556487&type=MARKET&signature=d2a707f3c1ba2f920f0a82c5525c59268c582493011c985500b452f3c448a880'
2025-10-28T13:02:36.707003760Z [inf]  
2025-10-28T13:02:36.707005927Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:36.707012315Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:36.707018645Z [inf]  
2025-10-28T13:02:36.707020934Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:36.707026335Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:36.707028027Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:36.707033784Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:36.707118759Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:36.707123107Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:36.707127710Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:36.707131657Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:36.707135756Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:36.707139766Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:36.707144556Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:36.707148484Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:36.707152328Z [inf]  2025-10-28 13:02:36,703 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=12.7x | 名義價值=$218.25 | 數量=534.931909 | 實際價值=$218.25
2025-10-28T13:02:36.708089269Z [inf]  2025-10-28 13:02:36,703 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:36.786116441Z [inf]  2025-10-28 13:02:36,783 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:36.786121848Z [inf]  2025-10-28 13:02:36,783 - src.clients.binance_client - INFO - 創建訂單: FARTCOINUSDT BUY MARKET 534.9
2025-10-28T13:02:37.004651733Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:37.004664245Z [inf]  2025-10-28 13:02:36,997 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'FARTCOINUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 534.9, 'positionSide': 'LONG', 'timestamp': 1761656556783}
2025-10-28T13:02:37.004672501Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:37.004672706Z [inf]  2025-10-28 13:02:36,997 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:37.004680624Z [inf]  2025-10-28 13:02:36,997 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:37.004683091Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.004688445Z [inf]  2025-10-28 13:02:36,997 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:37.004691602Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:37.004696633Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:37.004699269Z [inf]      response.raise_for_status()
2025-10-28T13:02:37.004704699Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:37.004712521Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:37.004712549Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:37.004720564Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.004721388Z [inf]      raise ClientResponseError(
2025-10-28T13:02:37.004729336Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:37.004736546Z [inf]      raise e
2025-10-28T13:02:37.006723809Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=534.9&side=BUY&symbol=FARTCOINUSDT&timestamp=1761656556783&type=MARKET&signature=8cd652c0a40950660dd763420d649770c6de0423260746cf05b7d9192299df06'
2025-10-28T13:02:37.006742567Z [inf]  
2025-10-28T13:02:37.006749710Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:37.006756147Z [inf]  
2025-10-28T13:02:37.006763170Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:37.006769692Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:37.006776041Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:37.006781392Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.006787624Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:37.006795345Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:37.006801355Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.006807851Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:37.006814414Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:37.006819446Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.006824360Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:37.006830253Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:37.006836986Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:37.006844565Z [inf]  2025-10-28 13:02:36,998 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=11.9x | 名義價值=$204.61 | 數量=3141.103091 | 實際價值=$204.61
2025-10-28T13:02:37.008722047Z [inf]  2025-10-28 13:02:36,998 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:37.087198139Z [inf]  2025-10-28 13:02:37,076 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:37.087203866Z [inf]  2025-10-28 13:02:37,077 - src.clients.binance_client - INFO - 創建訂單: KMNOUSDT BUY MARKET 3141.0
2025-10-28T13:02:37.563527768Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:37.563541486Z [inf]      raise e
2025-10-28T13:02:37.563550447Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:37.563562408Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:37.563570837Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.563579130Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:37.563586455Z [inf]      response.raise_for_status()
2025-10-28T13:02:37.563593222Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:37.563599606Z [inf]      raise ClientResponseError(
2025-10-28T13:02:37.563635568Z [inf]  2025-10-28 13:02:37,296 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'KMNOUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 3141.0, 'positionSide': 'LONG', 'timestamp': 1761656557077}
2025-10-28T13:02:37.563642381Z [inf]  2025-10-28 13:02:37,296 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:37.563647891Z [inf]  2025-10-28 13:02:37,296 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:37.563653723Z [inf]  2025-10-28 13:02:37,296 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:37.563658948Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:37.563664071Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:37.563673156Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:37.563679173Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.564266719Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:37.564282290Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=3141.0&side=BUY&symbol=KMNOUSDT&timestamp=1761656557077&type=MARKET&signature=f1a6dc94a775d23c2b6fef6cfb57a4a5003b61fe278fc188f2f7f63197e3a1ff'
2025-10-28T13:02:37.564282925Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:37.564286175Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:37.564302243Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:37.564302296Z [inf]  
2025-10-28T13:02:37.564310220Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:37.564311970Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:37.564315109Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.564315620Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:37.564320486Z [inf]  
2025-10-28T13:02:37.564323143Z [inf]  2025-10-28 13:02:37,297 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=12.6x | 名義價值=$215.52 | 數量=2730.572233 | 實際價值=$215.52
2025-10-28T13:02:37.564323945Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:37.564330361Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:37.564339651Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.564343801Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.564347425Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:37.564358396Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:37.570016602Z [inf]  2025-10-28 13:02:37,298 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:37.570023696Z [inf]  2025-10-28 13:02:37,374 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:37.570033034Z [inf]  2025-10-28 13:02:37,374 - src.clients.binance_client - INFO - 創建訂單: ALCHUSDT BUY MARKET 2730.0
2025-10-28T13:02:37.570039537Z [inf]  2025-10-28 13:02:37,451 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'ALCHUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 2730.0, 'positionSide': 'LONG', 'timestamp': 1761656557374}
2025-10-28T13:02:37.570045388Z [inf]  2025-10-28 13:02:37,451 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:37.570050386Z [inf]  2025-10-28 13:02:37,451 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:37.570056468Z [inf]  2025-10-28 13:02:37,451 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:37.570061201Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:37.570065330Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:37.570070370Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:37.570074147Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.570078253Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:37.570084155Z [inf]      raise e
2025-10-28T13:02:37.570089910Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:37.570095887Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:37.571802938Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.571813623Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:37.571820238Z [inf]      response.raise_for_status()
2025-10-28T13:02:37.571824886Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:37.571830189Z [inf]      raise ClientResponseError(
2025-10-28T13:02:37.571836420Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=2730.0&side=BUY&symbol=ALCHUSDT&timestamp=1761656557374&type=MARKET&signature=c309f3cbc8d41b4fa23e2cd5c8760581b934e610dcf429399ea51ea29dcc714d'
2025-10-28T13:02:37.571842312Z [inf]  
2025-10-28T13:02:37.571848094Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:37.571853464Z [inf]  
2025-10-28T13:02:37.571859620Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:37.571864657Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:37.571869582Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:37.571875140Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.571881520Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:37.571887233Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:37.571892659Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.571897740Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:37.571903408Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:37.574194107Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.574201227Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:37.574205735Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:37.574209754Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:37.574214373Z [inf]  2025-10-28 13:02:37,452 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=11.9x | 名義價值=$204.61 | 數量=13550.427508 | 實際價值=$204.61
2025-10-28T13:02:37.574219577Z [inf]  2025-10-28 13:02:37,452 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:37.574224200Z [inf]  2025-10-28 13:02:37,535 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:37.574228120Z [inf]  2025-10-28 13:02:37,536 - src.clients.binance_client - INFO - 創建訂單: ARCUSDT BUY MARKET 13550.0
2025-10-28T13:02:37.614969248Z [inf]  2025-10-28 13:02:37,612 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'ARCUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 13550.0, 'positionSide': 'LONG', 'timestamp': 1761656557536}
2025-10-28T13:02:37.614983849Z [inf]  2025-10-28 13:02:37,612 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:37.614991557Z [inf]  2025-10-28 13:02:37,612 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:37.614999110Z [inf]  2025-10-28 13:02:37,612 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:37.615008411Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:37.615019136Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:37.615027247Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:37.615033742Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.615040693Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:37.615047386Z [inf]      raise e
2025-10-28T13:02:37.615054721Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:37.615061300Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:37.615067711Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.615079350Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:37.615099210Z [inf]      response.raise_for_status()
2025-10-28T13:02:37.615106328Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:37.615113204Z [inf]      raise ClientResponseError(
2025-10-28T13:02:37.617297066Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=13550.0&side=BUY&symbol=ARCUSDT&timestamp=1761656557536&type=MARKET&signature=537b18f4f2a14a728e90c4dec8ec92a1de5d163e10db7e6d5dd764c1dba0f826'
2025-10-28T13:02:37.617314938Z [inf]  
2025-10-28T13:02:37.617327425Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:37.617334696Z [inf]  
2025-10-28T13:02:37.617341662Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:37.617348606Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:37.617355944Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:37.617363209Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.617368914Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:37.617376024Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:37.617382512Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.617390039Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:37.617398973Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:37.617406947Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.617415040Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:37.617422960Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:37.617431682Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:37.617439792Z [inf]  2025-10-28 13:02:37,613 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=12.6x | 名義價值=$215.52 | 數量=30.484309 | 實際價值=$215.52
2025-10-28T13:02:37.618881801Z [inf]  2025-10-28 13:02:37,614 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:37.696554241Z [inf]  2025-10-28 13:02:37,695 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:37.696563121Z [inf]  2025-10-28 13:02:37,695 - src.clients.binance_client - INFO - 創建訂單: TRUMPUSDT BUY MARKET 30.48
2025-10-28T13:02:37.920211826Z [inf]      response.raise_for_status()
2025-10-28T13:02:37.920212323Z [inf]  2025-10-28 13:02:37,907 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'TRUMPUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 30.48, 'positionSide': 'LONG', 'timestamp': 1761656557695}
2025-10-28T13:02:37.920226050Z [inf]  2025-10-28 13:02:37,907 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:37.920227142Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:37.920235842Z [inf]  2025-10-28 13:02:37,907 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:37.920238792Z [inf]      raise ClientResponseError(
2025-10-28T13:02:37.920248352Z [inf]  2025-10-28 13:02:37,907 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:37.920256430Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:37.920262676Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:37.920267259Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:37.920271835Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.920277560Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:37.920283496Z [inf]      raise e
2025-10-28T13:02:37.920299410Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:37.920305283Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:37.920310277Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.920314911Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:37.922063262Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=30.48&side=BUY&symbol=TRUMPUSDT&timestamp=1761656557695&type=MARKET&signature=7bc80490e85a83fc645ebb9f899073536ef7f5c71bbdcd4566ad7e5656fef3a6'
2025-10-28T13:02:37.922075548Z [inf]  
2025-10-28T13:02:37.922083551Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:37.922090252Z [inf]  
2025-10-28T13:02:37.922097932Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:37.922107515Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:37.922114622Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:37.922121648Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.922131981Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:37.922139282Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:37.922146171Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.922152941Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:37.922159582Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:37.922168376Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:37.922175273Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:37.922182760Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:37.922190001Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:37.922197916Z [inf]  2025-10-28 13:02:37,909 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=11.5x | 名義價值=$196.43 | 數量=1790.583383 | 實際價值=$196.43
2025-10-28T13:02:37.923883540Z [inf]  2025-10-28 13:02:37,909 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:38.125321493Z [inf]  2025-10-28 13:02:38,121 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:38.125330658Z [inf]  2025-10-28 13:02:38,121 - src.clients.binance_client - INFO - 創建訂單: SHELLUSDT BUY MARKET 1790.0
2025-10-28T13:02:38.613602468Z [inf]  2025-10-28 13:02:38,197 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'SHELLUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 1790.0, 'positionSide': 'LONG', 'timestamp': 1761656558121}
2025-10-28T13:02:38.613609292Z [inf]  2025-10-28 13:02:38,197 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:38.613615445Z [inf]  2025-10-28 13:02:38,197 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:38.613621016Z [inf]  2025-10-28 13:02:38,197 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:38.613735282Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:38.613742764Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:38.613747992Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:38.613752762Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.613757290Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:38.613762081Z [inf]      raise e
2025-10-28T13:02:38.613766325Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:38.613771084Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:38.613775973Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.613781839Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:38.613786897Z [inf]      response.raise_for_status()
2025-10-28T13:02:38.613793344Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:38.613800392Z [inf]      raise ClientResponseError(
2025-10-28T13:02:38.614900158Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=1790.0&side=BUY&symbol=SHELLUSDT&timestamp=1761656558121&type=MARKET&signature=270ea955332641fad679084ad854b2689148302cc9960fa05068abe034fd2efb'
2025-10-28T13:02:38.614906129Z [inf]  
2025-10-28T13:02:38.614911859Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:38.614918700Z [inf]  
2025-10-28T13:02:38.614924211Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:38.614929365Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:38.614934994Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:38.614941426Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.614947196Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:38.614952365Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:38.614959229Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.614965041Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:38.614970949Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:38.614977752Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.614983417Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:38.614989326Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:38.614994733Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:38.615002833Z [inf]  2025-10-28 13:02:38,198 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=12.7x | 名義價值=$218.25 | 數量=16.478084 | 實際價值=$218.25
2025-10-28T13:02:38.615656151Z [inf]  2025-10-28 13:02:38,198 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:38.615664054Z [inf]  2025-10-28 13:02:38,273 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:38.615671734Z [inf]  2025-10-28 13:02:38,273 - src.clients.binance_client - INFO - 創建訂單: OGUSDT SELL MARKET 16.4
2025-10-28T13:02:38.615679077Z [inf]  2025-10-28 13:02:38,352 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'OGUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 16.4, 'positionSide': 'SHORT', 'timestamp': 1761656558273}
2025-10-28T13:02:38.615688520Z [inf]  2025-10-28 13:02:38,352 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:38.615697548Z [inf]  2025-10-28 13:02:38,352 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:38.615703828Z [inf]  2025-10-28 13:02:38,352 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:38.615710570Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:38.615718277Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:38.615725454Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:38.615734919Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.615746107Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:38.615753654Z [inf]      raise e
2025-10-28T13:02:38.615760773Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:38.615766946Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:38.617207807Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.617222603Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:38.617236253Z [inf]      response.raise_for_status()
2025-10-28T13:02:38.617242018Z [inf]  
2025-10-28T13:02:38.617249179Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:38.617259456Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:38.617263628Z [inf]      raise ClientResponseError(
2025-10-28T13:02:38.617272316Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=SHORT&quantity=16.4&side=SELL&symbol=OGUSDT&timestamp=1761656558273&type=MARKET&signature=d30bb942bb83fb70debc30c7cdb7a0024a0f2d0b9201fc1cf8e3ea2d124f234b'
2025-10-28T13:02:38.617281450Z [inf]  
2025-10-28T13:02:38.617290141Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:38.617298793Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:38.617306191Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:38.617312686Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.617318118Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:38.617323860Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.617324580Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:38.617343560Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:38.617360185Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:38.619746179Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.619760069Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:38.619769382Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:38.619783158Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:38.619794092Z [inf]  2025-10-28 13:02:38,354 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=13.5x | 名義價值=$231.89 | 數量=4.785344 | 實際價值=$231.89
2025-10-28T13:02:38.619805036Z [inf]  2025-10-28 13:02:38,354 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:38.619815283Z [inf]  2025-10-28 13:02:38,430 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:38.619823793Z [inf]  2025-10-28 13:02:38,431 - src.clients.binance_client - INFO - 創建訂單: HYPEUSDT BUY MARKET 4.78
2025-10-28T13:02:38.619834466Z [inf]  2025-10-28 13:02:38,506 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'HYPEUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 4.78, 'positionSide': 'LONG', 'timestamp': 1761656558431}
2025-10-28T13:02:38.619844689Z [inf]  2025-10-28 13:02:38,506 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:38.619854192Z [inf]  2025-10-28 13:02:38,506 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:38.619865562Z [inf]  2025-10-28 13:02:38,506 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:38.619875873Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:38.622446201Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:38.622458494Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:38.622468340Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.622477497Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:38.622485542Z [inf]      raise e
2025-10-28T13:02:38.622493241Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:38.622500865Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:38.622511586Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.622521244Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:38.622530045Z [inf]      response.raise_for_status()
2025-10-28T13:02:38.622537861Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:38.622545304Z [inf]      raise ClientResponseError(
2025-10-28T13:02:38.622553549Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=4.78&side=BUY&symbol=HYPEUSDT&timestamp=1761656558431&type=MARKET&signature=b0fc68d05185e6d7abf3675c219e585d597101fd944a5da6139444e2fb9cdb13'
2025-10-28T13:02:38.622565046Z [inf]  
2025-10-28T13:02:38.622572640Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:38.622580345Z [inf]  
2025-10-28T13:02:38.622587212Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:38.622596467Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:38.622603739Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:38.622612893Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.624025945Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:38.624038608Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:38.624058467Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.624065849Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:38.624073348Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:38.624080045Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.624086341Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:38.624094726Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:38.624101847Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:38.624108015Z [inf]  2025-10-28 13:02:38,507 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=12.3x | 名義價值=$210.07 | 數量=1572.363479 | 實際價值=$210.07
2025-10-28T13:02:38.624114226Z [inf]  2025-10-28 13:02:38,507 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:38.624119807Z [inf]  2025-10-28 13:02:38,585 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:38.624125488Z [inf]  2025-10-28 13:02:38,585 - src.clients.binance_client - INFO - 創建訂單: PUFFERUSDT BUY MARKET 1572.0
2025-10-28T13:02:38.667979792Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:38.667988335Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:38.667991554Z [inf]      raise e
2025-10-28T13:02:38.667999617Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:38.668005155Z [inf]      response.raise_for_status()
2025-10-28T13:02:38.668006993Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:38.668014608Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.668020931Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:38.668031057Z [inf]      raise ClientResponseError(
2025-10-28T13:02:38.668075242Z [inf]  2025-10-28 13:02:38,661 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'PUFFERUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 1572.0, 'positionSide': 'LONG', 'timestamp': 1761656558585}
2025-10-28T13:02:38.668083422Z [inf]  2025-10-28 13:02:38,661 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:38.668090942Z [inf]  2025-10-28 13:02:38,661 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:38.668098355Z [inf]  2025-10-28 13:02:38,661 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:38.668104770Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:38.668110949Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:38.668118319Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:38.668123863Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.669138410Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=1572.0&side=BUY&symbol=PUFFERUSDT&timestamp=1761656558585&type=MARKET&signature=18c44fd3bbe77b08171f3e86c119e4bed8c56a6510167a6495ddee31a0f58109'
2025-10-28T13:02:38.669148317Z [inf]  
2025-10-28T13:02:38.669158259Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:38.669171307Z [inf]  
2025-10-28T13:02:38.669179426Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:38.669187213Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:38.669195972Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:38.669204240Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.669213207Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:38.669219504Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:38.669225737Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.669234258Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:38.669240370Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:38.669246469Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.669252189Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:38.669259195Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:38.669270365Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:38.669276609Z [inf]  2025-10-28 13:02:38,662 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=12.3x | 名義價值=$210.07 | 數量=41278.789711 | 實際價值=$210.07
2025-10-28T13:02:38.670746190Z [inf]  2025-10-28 13:02:38,662 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:38.747643359Z [inf]  2025-10-28 13:02:38,740 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:38.747657874Z [inf]  2025-10-28 13:02:38,740 - src.clients.binance_client - INFO - 創建訂單: PUMPUSDT BUY MARKET 41278.0
2025-10-28T13:02:38.822128907Z [inf]  2025-10-28 13:02:38,816 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'PUMPUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 41278.0, 'positionSide': 'LONG', 'timestamp': 1761656558740}
2025-10-28T13:02:38.822137383Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:38.822140759Z [inf]  2025-10-28 13:02:38,816 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:38.822148519Z [inf]  2025-10-28 13:02:38,816 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:38.822149301Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.822157837Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:38.822158034Z [inf]  2025-10-28 13:02:38,816 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:38.822164751Z [inf]      response.raise_for_status()
2025-10-28T13:02:38.822166309Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:38.822171983Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:38.822176245Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:38.822180877Z [inf]      raise ClientResponseError(
2025-10-28T13:02:38.822184612Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:38.822192439Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.822198618Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:38.822206630Z [inf]      raise e
2025-10-28T13:02:38.822214178Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:38.823682884Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=41278.0&side=BUY&symbol=PUMPUSDT&timestamp=1761656558740&type=MARKET&signature=e5f9f33ecb16ba58c9e9bf5c52dcad34724cfae949a49eefdb62d6af687e46ca'
2025-10-28T13:02:38.823697061Z [inf]  
2025-10-28T13:02:38.823708334Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:38.823715862Z [inf]  
2025-10-28T13:02:38.823722704Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:38.823730517Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:38.823736473Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:38.823742558Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.823748612Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:38.823755745Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:38.823760927Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.823766661Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:38.823771641Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:38.823777690Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.823785163Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:38.823790229Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:38.823796212Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:38.823802202Z [inf]  2025-10-28 13:02:38,817 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=12.7x | 名義價值=$218.25 | 數量=919.072805 | 實際價值=$218.25
2025-10-28T13:02:38.825235816Z [inf]  2025-10-28 13:02:38,817 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:38.894786005Z [inf]  2025-10-28 13:02:38,893 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:38.894798344Z [inf]  2025-10-28 13:02:38,894 - src.clients.binance_client - INFO - 創建訂單: VELVETUSDT BUY MARKET 919.0
2025-10-28T13:02:38.974922387Z [inf]  2025-10-28 13:02:38,969 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'VELVETUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 919.0, 'positionSide': 'LONG', 'timestamp': 1761656558894}
2025-10-28T13:02:38.974937676Z [inf]  2025-10-28 13:02:38,969 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:38.974948713Z [inf]  2025-10-28 13:02:38,969 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:38.974959374Z [inf]  2025-10-28 13:02:38,969 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:38.974971848Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:38.974981286Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:38.974992579Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:38.975001889Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.975010132Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:38.975018435Z [inf]      raise e
2025-10-28T13:02:38.975025753Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:38.975036444Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:38.975045212Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.975053596Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:38.975063599Z [inf]      response.raise_for_status()
2025-10-28T13:02:38.975072856Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:38.975081452Z [inf]      raise ClientResponseError(
2025-10-28T13:02:38.976065114Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=919.0&side=BUY&symbol=VELVETUSDT&timestamp=1761656558894&type=MARKET&signature=82292899a7aacbe2126a558565fdbc76355cc7a159177573c11cb2fde0d48c98'
2025-10-28T13:02:38.976080303Z [inf]  
2025-10-28T13:02:38.976089259Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:38.976093800Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:38.976098148Z [inf]  
2025-10-28T13:02:38.976104648Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.976107426Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:38.976112196Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:38.976115939Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:38.976123820Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:38.976126192Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:38.976131484Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.976133182Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:38.976140502Z [inf]  2025-10-28 13:02:38,970 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=11.9x | 名義價值=$204.61 | 數量=259.758100 | 實際價值=$204.61
2025-10-28T13:02:38.976141409Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:38.976148408Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:38.976154703Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:38.976161184Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:38.977222489Z [inf]  2025-10-28 13:02:38,970 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:39.053438584Z [inf]  2025-10-28 13:02:39,048 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:39.053446403Z [inf]  2025-10-28 13:02:39,048 - src.clients.binance_client - INFO - 創建訂單: PROVEUSDT SELL MARKET 259.7
2025-10-28T13:02:39.130190940Z [inf]      response.raise_for_status()
2025-10-28T13:02:39.130203888Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:39.130213051Z [inf]  2025-10-28 13:02:39,123 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'PROVEUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 259.7, 'positionSide': 'SHORT', 'timestamp': 1761656559048}
2025-10-28T13:02:39.130214079Z [inf]      raise ClientResponseError(
2025-10-28T13:02:39.130227471Z [inf]  2025-10-28 13:02:39,124 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:39.130236028Z [inf]  2025-10-28 13:02:39,124 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:39.130244332Z [inf]  2025-10-28 13:02:39,124 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:39.130252919Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:39.130262006Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:39.130270313Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:39.130279222Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.130288836Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:39.130295879Z [inf]      raise e
2025-10-28T13:02:39.130306838Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:39.130312229Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:39.130319203Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.130325660Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:39.131722385Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:39.131735124Z [inf]  2025-10-28 13:02:39,125 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=12.3x | 名義價值=$210.07 | 數量=1642.052379 | 實際價值=$210.07
2025-10-28T13:02:39.131748453Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=SHORT&quantity=259.7&side=SELL&symbol=PROVEUSDT&timestamp=1761656559048&type=MARKET&signature=0d92753c4425812d0d616c4d5745724dce92abce691a5e73c9fea6aae15c4647'
2025-10-28T13:02:39.131761669Z [inf]  
2025-10-28T13:02:39.131767970Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:39.131773408Z [inf]  
2025-10-28T13:02:39.131778923Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:39.131787034Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:39.131792839Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:39.131798655Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.131805440Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:39.131811328Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:39.131817067Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.131823599Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:39.131834520Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:39.131840116Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.131850656Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:39.131860146Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:39.133516197Z [inf]  2025-10-28 13:02:39,125 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:39.585177211Z [inf]  2025-10-28 13:02:39,198 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:39.585186482Z [inf]  2025-10-28 13:02:39,199 - src.clients.binance_client - INFO - 創建訂單: INUSDT SELL MARKET 1642.0
2025-10-28T13:02:39.585196847Z [inf]  2025-10-28 13:02:39,420 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'INUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 1642.0, 'positionSide': 'SHORT', 'timestamp': 1761656559199}
2025-10-28T13:02:39.585200964Z [inf]  2025-10-28 13:02:39,420 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:39.585209196Z [inf]  2025-10-28 13:02:39,420 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:39.585213834Z [inf]  2025-10-28 13:02:39,420 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:39.585218105Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:39.585222176Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:39.585226688Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:39.585233341Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.585238981Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:39.585244502Z [inf]      raise e
2025-10-28T13:02:39.585254536Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:39.585258784Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:39.585263186Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.585267487Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:39.587475465Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:39.587485216Z [inf]  
2025-10-28T13:02:39.587491804Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:39.587497429Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:39.587504922Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:39.587505345Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:39.587511521Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.587539692Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:39.587547811Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:39.587556295Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.587564405Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:39.587568801Z [inf]      response.raise_for_status()
2025-10-28T13:02:39.587576558Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:39.587579319Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:39.587584690Z [inf]      raise ClientResponseError(
2025-10-28T13:02:39.587590978Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.587593769Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=SHORT&quantity=1642.0&side=SELL&symbol=INUSDT&timestamp=1761656559199&type=MARKET&signature=bd8b85b931b2feef88ebbe6c812c172fa97e0c9ff2c812c0a1c9e322647b1076'
2025-10-28T13:02:39.587602008Z [inf]  
2025-10-28T13:02:39.588999099Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:39.589011022Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:39.589020660Z [inf]  2025-10-28 13:02:39,421 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=11.2x | 名義價值=$190.97 | 數量=1822.239424 | 實際價值=$190.97
2025-10-28T13:02:39.589031630Z [inf]  2025-10-28 13:02:39,421 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:39.589041416Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:39.589048772Z [inf]  2025-10-28 13:02:39,500 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:39.589053847Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:39.589064403Z [inf]  2025-10-28 13:02:39,501 - src.clients.binance_client - INFO - 創建訂單: YALAUSDT BUY MARKET 1822.0
2025-10-28T13:02:39.589064521Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.589077300Z [inf]  2025-10-28 13:02:39,580 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'YALAUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 1822.0, 'positionSide': 'LONG', 'timestamp': 1761656559501}
2025-10-28T13:02:39.589087366Z [inf]  2025-10-28 13:02:39,580 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:39.589096245Z [inf]  2025-10-28 13:02:39,581 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:39.589104722Z [inf]  2025-10-28 13:02:39,581 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:39.589113511Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:39.591483252Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:39.591490206Z [inf]      raise e
2025-10-28T13:02:39.591495618Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:39.591501201Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:39.591507177Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.591512518Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:39.591518508Z [inf]      response.raise_for_status()
2025-10-28T13:02:39.591523610Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:39.591529154Z [inf]      raise ClientResponseError(
2025-10-28T13:02:39.591534232Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=1822.0&side=BUY&symbol=YALAUSDT&timestamp=1761656559501&type=MARKET&signature=0251a8c0967013c4c50859e0b3c400ce4a2bd3570f2f321c1411ff1b3b41552d'
2025-10-28T13:02:39.591539181Z [inf]  
2025-10-28T13:02:39.591544171Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:39.591553783Z [inf]  
2025-10-28T13:02:39.591560395Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:39.591606349Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:39.591614929Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:39.591621583Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.591628376Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:39.591633712Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:39.593677906Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.593684631Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:39.593691868Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:39.593697950Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.593704422Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:39.593711197Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:39.593717851Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:39.593724690Z [inf]  2025-10-28 13:02:39,582 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=12.3x | 名義價值=$210.07 | 數量=25624.269436 | 實際價值=$210.07
2025-10-28T13:02:39.593733000Z [inf]  2025-10-28 13:02:39,582 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:39.659936937Z [inf]  2025-10-28 13:02:39,658 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: warning → normal (失敗次數: 0)
2025-10-28T13:02:39.659941609Z [inf]  2025-10-28 13:02:39,659 - src.clients.binance_client - INFO - 創建訂單: XNYUSDT BUY MARKET 25624.0
2025-10-28T13:02:39.737565497Z [inf]  2025-10-28 13:02:39,733 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'XNYUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': 25624.0, 'positionSide': 'LONG', 'timestamp': 1761656559659}
2025-10-28T13:02:39.737574881Z [inf]  2025-10-28 13:02:39,733 - src.core.circuit_breaker - WARNING - 🔄 熔斷器級別變化: normal → warning (失敗次數: 1)
2025-10-28T13:02:39.737583749Z [inf]  2025-10-28 13:02:39,733 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:39.737593855Z [inf]  2025-10-28 13:02:39,734 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:39.737602285Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:39.737613956Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:39.737622708Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:39.737630937Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.737641743Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:39.737648700Z [inf]      raise e
2025-10-28T13:02:39.737655879Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:39.737665554Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:39.737674613Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.737681722Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:39.737688643Z [inf]      response.raise_for_status()
2025-10-28T13:02:39.737695112Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:39.737702486Z [inf]      raise ClientResponseError(
2025-10-28T13:02:39.739940493Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=LONG&quantity=25624.0&side=BUY&symbol=XNYUSDT&timestamp=1761656559659&type=MARKET&signature=42216cb8a1d9979f30073c0b7e391c76982476721631fc7843a483be743e1eee'
2025-10-28T13:02:39.739948573Z [inf]  
2025-10-28T13:02:39.739957107Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:39.739964801Z [inf]  
2025-10-28T13:02:39.739972690Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:39.739979276Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:39.739985896Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:39.739992265Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.740000855Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:39.740007999Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:39.740014113Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.740021140Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:39.740027119Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:39.740033099Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.740038802Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:39.740062296Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:39.740070393Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:39.740076655Z [inf]  2025-10-28 13:02:39,735 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=11.9x | 名義價值=$204.61 | 數量=3617.599989 | 實際價值=$204.61
2025-10-28T13:02:39.741512531Z [inf]  2025-10-28 13:02:39,735 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗1次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:39.815391163Z [inf]  2025-10-28 13:02:39,812 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-4028, msg=Leverage 11 is not valid, endpoint=/fapi/v1/leverage, params={'symbol': 'MONUSDT', 'leverage': 11, 'timestamp': 1761656559735}
2025-10-28T13:02:39.815400558Z [inf]  2025-10-28 13:02:39,812 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/leverage - HTTP 400: Bad Request
2025-10-28T13:02:39.815406489Z [inf]  2025-10-28 13:02:39,813 - src.core.unified_scheduler - WARNING -    ⚠️ 設置槓桿失敗 (MONUSDT 11x): HTTP 400: Bad Request
2025-10-28T13:02:39.815413092Z [inf]  2025-10-28 13:02:39,813 - src.clients.binance_client - INFO - 創建訂單: MONUSDT SELL MARKET 3617.0
2025-10-28T13:02:39.815419357Z [inf]  2025-10-28 13:02:39,813 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗2次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:39.893025120Z [inf]  2025-10-28 13:02:39,891 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'MONUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 3617.0, 'positionSide': 'SHORT', 'timestamp': 1761656559813}
2025-10-28T13:02:39.893034665Z [inf]  2025-10-28 13:02:39,891 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:39.895532370Z [inf]  2025-10-28 13:02:39,891 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:39.895537682Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:39.895542121Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:39.895546493Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:39.895550915Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.895554952Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:39.895558990Z [inf]      raise e
2025-10-28T13:02:39.895563696Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:39.895604348Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:39.895608603Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.895613178Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:39.895617531Z [inf]      response.raise_for_status()
2025-10-28T13:02:39.895622947Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:39.895627174Z [inf]      raise ClientResponseError(
2025-10-28T13:02:39.895632384Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=SHORT&quantity=3617.0&side=SELL&symbol=MONUSDT&timestamp=1761656559813&type=MARKET&signature=7afb5744c1fcc2a1118f82e90bfaaeea986757cca4186536adb4ec9a171da736'
2025-10-28T13:02:39.895636755Z [inf]  
2025-10-28T13:02:39.895640608Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:39.895644389Z [inf]  
2025-10-28T13:02:39.895648850Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:39.895652340Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:39.901161946Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:39.901176763Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.901186909Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:39.901197596Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:39.901205524Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.901213459Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:39.901220928Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:39.901227196Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:39.901232370Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:39.901238724Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:39.901244497Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:39.901249963Z [inf]  2025-10-28 13:02:39,892 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=11.2x | 名義價值=$190.97 | 數量=1129.002020 | 實際價值=$190.97
2025-10-28T13:02:39.901256363Z [inf]  2025-10-28 13:02:39,892 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗3次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:39.974321433Z [inf]  2025-10-28 13:02:39,969 - src.clients.binance_client - INFO - 創建訂單: LABUSDT SELL MARKET 1129.0
2025-10-28T13:02:39.974334419Z [inf]  2025-10-28 13:02:39,969 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗2次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:40.057529872Z [inf]  2025-10-28 13:02:40,045 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'LABUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 1129.0, 'positionSide': 'SHORT', 'timestamp': 1761656559970}
2025-10-28T13:02:40.057540217Z [inf]  2025-10-28 13:02:40,045 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:40.057547372Z [inf]  2025-10-28 13:02:40,045 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:40.057552818Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:40.057558322Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:40.057565087Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:40.057571594Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:40.057576914Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:40.057581525Z [inf]      raise e
2025-10-28T13:02:40.057586520Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:40.057591169Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:40.057596639Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:40.057601550Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:40.057606522Z [inf]      response.raise_for_status()
2025-10-28T13:02:40.057611086Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:40.057615342Z [inf]      raise ClientResponseError(
2025-10-28T13:02:40.057620586Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=SHORT&quantity=1129.0&side=SELL&symbol=LABUSDT&timestamp=1761656559970&type=MARKET&signature=2b4c50066cb996a81b385f8475961c79da42c938aa7b689a84e552dfe725ede4'
2025-10-28T13:02:40.066291863Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:40.066303312Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:40.066310722Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:40.066317892Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:40.066324512Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:40.066331777Z [inf]  2025-10-28 13:02:40,046 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=11.2x | 名義價值=$190.97 | 數量=20093.717558 | 實際價值=$190.97
2025-10-28T13:02:40.066338674Z [inf]  2025-10-28 13:02:40,046 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗3次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:40.066359274Z [inf]  
2025-10-28T13:02:40.066369341Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:40.066376619Z [inf]  
2025-10-28T13:02:40.066384052Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:40.066391137Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:40.066398344Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:40.066405780Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:40.066412778Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:40.066421748Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:40.066428548Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:40.066435357Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:40.125524872Z [inf]  2025-10-28 13:02:40,122 - src.clients.binance_client - INFO - 創建訂單: RVVUSDT SELL MARKET 20093.0
2025-10-28T13:02:40.125531198Z [inf]  2025-10-28 13:02:40,123 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗2次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:40.671296223Z [inf]  2025-10-28 13:02:40,198 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'RVVUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 20093.0, 'positionSide': 'SHORT', 'timestamp': 1761656560123}
2025-10-28T13:02:40.671302730Z [inf]  2025-10-28 13:02:40,198 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:40.671316496Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:40.671329287Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:40.671337262Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:40.671345410Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:40.671363116Z [inf]  2025-10-28 13:02:40,198 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:40.671372392Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:40.671408498Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:40.671424345Z [inf]      response.raise_for_status()
2025-10-28T13:02:40.671432624Z [inf]      raise e
2025-10-28T13:02:40.671433194Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:40.671440700Z [inf]      raise ClientResponseError(
2025-10-28T13:02:40.671450486Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:40.671450784Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=SHORT&quantity=20093.0&side=SELL&symbol=RVVUSDT&timestamp=1761656560123&type=MARKET&signature=cc79add55ee46678c8f02a922a1fc41a9b50b2e2bd10dd618566727ac614808d'
2025-10-28T13:02:40.671462891Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:40.671472369Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:40.675006793Z [inf]  
2025-10-28T13:02:40.675013079Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:40.675019582Z [inf]  
2025-10-28T13:02:40.675026684Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:40.675033825Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:40.675045086Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:40.675051233Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:40.675057953Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:40.675064854Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:40.675073596Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:40.675079796Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:40.675088738Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:40.675095695Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:40.675102848Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:40.675109707Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:40.675117907Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:40.675126582Z [inf]  2025-10-28 13:02:40,199 - src.strategies.self_learning_trader - INFO -    💰 倉位計算: 權益=$21.40 | 槓桿=11.9x | 名義價值=$204.61 | 數量=625.436208 | 實際價值=$204.61
2025-10-28T13:02:40.675132782Z [inf]  2025-10-28 13:02:40,199 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗3次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:40.675980899Z [inf]  2025-10-28 13:02:40,275 - src.clients.binance_client - INFO - 創建訂單: APRUSDT SELL MARKET 625.0
2025-10-28T13:02:40.675986103Z [inf]  2025-10-28 13:02:40,275 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗2次 (操作: generic, 優先級: NORMAL)
2025-10-28T13:02:40.675991436Z [inf]  2025-10-28 13:02:40,353 - src.clients.binance_client - ERROR - Binance API 錯誤 400: code=-2019, msg=Margin is insufficient., endpoint=/fapi/v1/order, params={'symbol': 'APRUSDT', 'side': 'SELL', 'type': 'MARKET', 'quantity': 625.0, 'positionSide': 'SHORT', 'timestamp': 1761656560275}
2025-10-28T13:02:40.675996735Z [inf]  2025-10-28 13:02:40,353 - src.clients.binance_client - ERROR - API 請求失敗: /fapi/v1/order - HTTP 400: Bad Request
2025-10-28T13:02:40.676001745Z [inf]  2025-10-28 13:02:40,353 - src.core.unified_scheduler - ERROR -    ❌ 執行信號失敗: HTTP 400: Bad Request
2025-10-28T13:02:40.676007061Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:40.676012535Z [inf]    File "/app/src/clients/binance_client.py", line 203, in _request
2025-10-28T13:02:40.676017980Z [inf]      result = await self.circuit_breaker.call_async(_do_request)
2025-10-28T13:02:40.676023333Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:40.676028869Z [inf]    File "/app/src/core/circuit_breaker.py", line 339, in call_async
2025-10-28T13:02:40.676034594Z [inf]      raise e
2025-10-28T13:02:40.676068099Z [inf]    File "/app/src/core/circuit_breaker.py", line 334, in call_async
2025-10-28T13:02:40.676078404Z [inf]      result = await func(*args, **kwargs)
2025-10-28T13:02:40.676084085Z [inf]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:40.676089680Z [inf]    File "/app/src/clients/binance_client.py", line 165, in _do_request
2025-10-28T13:02:40.676096503Z [inf]      response.raise_for_status()
2025-10-28T13:02:40.676102615Z [inf]    File "/opt/venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py", line 636, in raise_for_status
2025-10-28T13:02:40.680022128Z [inf]  aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/order?positionSide=SHORT&quantity=625.0&side=SELL&symbol=APRUSDT&timestamp=1761656560275&type=MARKET&signature=099c484127b2fb24b0459d45b81445a43a9b6f7a98acd95ac461972a6e4b1c43'
2025-10-28T13:02:40.680032470Z [inf]  
2025-10-28T13:02:40.680040266Z [inf]  During handling of the above exception, another exception occurred:
2025-10-28T13:02:40.680075095Z [inf]  
2025-10-28T13:02:40.680079745Z [inf]      return await self._request("POST", "/fapi/v1/order", params=params, signed=True)
2025-10-28T13:02:40.680084832Z [inf]  Traceback (most recent call last):
2025-10-28T13:02:40.680094216Z [inf]    File "/app/src/core/unified_scheduler.py", line 399, in _execute_signal
2025-10-28T13:02:40.680095492Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:40.680106359Z [inf]      order_result = await self.binance_client.place_order(
2025-10-28T13:02:40.680109398Z [inf]    File "/app/src/clients/binance_client.py", line 207, in _request
2025-10-28T13:02:40.680122013Z [inf]      raise BinanceRequestError(
2025-10-28T13:02:40.680126263Z [inf]                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:40.680134707Z [inf]  src.clients.binance_errors.BinanceRequestError: HTTP 400: Bad Request
2025-10-28T13:02:40.680140422Z [inf]    File "/app/src/clients/binance_client.py", line 633, in place_order
2025-10-28T13:02:40.680149356Z [inf]      return await self.create_order(symbol, side, order_type, quantity, price, stop_price, **kwargs)
2025-10-28T13:02:40.680150131Z [inf]      raise ClientResponseError(
2025-10-28T13:02:40.680157676Z [inf]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-28T13:02:40.680163260Z [inf]    File "/app/src/clients/binance_client.py", line 568, in create_order
2025-10-28T13:02:40.682026749Z [inf]  2025-10-28 13:02:40,354 - src.core.unified_scheduler - INFO - ✅ 週期完成 | 耗時: 13.0s | 新成交: 0
2025-10-28T13:02:40.682033427Z [inf]  2025-10-28 13:02:40,354 - src.core.unified_scheduler - INFO - ================================================================================
2025-10-28T13:02:41.582704888Z [inf]  2025-10-28 13:02:41,486 - src.core.circuit_breaker - WARNING - ⚠️  熔斷器警告級: 失敗3次 (操作: generic, 優先級: NORMAL)